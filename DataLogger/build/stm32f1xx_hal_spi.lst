ARM GAS  /tmp/ccA9MgmD.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f1xx_hal_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c"
  18              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	SPI_AbortRx_ISR:
  25              	.LVL0:
  26              	.LFB118:
   1:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
   2:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @file    stm32f1xx_hal_spi.c
   4:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
  13:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @attention
  14:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  15:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * Copyright (c) 2016 STMicroelectronics.
  16:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * All rights reserved.
  17:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  18:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  19:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * in the root directory of this software component.
  20:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  21:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
  22:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ******************************************************************************
  23:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @verbatim
  24:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  25:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                         ##### How to use this driver #####
  26:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
  27:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
  28:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  29:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  30:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  31:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  32:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 2


  33:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  34:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  35:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) SPI pins configuration
  36:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  37:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  38:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  39:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  40:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  41:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  42:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  43:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Enable the DMAx clock
  44:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  45:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  46:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  47:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  48:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                     or Rx Stream/Channel
  49:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  50:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  51:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  52:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  53:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  54:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  55:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  56:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  57:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Circular mode restriction:
  58:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  59:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  60:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) Master 1Line Rx
  61:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  62:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  63:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  64:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  65:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Master Receive mode restriction:
  66:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  67:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  68:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  69:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  70:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           (##) HAL_SPI_Init()
  71:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
  72:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Callback registration:
  73:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  74:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  75:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  76:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  77:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  78:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  79:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  80:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  81:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  82:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  83:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  84:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  85:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  86:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  87:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  88:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  89:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
ARM GAS  /tmp/ccA9MgmD.s 			page 3


  90:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           and a pointer to the user callback function.
  91:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  92:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
  93:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  94:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           weak function.
  95:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  96:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           and the Callback ID.
  97:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           This function allows to reset following callbacks:
  98:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  99:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
 100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
 101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
 102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
 103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
 104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
 105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
 106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
 107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
 108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        or HAL_SPI_Init() function.
 127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        [..]
 129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        not defined, the callback registering feature is not available
 131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      [..]
 134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   @endverbatim
 139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   Additional table :
 141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
ARM GAS  /tmp/ccA9MgmD.s 			page 4


 147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |===========================================================================================
 148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/8  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |===========================================================================================
 173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/4  |    NA     |    NA    |    NA     |   NA  
 176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/32  | Fpclk/
 180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/4  | Fpclk/4  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (8bits, 16bits),
 192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        @note
 194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and
 195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                 HAL_SPI_TransmitReceive_DMA()
 196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #include "stm32f1xx_hal.h"
 203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 5


 204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup STM32F1xx_HAL_Driver
 205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI SPI
 209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief SPI HAL module driver
 210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U) && defined(SPI_CRC_ERROR_WORKAROUND_FEATURE)
 217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* CRC WORKAROUND FEATURE: Variable used to determine if device is impacted by implementation
 218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * of workaround related to wrong CRC errors detection on SPI2. Conditions in which this workaround
 219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * has to be applied, are:
 220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - STM32F101CDE/STM32F103CDE
 221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - Revision ID : Z
 222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - SPI2
 223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *  - In receive only mode, with CRC calculation enabled, at the end of the CRC reception,
 224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *     the software needs to check the CRCERR flag. If it is found set, read back the SPI_RXCRC:
 225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *       + If the value is 0, the complete data transfer is successful.
 226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *       + Otherwise, one or more errors have been detected during the data transfer by CPU or DMA.
 227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *    If CRCERR is found reset, the complete data transfer is considered successful.
 228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  *
 229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * Check RevisionID value for identifying if Device is Rev Z (0x0001) in order to enable workaround
 230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * CRC errors wrongly detected
 231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  */
 232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Pb is that ES_STM32F10xxCDE also identify an issue in Debug registers access while not in Debug 
 233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * Revision ID information is only available in Debug mode, so Workaround could not be implemented
 234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * to distinguish Rev Z devices (issue present) from more recent version (issue fixed).
 235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  * So, in case of Revision Z F101 or F103 devices, below define should be assigned to 1.
 236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  */
 237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #define  USE_SPI_CRC_ERROR_WORKAROUND   0U
 238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
ARM GAS  /tmp/ccA9MgmD.s 			page 6


 261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           the selected configuration:
 310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Mode
 311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Direction
 312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Data Size
 313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) Clock Polarity and Phase
 314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) NSS Management
 315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) BaudRate Prescaler
 316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) FirstBit
 317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) TIMode
ARM GAS  /tmp/ccA9MgmD.s 			page 7


 318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Calculation
 319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           of the selected SPIx peripheral.
 323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi == NULL)
 339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the parameters */
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* TI mode is not supported on this device.
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      TIMode parameter is mandatory equal to SPI_TIMODE_DISABLE */
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
 360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
 364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
 367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
ARM GAS  /tmp/ccA9MgmD.s 			page 8


 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the SPI Callback settings */
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
 397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR1_DFF) |
 427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
 431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
ARM GAS  /tmp/ccA9MgmD.s 			page 9


 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : NSS management */
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, ((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE));
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
 459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi == NULL)
 467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check SPI Instance parameter */
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
 488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
ARM GAS  /tmp/ccA9MgmD.s 			page 10


 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
 522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/ccA9MgmD.s 			page 11


 546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (pCallback == NULL)
 549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
 552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
 556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
ARM GAS  /tmp/ccA9MgmD.s 			page 12


 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Return error status */
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     status =  HAL_ERROR;
 639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return status;
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
ARM GAS  /tmp/ccA9MgmD.s 			page 13


 660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
 687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     switch (CallbackID)
ARM GAS  /tmp/ccA9MgmD.s 			page 14


 717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       default :
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Update the error code */
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Return error status */
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         status =  HAL_ERROR;
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update the error code */
 738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Return error status */
 741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     status =  HAL_ERROR;
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Release Lock */
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return status;
 747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *  @brief   Data transfers functions
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
 756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
 757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ==============================================================================
 758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### IO operation functions #####
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  [..]
 761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     data transfers.
 763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) There are two modes of transfer:
 767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             after finishing transfer.
 770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The end of the data processing will be indicated through the
 773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
ARM GAS  /tmp/ccA9MgmD.s 			page 15


 774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             using DMA mode.
 775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
 784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
 792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size, ui
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
 810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
ARM GAS  /tmp/ccA9MgmD.s 			page 16


 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
 844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 17


 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
 920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
ARM GAS  /tmp/ccA9MgmD.s 			page 18


 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
 947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
 949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
 953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
 954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
 956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
 957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be received
 958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
 959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
 960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
 971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
ARM GAS  /tmp/ccA9MgmD.s 			page 19


1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
1011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount--;
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction: 1Line */
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* read the received data */
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
1052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Transfer loop */
ARM GAS  /tmp/ccA9MgmD.s 			page 20


1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check the RXNE flag */
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
1069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Timeout management */
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
1076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Handle the CRC Transmission */
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRCNEXT is well reset by hardware */
1089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
1090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by h
1092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read the latest data */
1095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* the latest data has not been received */
1098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait the CRC data */
1114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 21


1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
1125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg);
1126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
1137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
1140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
1141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
1145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
ARM GAS  /tmp/ccA9MgmD.s 			page 22


1173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8_t 
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                           uint16_t Size, uint32_t Timeout)
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tickstart;
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             txallowed = 1U;
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
1196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
ARM GAS  /tmp/ccA9MgmD.s 			page 23


1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
1259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
1262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check TXE flag */
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
1277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
1279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
1282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
ARM GAS  /tmp/ccA9MgmD.s 			page 24


1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check RXNE flag */
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
1297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
1314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
1317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check TXE flag */
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
1331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 0U;
1333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Enable CRC Transmission */
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
1338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
1340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
ARM GAS  /tmp/ccA9MgmD.s 			page 25


1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         (*(uint8_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
1349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         txallowed = 1U;
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
1358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait until TXE flag */
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Error on the CRC reception */
1369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
1371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
1373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Read CRC */
1375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* To avoid GCC warning */
1377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     UNUSED(tmpreg);
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
1382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
1384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
1391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_ERROR;
1392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
1394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
1397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
ARM GAS  /tmp/ccA9MgmD.s 			page 26


1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
1410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
1412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
1420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_OK;
1426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size)
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
ARM GAS  /tmp/ccA9MgmD.s 			page 27


1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
1474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
1478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
ARM GAS  /tmp/ccA9MgmD.s 			page 28


1515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
1560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
1564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
ARM GAS  /tmp/ccA9MgmD.s 			page 29


1572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             process unlock */
1585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                              uint16_t Size)
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 30


1629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the function for IT treatment */
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
1658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 31


1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check tx dma handle */
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
ARM GAS  /tmp/ccA9MgmD.s 			page 32


1743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
1754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
1760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
1793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
1794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pData pointer to data buffer
1797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/ccA9MgmD.s 			page 33


1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
1803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check tx dma handle */
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /*Init field not used in handle to zero */
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 34


1857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
1874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
1900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
1902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
1903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
1905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
1908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Size amount of data to be sent
1909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
1910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint
1912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                               uint16_t Size)
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/ccA9MgmD.s 			page 35


1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx & tx dma handles */
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Direction parameter */
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init temporary variables */
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_state           = hspi->State;
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
1930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_BUSY;
1933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process locked */
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
1942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the transaction information */
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init field not used in handle to zero */
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset CRC Calculation */
1964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
ARM GAS  /tmp/ccA9MgmD.s 			page 36


1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
1976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
1978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
1983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA error callback */
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
1993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Rx DMA Request */
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
2005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   is performed in DMA reception complete callback  */
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Update SPI error code */
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Enable SPI peripheral */
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 37


2028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable Tx DMA Request */
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
2051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
2059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialized local variable  */
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   errorcode = HAL_OK;
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 38


2085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Tx DMA Request */
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
2121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until TXE flag is set */
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       do
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (count == 0U)
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
2129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         count--;
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
2132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
ARM GAS  /tmp/ccA9MgmD.s 			page 39


2142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
2147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable peripheral */
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Rx DMA Request */
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check error during Abort procedure */
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     errorcode = HAL_ERROR;
2167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
2169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
2176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->state to ready */
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         This procedure performs following operations :
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - Set handle State to READY
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
ARM GAS  /tmp/ccA9MgmD.s 			page 40


2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt ;
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
2204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialized local variable  */
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   errorcode = HAL_OK;
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
2210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     do
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count = resetcount;
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      before any call to DMA Abort functions */
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
ARM GAS  /tmp/ccA9MgmD.s 			page 41


2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
2259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****        Otherwise, set it to NULL */
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
2273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
2288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
2295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         abortcplt = 0U;
ARM GAS  /tmp/ccA9MgmD.s 			page 42


2313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (abortcplt == 1U)
2318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check error during Abort procedure */
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
2330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset errorCode */
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
2337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
2346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
ARM GAS  /tmp/ccA9MgmD.s 			page 43


2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_LOCK(hspi);
2382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
2390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
2397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
2401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback():
2404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback()
2407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      */
2408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
2413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
2422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
2425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 44


2427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
2444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
2447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
2448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxISR(hspi);
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
2455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR(hspi);
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
2462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
2463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
2466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
2468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
2476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
2481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
ARM GAS  /tmp/ccA9MgmD.s 			page 45


2484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable all interrupts */
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
2492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
2494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
2506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
2512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
2513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
2517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
2518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
2520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
2521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user error callback */
2525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
2529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
2533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/ccA9MgmD.s 			page 46


2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
ARM GAS  /tmp/ccA9MgmD.s 			page 47


2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  SPI error callback.
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle.
2654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/ccA9MgmD.s 			page 48


2655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(hspi);
2660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****    */
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   SPI control functions
2672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *
2673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @verbatim
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****  ===============================================================================
2677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     [..]
2678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** @endverbatim
2682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI state
2690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(const SPI_HandleTypeDef *hspi)
2692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->State;
2695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Return the SPI error code.
2699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
2701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval SPI error code in bitmap format
2702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** uint32_t HAL_SPI_GetError(const SPI_HandleTypeDef *hspi)
2704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return hspi->ErrorCode;
2707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
ARM GAS  /tmp/ccA9MgmD.s 			page 49


2712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @}
2715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
2718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief   Private functions
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @{
2720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
2724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Tx DMA Request */
2743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
2755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
ARM GAS  /tmp/ccA9MgmD.s 			page 50


2769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Tx complete callback */
2772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
2774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
2776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
2781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait until RXNE flag */
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Error on the CRC reception */
2810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC */
2813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
2823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
ARM GAS  /tmp/ccA9MgmD.s 			page 51


2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Normal case */
2828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
2835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
2850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Rx complete callback */
2871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
2873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
2875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
2880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
ARM GAS  /tmp/ccA9MgmD.s 			page 52


2883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
2888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
2894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* DMA Normal Mode */
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
2897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
2898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable ERR interrupt */
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* CRC handling */
2903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Wait the CRC data */
2906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Read CRC to Flush DR and RXNE flag */
2911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* To avoid GCC warning */
2913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       UNUSED(tmpreg);
2914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check the end of the transaction */
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
2924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error occurred */
2932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
2933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Check if CRC error is valid or not (workaround to be applied or not) */
2935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
2936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
ARM GAS  /tmp/ccA9MgmD.s 			page 53


2940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         SPI_RESET_CRC(hspi);
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
2943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
2944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
2946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
2951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
2952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
2958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
2959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
2960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user TxRx complete callback */
2961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
2963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
2965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
2970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Tx half complete callback */
2979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
2981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
2983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
2985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
2987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
2991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
2992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
2995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
2996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Rx half complete callback */
ARM GAS  /tmp/ccA9MgmD.s 			page 54


2997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
2999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
3001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
3006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user TxRx half complete callback */
3015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
3017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
3019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
3024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
3034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
3038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
3047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
3048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
ARM GAS  /tmp/ccA9MgmD.s 			page 55


3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
3058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
3062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
3067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
3068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Tx DMA Request */
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
3083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
3097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
3099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check no error during Abort procedure */
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 56


3111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
3122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hdma DMA handle.
3135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
3143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
3145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable Rx DMA Request */
3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
3148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check Busy flag */
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
3157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
3159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 57


3168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check no error during Abort procedure */
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset errorCode */
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user Abort complete callback */
3182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check end of the reception */
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
3209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
ARM GAS  /tmp/ccA9MgmD.s 			page 58


3225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg8);
3241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRxTx_ISR(hspi);
3248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transmission */
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable TXE interrupt */
3273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
3279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
ARM GAS  /tmp/ccA9MgmD.s 			page 59


3282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
3307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable RXNE interrupt */
3312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
3336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE interrupt */
3338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
ARM GAS  /tmp/ccA9MgmD.s 			page 60


3339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
3341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable TXE interrupt */
3366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable TXE interrupt */
3372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
ARM GAS  /tmp/ccA9MgmD.s 			page 61


3396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg8);
3399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRCNEXT is well reset by hardware */
3423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
3424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by har
3426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
3437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
ARM GAS  /tmp/ccA9MgmD.s 			page 62


3453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
3459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
3478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable CRC Transmission */
3481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRCNEXT is well reset by hardware */
3486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (READ_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT))
3487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Workaround to force CRCNEXT bit to zero in case of CRCNEXT is not reset automatically by har
3489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
3500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return;
3501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  /tmp/ccA9MgmD.s 			page 63


3510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
3525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
3544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Enable CRC Transmission */
3551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *              the configuration information for SPI module.
3562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Flag SPI flag to check
3563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  State flag state to check
3564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
ARM GAS  /tmp/ccA9MgmD.s 			page 64


3567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
3572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_timeout;
3573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_tickstart;
3574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
3578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
3581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
3583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
3585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
3587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****            and slave for their respective CRC calculation */
3591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
3594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
3597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
3598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           /* Disable SPI peripheral */
3599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
3600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
3601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Reset CRC Calculation */
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
3606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
3607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Process Unlocked */
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
3612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
3614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (count == 0U)
3617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         tmp_timeout = 0U;
3619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       count--;
3621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 65


3624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
3629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
3634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
3639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Disable SPI peripheral */
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
3642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXONLY)
3645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait the RXNE reset */
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout, Tickstart) != HAL_OK)
3648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
3651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Control the BSY flag */
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
3660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
3667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi SPI handle
3668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Timeout Timeout duration
3669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  Tickstart tick start value
3670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval HAL status
3671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_TXE, SET, Timeout, Tickstart) != HAL_OK)
3676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
3679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 66


3681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Control the BSY flag */
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
3686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return HAL_OK;
3688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
3692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management */
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable ERR interrupt */
3705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
3732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
3735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
ARM GAS  /tmp/ccA9MgmD.s 			page 67


3738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
3741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
3742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
3761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
3764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
3766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
3768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       else
3771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
3774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
3776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
3778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
3780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
3784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
ARM GAS  /tmp/ccA9MgmD.s 			page 68


3795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
3798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check if CRC error occurred */
3822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Check if CRC error is valid or not (workaround to be applied or not) */
3825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (SPI_ISCRCErrorValid(hspi) == SPI_VALID_CRC_ERROR)
3826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Reset CRC Calculation */
3830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SPI_RESET_CRC(hspi);
3831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user Rx complete callback */
3850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
ARM GAS  /tmp/ccA9MgmD.s 			page 69


3852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
3854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     else
3857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
3859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
3872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
3878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tickstart = HAL_GetTick();
3883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
3886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
3888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
3896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
3897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the end of the transaction */
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 70


3909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call user error callback */
3914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
3916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   else
3921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call user Rx complete callback */
3923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
3925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #else
3926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
3927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
3930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
3933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
3938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
  27              		.loc 1 3938 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              		.loc 1 3938 1 is_stmt 0 view .LVU1
  33 0000 82B0     		sub	sp, sp, #8
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
3939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  36              		.loc 1 3939 3 is_stmt 1 view .LVU2
  37              		.loc 1 3939 17 is_stmt 0 view .LVU3
  38 0002 0023     		movs	r3, #0
  39 0004 0193     		str	r3, [sp, #4]
3940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
  40              		.loc 1 3940 3 is_stmt 1 view .LVU4
  41              		.loc 1 3940 70 is_stmt 0 view .LVU5
  42 0006 164B     		ldr	r3, .L7
  43 0008 1B68     		ldr	r3, [r3]
  44 000a 164A     		ldr	r2, .L7+4
  45 000c A2FB0323 		umull	r2, r3, r2, r3
  46 0010 5B0A     		lsrs	r3, r3, #9
  47              		.loc 1 3940 45 view .LVU6
  48 0012 6422     		movs	r2, #100
  49 0014 02FB03F3 		mul	r3, r2, r3
  50              		.loc 1 3940 17 view .LVU7
  51 0018 0093     		str	r3, [sp]
ARM GAS  /tmp/ccA9MgmD.s 			page 71


  52              	.L4:
3941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag is set */
3943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   do
  53              		.loc 1 3943 3 is_stmt 1 view .LVU8
3944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
3945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     if (count == 0U)
  54              		.loc 1 3945 5 view .LVU9
  55              		.loc 1 3945 15 is_stmt 0 view .LVU10
  56 001a 009B     		ldr	r3, [sp]
  57              		.loc 1 3945 8 view .LVU11
  58 001c 43B1     		cbz	r3, .L6
3946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
3947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
3949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
3950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     count--;
  59              		.loc 1 3950 5 is_stmt 1 view .LVU12
  60              		.loc 1 3950 10 is_stmt 0 view .LVU13
  61 001e 009B     		ldr	r3, [sp]
  62 0020 013B     		subs	r3, r3, #1
  63 0022 0093     		str	r3, [sp]
3951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
  64              		.loc 1 3951 48 is_stmt 1 view .LVU14
  65              		.loc 1 3951 17 is_stmt 0 view .LVU15
  66 0024 0368     		ldr	r3, [r0]
  67              		.loc 1 3951 27 view .LVU16
  68 0026 9B68     		ldr	r3, [r3, #8]
  69              		.loc 1 3951 48 view .LVU17
  70 0028 13F0020F 		tst	r3, #2
  71 002c F5D0     		beq	.L4
  72 002e 03E0     		b	.L3
  73              	.L6:
3947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
  74              		.loc 1 3947 7 is_stmt 1 view .LVU18
  75 0030 436D     		ldr	r3, [r0, #84]
  76 0032 43F04003 		orr	r3, r3, #64
  77 0036 4365     		str	r3, [r0, #84]
3948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
  78              		.loc 1 3948 7 view .LVU19
  79              	.L3:
3952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
  80              		.loc 1 3954 3 view .LVU20
  81 0038 0268     		ldr	r2, [r0]
  82 003a 1368     		ldr	r3, [r2]
  83 003c 23F04003 		bic	r3, r3, #64
  84 0040 1360     		str	r3, [r2]
3955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
  85              		.loc 1 3957 3 view .LVU21
  86 0042 0268     		ldr	r2, [r0]
  87 0044 5368     		ldr	r3, [r2, #4]
  88 0046 23F0E003 		bic	r3, r3, #224
  89 004a 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/ccA9MgmD.s 			page 72


3958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Flush Data Register by a blank read */
3960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
  90              		.loc 1 3960 3 view .LVU22
  91              		.loc 1 3960 12 is_stmt 0 view .LVU23
  92 004c 0368     		ldr	r3, [r0]
  93 004e DB68     		ldr	r3, [r3, #12]
  94              		.loc 1 3960 10 view .LVU24
  95 0050 0193     		str	r3, [sp, #4]
3961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* To avoid GCC warning */
3962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   UNUSED(tmpreg);
  96              		.loc 1 3962 3 is_stmt 1 view .LVU25
  97 0052 019B     		ldr	r3, [sp, #4]
3963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
  98              		.loc 1 3964 3 view .LVU26
  99              		.loc 1 3964 15 is_stmt 0 view .LVU27
 100 0054 0723     		movs	r3, #7
 101 0056 80F85130 		strb	r3, [r0, #81]
3965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 102              		.loc 1 3965 1 view .LVU28
 103 005a 02B0     		add	sp, sp, #8
 104              	.LCFI1:
 105              		.cfi_def_cfa_offset 0
 106              		@ sp needed
 107 005c 7047     		bx	lr
 108              	.L8:
 109 005e 00BF     		.align	2
 110              	.L7:
 111 0060 00000000 		.word	SystemCoreClock
 112 0064 F1197605 		.word	91625969
 113              		.cfi_endproc
 114              	.LFE118:
 116              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 117              		.align	1
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 122              	SPI_AbortTx_ISR:
 123              	.LVL1:
 124              	.LFB119:
3966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** /**
3968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
3969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *               the configuration information for SPI module.
3971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   * @retval None
3972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   */
3973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
3974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** {
 125              		.loc 1 3974 1 is_stmt 1 view -0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 0
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129              		@ link register save eliminated.
3975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable TXEIE interrupt */
3976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
ARM GAS  /tmp/ccA9MgmD.s 			page 73


 130              		.loc 1 3976 3 view .LVU30
 131 0000 0268     		ldr	r2, [r0]
 132 0002 5368     		ldr	r3, [r2, #4]
 133 0004 23F08003 		bic	r3, r3, #128
 134 0008 5360     		str	r3, [r2, #4]
3977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable SPI Peripheral */
3979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 135              		.loc 1 3979 3 view .LVU31
 136 000a 0268     		ldr	r2, [r0]
 137 000c 1368     		ldr	r3, [r2]
 138 000e 23F04003 		bic	r3, r3, #64
 139 0012 1360     		str	r3, [r2]
3980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
3981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 140              		.loc 1 3981 3 view .LVU32
 141              		.loc 1 3981 15 is_stmt 0 view .LVU33
 142 0014 0723     		movs	r3, #7
 143 0016 80F85130 		strb	r3, [r0, #81]
3982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 144              		.loc 1 3982 1 view .LVU34
 145 001a 7047     		bx	lr
 146              		.cfi_endproc
 147              	.LFE119:
 149              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 150              		.align	1
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 155              	SPI_WaitFlagStateUntilTimeout:
 156              	.LVL2:
 157              	.LFB112:
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 158              		.loc 1 3570 1 is_stmt 1 view -0
 159              		.cfi_startproc
 160              		@ args = 4, pretend = 0, frame = 8
 161              		@ frame_needed = 0, uses_anonymous_args = 0
3570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 162              		.loc 1 3570 1 is_stmt 0 view .LVU36
 163 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 164              	.LCFI2:
 165              		.cfi_def_cfa_offset 32
 166              		.cfi_offset 4, -32
 167              		.cfi_offset 5, -28
 168              		.cfi_offset 6, -24
 169              		.cfi_offset 7, -20
 170              		.cfi_offset 8, -16
 171              		.cfi_offset 9, -12
 172              		.cfi_offset 10, -8
 173              		.cfi_offset 14, -4
 174 0004 82B0     		sub	sp, sp, #8
 175              	.LCFI3:
 176              		.cfi_def_cfa_offset 40
 177 0006 0546     		mov	r5, r0
 178 0008 8846     		mov	r8, r1
 179 000a 1746     		mov	r7, r2
 180 000c 1E46     		mov	r6, r3
ARM GAS  /tmp/ccA9MgmD.s 			page 74


3571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_timeout;
 181              		.loc 1 3571 3 is_stmt 1 view .LVU37
3572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tmp_tickstart;
 182              		.loc 1 3572 3 view .LVU38
3573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 183              		.loc 1 3573 3 view .LVU39
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 184              		.loc 1 3576 3 view .LVU40
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 185              		.loc 1 3576 30 is_stmt 0 view .LVU41
 186 000e FFF7FEFF 		bl	HAL_GetTick
 187              	.LVL3:
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 188              		.loc 1 3576 44 discriminator 1 view .LVU42
 189 0012 0A9B     		ldr	r3, [sp, #40]
 190 0014 1B1A     		subs	r3, r3, r0
3576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 191              		.loc 1 3576 17 discriminator 1 view .LVU43
 192 0016 03EB0609 		add	r9, r3, r6
 193              	.LVL4:
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 194              		.loc 1 3577 3 is_stmt 1 view .LVU44
3577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 195              		.loc 1 3577 19 is_stmt 0 view .LVU45
 196 001a FFF7FEFF 		bl	HAL_GetTick
 197              	.LVL5:
 198 001e 8246     		mov	r10, r0
 199              	.LVL6:
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 200              		.loc 1 3580 3 is_stmt 1 view .LVU46
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 201              		.loc 1 3580 43 is_stmt 0 view .LVU47
 202 0020 284B     		ldr	r3, .L25
 203 0022 1B68     		ldr	r3, [r3]
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 204              		.loc 1 3580 50 view .LVU48
 205 0024 C3F3CB33 		ubfx	r3, r3, #15, #12
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 206              		.loc 1 3580 23 view .LVU49
 207 0028 09FB03F3 		mul	r3, r9, r3
3580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 208              		.loc 1 3580 9 view .LVU50
 209 002c 0193     		str	r3, [sp, #4]
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 210              		.loc 1 3582 3 is_stmt 1 view .LVU51
 211              	.LVL7:
 212              	.L12:
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 213              		.loc 1 3582 57 view .LVU52
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 214              		.loc 1 3582 11 is_stmt 0 view .LVU53
 215 002e 2B68     		ldr	r3, [r5]
 216 0030 9C68     		ldr	r4, [r3, #8]
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 217              		.loc 1 3582 48 view .LVU54
 218 0032 38EA0404 		bics	r4, r8, r4
 219 0036 0CBF     		ite	eq
ARM GAS  /tmp/ccA9MgmD.s 			page 75


 220 0038 0123     		moveq	r3, #1
 221 003a 0023     		movne	r3, #0
3582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 222              		.loc 1 3582 57 view .LVU55
 223 003c BB42     		cmp	r3, r7
 224 003e 3DD0     		beq	.L21
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 225              		.loc 1 3584 5 is_stmt 1 view .LVU56
3584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 226              		.loc 1 3584 8 is_stmt 0 view .LVU57
 227 0040 B6F1FF3F 		cmp	r6, #-1
 228 0044 F3D0     		beq	.L12
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 229              		.loc 1 3586 7 is_stmt 1 view .LVU58
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 230              		.loc 1 3586 13 is_stmt 0 view .LVU59
 231 0046 FFF7FEFF 		bl	HAL_GetTick
 232              	.LVL8:
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 233              		.loc 1 3586 27 discriminator 1 view .LVU60
 234 004a A0EB0A00 		sub	r0, r0, r10
3586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 235              		.loc 1 3586 10 discriminator 1 view .LVU61
 236 004e 4845     		cmp	r0, r9
 237 0050 07D2     		bcs	.L22
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 238              		.loc 1 3616 7 is_stmt 1 view .LVU62
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 239              		.loc 1 3616 17 is_stmt 0 view .LVU63
 240 0052 019A     		ldr	r2, [sp, #4]
3616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 241              		.loc 1 3616 10 view .LVU64
 242 0054 02B1     		cbz	r2, .L18
 243 0056 4A46     		mov	r2, r9
 244              	.L18:
 245              	.LVL9:
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 246              		.loc 1 3620 7 is_stmt 1 view .LVU65
3620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 247              		.loc 1 3620 12 is_stmt 0 view .LVU66
 248 0058 019B     		ldr	r3, [sp, #4]
 249 005a 013B     		subs	r3, r3, #1
 250 005c 0193     		str	r3, [sp, #4]
 251 005e 9146     		mov	r9, r2
 252 0060 E5E7     		b	.L12
 253              	.LVL10:
 254              	.L22:
3593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 255              		.loc 1 3593 9 is_stmt 1 view .LVU67
 256 0062 2A68     		ldr	r2, [r5]
 257 0064 5368     		ldr	r3, [r2, #4]
 258 0066 23F0E003 		bic	r3, r3, #224
 259 006a 5360     		str	r3, [r2, #4]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 260              		.loc 1 3595 9 view .LVU68
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 261              		.loc 1 3595 24 is_stmt 0 view .LVU69
ARM GAS  /tmp/ccA9MgmD.s 			page 76


 262 006c 6B68     		ldr	r3, [r5, #4]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 263              		.loc 1 3595 12 view .LVU70
 264 006e B3F5827F 		cmp	r3, #260
 265 0072 0BD0     		beq	.L23
 266              	.L14:
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 267              		.loc 1 3603 9 is_stmt 1 view .LVU71
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 268              		.loc 1 3603 23 is_stmt 0 view .LVU72
 269 0074 AB6A     		ldr	r3, [r5, #40]
3603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 270              		.loc 1 3603 12 view .LVU73
 271 0076 B3F5005F 		cmp	r3, #8192
 272 007a 14D0     		beq	.L24
 273              	.L16:
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 274              		.loc 1 3605 11 is_stmt 1 discriminator 1 view .LVU74
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 275              		.loc 1 3608 9 view .LVU75
3608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 276              		.loc 1 3608 21 is_stmt 0 view .LVU76
 277 007c 0123     		movs	r3, #1
 278 007e 85F85130 		strb	r3, [r5, #81]
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 279              		.loc 1 3611 9 is_stmt 1 view .LVU77
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 280              		.loc 1 3611 9 view .LVU78
 281 0082 0023     		movs	r3, #0
 282 0084 85F85030 		strb	r3, [r5, #80]
3611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 283              		.loc 1 3611 9 view .LVU79
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 284              		.loc 1 3613 9 view .LVU80
3613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 285              		.loc 1 3613 16 is_stmt 0 view .LVU81
 286 0088 0320     		movs	r0, #3
 287 008a 18E0     		b	.L17
 288              	.L23:
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 289              		.loc 1 3595 65 discriminator 1 view .LVU82
 290 008c AB68     		ldr	r3, [r5, #8]
3595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 291              		.loc 1 3595 50 discriminator 1 view .LVU83
 292 008e B3F5004F 		cmp	r3, #32768
 293 0092 02D0     		beq	.L15
3596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 294              		.loc 1 3596 54 view .LVU84
 295 0094 B3F5806F 		cmp	r3, #1024
 296 0098 ECD1     		bne	.L14
 297              	.L15:
3599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 298              		.loc 1 3599 11 is_stmt 1 view .LVU85
 299 009a 2A68     		ldr	r2, [r5]
 300 009c 1368     		ldr	r3, [r2]
 301 009e 23F04003 		bic	r3, r3, #64
 302 00a2 1360     		str	r3, [r2]
ARM GAS  /tmp/ccA9MgmD.s 			page 77


 303 00a4 E6E7     		b	.L14
 304              	.L24:
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 305              		.loc 1 3605 11 view .LVU86
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 306              		.loc 1 3605 11 view .LVU87
 307 00a6 2A68     		ldr	r2, [r5]
 308 00a8 1368     		ldr	r3, [r2]
 309 00aa 23F40053 		bic	r3, r3, #8192
 310 00ae 1360     		str	r3, [r2]
3605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 311              		.loc 1 3605 11 view .LVU88
 312 00b0 2A68     		ldr	r2, [r5]
 313 00b2 1368     		ldr	r3, [r2]
 314 00b4 43F40053 		orr	r3, r3, #8192
 315 00b8 1360     		str	r3, [r2]
 316 00ba DFE7     		b	.L16
 317              	.L21:
3624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 318              		.loc 1 3624 10 is_stmt 0 view .LVU89
 319 00bc 0020     		movs	r0, #0
 320              	.L17:
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 321              		.loc 1 3625 1 view .LVU90
 322 00be 02B0     		add	sp, sp, #8
 323              	.LCFI4:
 324              		.cfi_def_cfa_offset 32
 325              		@ sp needed
 326 00c0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 327              	.LVL11:
 328              	.L26:
3625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 329              		.loc 1 3625 1 view .LVU91
 330              		.align	2
 331              	.L25:
 332 00c4 00000000 		.word	SystemCoreClock
 333              		.cfi_endproc
 334              	.LFE112:
 336              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 337              		.align	1
 338              		.syntax unified
 339              		.thumb
 340              		.thumb_func
 342              	SPI_EndRxTxTransaction:
 343              	.LVL12:
 344              	.LFB114:
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
 345              		.loc 1 3673 1 is_stmt 1 view -0
 346              		.cfi_startproc
 347              		@ args = 0, pretend = 0, frame = 0
 348              		@ frame_needed = 0, uses_anonymous_args = 0
3673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Wait until TXE flag */
 349              		.loc 1 3673 1 is_stmt 0 view .LVU93
 350 0000 70B5     		push	{r4, r5, r6, lr}
 351              	.LCFI5:
 352              		.cfi_def_cfa_offset 16
 353              		.cfi_offset 4, -16
ARM GAS  /tmp/ccA9MgmD.s 			page 78


 354              		.cfi_offset 5, -12
 355              		.cfi_offset 6, -8
 356              		.cfi_offset 14, -4
 357 0002 82B0     		sub	sp, sp, #8
 358              	.LCFI6:
 359              		.cfi_def_cfa_offset 24
 360 0004 0646     		mov	r6, r0
 361 0006 0C46     		mov	r4, r1
 362 0008 1546     		mov	r5, r2
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 363              		.loc 1 3675 3 is_stmt 1 view .LVU94
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 364              		.loc 1 3675 7 is_stmt 0 view .LVU95
 365 000a 0092     		str	r2, [sp]
 366 000c 0B46     		mov	r3, r1
 367 000e 0122     		movs	r2, #1
 368              	.LVL13:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 369              		.loc 1 3675 7 view .LVU96
 370 0010 0221     		movs	r1, #2
 371              	.LVL14:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 372              		.loc 1 3675 7 view .LVU97
 373 0012 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 374              	.LVL15:
3675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 375              		.loc 1 3675 6 discriminator 1 view .LVU98
 376 0016 48B9     		cbnz	r0, .L31
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 377              		.loc 1 3682 3 is_stmt 1 view .LVU99
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 378              		.loc 1 3682 7 is_stmt 0 view .LVU100
 379 0018 0095     		str	r5, [sp]
 380 001a 2346     		mov	r3, r4
 381 001c 0022     		movs	r2, #0
 382 001e 8021     		movs	r1, #128
 383 0020 3046     		mov	r0, r6
 384 0022 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 385              	.LVL16:
3682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 386              		.loc 1 3682 6 discriminator 1 view .LVU101
 387 0026 38B9     		cbnz	r0, .L32
 388              	.L29:
3688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 389              		.loc 1 3688 1 view .LVU102
 390 0028 02B0     		add	sp, sp, #8
 391              	.LCFI7:
 392              		.cfi_remember_state
 393              		.cfi_def_cfa_offset 16
 394              		@ sp needed
 395 002a 70BD     		pop	{r4, r5, r6, pc}
 396              	.LVL17:
 397              	.L31:
 398              	.LCFI8:
 399              		.cfi_restore_state
3677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 400              		.loc 1 3677 5 is_stmt 1 view .LVU103
ARM GAS  /tmp/ccA9MgmD.s 			page 79


 401 002c 736D     		ldr	r3, [r6, #84]
 402 002e 43F02003 		orr	r3, r3, #32
 403 0032 7365     		str	r3, [r6, #84]
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 404              		.loc 1 3678 5 view .LVU104
3678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 405              		.loc 1 3678 12 is_stmt 0 view .LVU105
 406 0034 0320     		movs	r0, #3
 407 0036 F7E7     		b	.L29
 408              	.L32:
3684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_TIMEOUT;
 409              		.loc 1 3684 5 is_stmt 1 view .LVU106
 410 0038 736D     		ldr	r3, [r6, #84]
 411 003a 43F02003 		orr	r3, r3, #32
 412 003e 7365     		str	r3, [r6, #84]
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 413              		.loc 1 3685 5 view .LVU107
3685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 414              		.loc 1 3685 12 is_stmt 0 view .LVU108
 415 0040 0320     		movs	r0, #3
 416 0042 F1E7     		b	.L29
 417              		.cfi_endproc
 418              	.LFE114:
 420              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 421              		.align	1
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 426              	SPI_EndRxTransaction:
 427              	.LVL18:
 428              	.LFB113:
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 429              		.loc 1 3636 1 is_stmt 1 view -0
 430              		.cfi_startproc
 431              		@ args = 0, pretend = 0, frame = 0
 432              		@ frame_needed = 0, uses_anonymous_args = 0
3636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 433              		.loc 1 3636 1 is_stmt 0 view .LVU110
 434 0000 10B5     		push	{r4, lr}
 435              	.LCFI9:
 436              		.cfi_def_cfa_offset 8
 437              		.cfi_offset 4, -8
 438              		.cfi_offset 14, -4
 439 0002 82B0     		sub	sp, sp, #8
 440              	.LCFI10:
 441              		.cfi_def_cfa_offset 16
 442 0004 0446     		mov	r4, r0
 443 0006 0B46     		mov	r3, r1
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 444              		.loc 1 3637 3 is_stmt 1 view .LVU111
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 445              		.loc 1 3637 18 is_stmt 0 view .LVU112
 446 0008 4168     		ldr	r1, [r0, #4]
 447              	.LVL19:
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 448              		.loc 1 3637 6 view .LVU113
 449 000a B1F5827F 		cmp	r1, #260
ARM GAS  /tmp/ccA9MgmD.s 			page 80


 450 000e 10D0     		beq	.L39
 451              	.LVL20:
 452              	.L34:
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 453              		.loc 1 3644 3 is_stmt 1 view .LVU114
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 454              		.loc 1 3644 18 is_stmt 0 view .LVU115
 455 0010 6168     		ldr	r1, [r4, #4]
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 456              		.loc 1 3644 6 view .LVU116
 457 0012 B1F5827F 		cmp	r1, #260
 458 0016 03D1     		bne	.L36
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 459              		.loc 1 3644 58 discriminator 1 view .LVU117
 460 0018 A168     		ldr	r1, [r4, #8]
3644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 461              		.loc 1 3644 44 discriminator 1 view .LVU118
 462 001a B1F5806F 		cmp	r1, #1024
 463 001e 15D0     		beq	.L40
 464              	.L36:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 465              		.loc 1 3656 5 is_stmt 1 view .LVU119
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 466              		.loc 1 3656 9 is_stmt 0 view .LVU120
 467 0020 0092     		str	r2, [sp]
 468 0022 0022     		movs	r2, #0
 469              	.LVL21:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 470              		.loc 1 3656 9 view .LVU121
 471 0024 8021     		movs	r1, #128
 472 0026 2046     		mov	r0, r4
 473 0028 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 474              	.LVL22:
3656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 475              		.loc 1 3656 8 discriminator 1 view .LVU122
 476 002c E0B9     		cbnz	r0, .L41
 477              	.L37:
3663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 478              		.loc 1 3663 1 view .LVU123
 479 002e 02B0     		add	sp, sp, #8
 480              	.LCFI11:
 481              		.cfi_remember_state
 482              		.cfi_def_cfa_offset 8
 483              		@ sp needed
 484 0030 10BD     		pop	{r4, pc}
 485              	.LVL23:
 486              	.L39:
 487              	.LCFI12:
 488              		.cfi_restore_state
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 489              		.loc 1 3637 59 discriminator 1 view .LVU124
 490 0032 8168     		ldr	r1, [r0, #8]
3637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 491              		.loc 1 3637 44 discriminator 1 view .LVU125
 492 0034 B1F5004F 		cmp	r1, #32768
 493 0038 02D0     		beq	.L35
3638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 81


 494              		.loc 1 3638 48 view .LVU126
 495 003a B1F5806F 		cmp	r1, #1024
 496 003e E7D1     		bne	.L34
 497              	.L35:
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 498              		.loc 1 3641 5 is_stmt 1 view .LVU127
 499 0040 2068     		ldr	r0, [r4]
 500              	.LVL24:
3641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 501              		.loc 1 3641 5 is_stmt 0 view .LVU128
 502 0042 0168     		ldr	r1, [r0]
 503 0044 21F04001 		bic	r1, r1, #64
 504 0048 0160     		str	r1, [r0]
 505 004a E1E7     		b	.L34
 506              	.L40:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 507              		.loc 1 3647 5 is_stmt 1 view .LVU129
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 508              		.loc 1 3647 9 is_stmt 0 view .LVU130
 509 004c 0092     		str	r2, [sp]
 510 004e 0022     		movs	r2, #0
 511              	.LVL25:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 512              		.loc 1 3647 9 view .LVU131
 513 0050 0121     		movs	r1, #1
 514 0052 2046     		mov	r0, r4
 515 0054 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 516              	.LVL26:
3647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 517              		.loc 1 3647 8 discriminator 1 view .LVU132
 518 0058 0028     		cmp	r0, #0
 519 005a E8D0     		beq	.L37
3649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
 520              		.loc 1 3649 7 is_stmt 1 view .LVU133
 521 005c 636D     		ldr	r3, [r4, #84]
 522 005e 43F02003 		orr	r3, r3, #32
 523 0062 6365     		str	r3, [r4, #84]
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 524              		.loc 1 3650 7 view .LVU134
3650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 525              		.loc 1 3650 14 is_stmt 0 view .LVU135
 526 0064 0320     		movs	r0, #3
 527 0066 E2E7     		b	.L37
 528              	.L41:
3658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       return HAL_TIMEOUT;
 529              		.loc 1 3658 7 is_stmt 1 view .LVU136
 530 0068 636D     		ldr	r3, [r4, #84]
 531 006a 43F02003 		orr	r3, r3, #32
 532 006e 6365     		str	r3, [r4, #84]
3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 533              		.loc 1 3659 7 view .LVU137
3659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 534              		.loc 1 3659 14 is_stmt 0 view .LVU138
 535 0070 0320     		movs	r0, #3
 536 0072 DCE7     		b	.L37
 537              		.cfi_endproc
 538              	.LFE113:
ARM GAS  /tmp/ccA9MgmD.s 			page 82


 540              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 541              		.align	1
 542              		.weak	HAL_SPI_MspInit
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
 547              	HAL_SPI_MspInit:
 548              	.LVL27:
 549              	.LFB67:
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 550              		.loc 1 508 1 is_stmt 1 view -0
 551              		.cfi_startproc
 552              		@ args = 0, pretend = 0, frame = 0
 553              		@ frame_needed = 0, uses_anonymous_args = 0
 554              		@ link register save eliminated.
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 555              		.loc 1 510 3 view .LVU140
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 556              		.loc 1 515 1 is_stmt 0 view .LVU141
 557 0000 7047     		bx	lr
 558              		.cfi_endproc
 559              	.LFE67:
 561              		.section	.text.HAL_SPI_Init,"ax",%progbits
 562              		.align	1
 563              		.global	HAL_SPI_Init
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 568              	HAL_SPI_Init:
 569              	.LVL28:
 570              	.LFB65:
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 571              		.loc 1 336 1 is_stmt 1 view -0
 572              		.cfi_startproc
 573              		@ args = 0, pretend = 0, frame = 0
 574              		@ frame_needed = 0, uses_anonymous_args = 0
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 575              		.loc 1 338 3 view .LVU143
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 576              		.loc 1 338 6 is_stmt 0 view .LVU144
 577 0000 0028     		cmp	r0, #0
 578 0002 56D0     		beq	.L48
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 579              		.loc 1 336 1 view .LVU145
 580 0004 10B5     		push	{r4, lr}
 581              	.LCFI13:
 582              		.cfi_def_cfa_offset 8
 583              		.cfi_offset 4, -8
 584              		.cfi_offset 14, -4
 585 0006 0446     		mov	r4, r0
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 586              		.loc 1 344 3 is_stmt 1 view .LVU146
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 587              		.loc 1 345 3 view .LVU147
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 588              		.loc 1 346 3 view .LVU148
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
ARM GAS  /tmp/ccA9MgmD.s 			page 83


 589              		.loc 1 347 3 view .LVU149
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 590              		.loc 1 348 3 view .LVU150
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 591              		.loc 1 349 3 view .LVU151
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* TI mode is not supported on this device.
 592              		.loc 1 350 3 view .LVU152
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 593              		.loc 1 353 3 view .LVU153
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 594              		.loc 1 354 3 view .LVU154
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 595              		.loc 1 354 17 is_stmt 0 view .LVU155
 596 0008 436A     		ldr	r3, [r0, #36]
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 597              		.loc 1 354 6 view .LVU156
 598 000a 33B9     		cbnz	r3, .L45
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 599              		.loc 1 356 5 is_stmt 1 view .LVU157
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 600              		.loc 1 357 5 view .LVU158
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 601              		.loc 1 359 5 view .LVU159
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 602              		.loc 1 359 19 is_stmt 0 view .LVU160
 603 000c 4368     		ldr	r3, [r0, #4]
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 604              		.loc 1 359 8 view .LVU161
 605 000e B3F5827F 		cmp	r3, #260
 606 0012 05D0     		beq	.L46
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 607              		.loc 1 366 7 is_stmt 1 view .LVU162
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 608              		.loc 1 366 36 is_stmt 0 view .LVU163
 609 0014 0023     		movs	r3, #0
 610 0016 C361     		str	r3, [r0, #28]
 611 0018 02E0     		b	.L46
 612              	.L45:
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 613              		.loc 1 371 5 is_stmt 1 view .LVU164
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 614              		.loc 1 374 5 view .LVU165
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 615              		.loc 1 374 28 is_stmt 0 view .LVU166
 616 001a 0023     		movs	r3, #0
 617 001c 0361     		str	r3, [r0, #16]
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 618              		.loc 1 375 5 is_stmt 1 view .LVU167
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 619              		.loc 1 375 28 is_stmt 0 view .LVU168
 620 001e 4361     		str	r3, [r0, #20]
 621              	.L46:
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 622              		.loc 1 384 3 is_stmt 1 view .LVU169
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 623              		.loc 1 384 29 is_stmt 0 view .LVU170
 624 0020 0023     		movs	r3, #0
ARM GAS  /tmp/ccA9MgmD.s 			page 84


 625 0022 A362     		str	r3, [r4, #40]
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 626              		.loc 1 387 3 is_stmt 1 view .LVU171
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 627              		.loc 1 387 11 is_stmt 0 view .LVU172
 628 0024 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 629              		.loc 1 387 6 view .LVU173
 630 0028 002B     		cmp	r3, #0
 631 002a 3CD0     		beq	.L53
 632              	.LVL29:
 633              	.L47:
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 634              		.loc 1 416 3 is_stmt 1 view .LVU174
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 635              		.loc 1 416 15 is_stmt 0 view .LVU175
 636 002c 0223     		movs	r3, #2
 637 002e 84F85130 		strb	r3, [r4, #81]
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 638              		.loc 1 419 3 is_stmt 1 view .LVU176
 639 0032 2268     		ldr	r2, [r4]
 640 0034 1368     		ldr	r3, [r2]
 641 0036 23F04003 		bic	r3, r3, #64
 642 003a 1360     		str	r3, [r2]
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 643              		.loc 1 424 3 view .LVU177
 644 003c 6368     		ldr	r3, [r4, #4]
 645 003e 03F48273 		and	r3, r3, #260
 646 0042 A268     		ldr	r2, [r4, #8]
 647 0044 02F40442 		and	r2, r2, #33792
 648 0048 1343     		orrs	r3, r3, r2
 649 004a E268     		ldr	r2, [r4, #12]
 650 004c 02F40062 		and	r2, r2, #2048
 651 0050 1343     		orrs	r3, r3, r2
 652 0052 2269     		ldr	r2, [r4, #16]
 653 0054 02F00202 		and	r2, r2, #2
 654 0058 1343     		orrs	r3, r3, r2
 655 005a 6269     		ldr	r2, [r4, #20]
 656 005c 02F00102 		and	r2, r2, #1
 657 0060 1343     		orrs	r3, r3, r2
 658 0062 A269     		ldr	r2, [r4, #24]
 659 0064 02F40072 		and	r2, r2, #512
 660 0068 1343     		orrs	r3, r3, r2
 661 006a E269     		ldr	r2, [r4, #28]
 662 006c 02F03802 		and	r2, r2, #56
 663 0070 1343     		orrs	r3, r3, r2
 664 0072 226A     		ldr	r2, [r4, #32]
 665 0074 02F08002 		and	r2, r2, #128
 666 0078 1343     		orrs	r3, r3, r2
 667 007a A26A     		ldr	r2, [r4, #40]
 668 007c 02F40052 		and	r2, r2, #8192
 669 0080 2168     		ldr	r1, [r4]
 670 0082 1343     		orrs	r3, r3, r2
 671 0084 0B60     		str	r3, [r1]
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 672              		.loc 1 435 3 view .LVU178
 673 0086 638B     		ldrh	r3, [r4, #26]
ARM GAS  /tmp/ccA9MgmD.s 			page 85


 674 0088 2268     		ldr	r2, [r4]
 675 008a 03F00403 		and	r3, r3, #4
 676 008e 5360     		str	r3, [r2, #4]
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 677              		.loc 1 448 3 view .LVU179
 678 0090 2268     		ldr	r2, [r4]
 679 0092 D369     		ldr	r3, [r2, #28]
 680 0094 23F40063 		bic	r3, r3, #2048
 681 0098 D361     		str	r3, [r2, #28]
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 682              		.loc 1 451 3 view .LVU180
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 683              		.loc 1 451 19 is_stmt 0 view .LVU181
 684 009a 0020     		movs	r0, #0
 685 009c 6065     		str	r0, [r4, #84]
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 686              		.loc 1 452 3 is_stmt 1 view .LVU182
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 687              		.loc 1 452 19 is_stmt 0 view .LVU183
 688 009e 0123     		movs	r3, #1
 689 00a0 84F85130 		strb	r3, [r4, #81]
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 690              		.loc 1 454 3 is_stmt 1 view .LVU184
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 691              		.loc 1 455 1 is_stmt 0 view .LVU185
 692 00a4 10BD     		pop	{r4, pc}
 693              	.LVL30:
 694              	.L53:
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 695              		.loc 1 390 5 is_stmt 1 view .LVU186
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 696              		.loc 1 390 16 is_stmt 0 view .LVU187
 697 00a6 84F85030 		strb	r3, [r4, #80]
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 698              		.loc 1 412 5 is_stmt 1 view .LVU188
 699 00aa 2046     		mov	r0, r4
 700              	.LVL31:
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 701              		.loc 1 412 5 is_stmt 0 view .LVU189
 702 00ac FFF7FEFF 		bl	HAL_SPI_MspInit
 703              	.LVL32:
 704 00b0 BCE7     		b	.L47
 705              	.LVL33:
 706              	.L48:
 707              	.LCFI14:
 708              		.cfi_def_cfa_offset 0
 709              		.cfi_restore 4
 710              		.cfi_restore 14
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 711              		.loc 1 340 12 view .LVU190
 712 00b2 0120     		movs	r0, #1
 713              	.LVL34:
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 714              		.loc 1 455 1 view .LVU191
 715 00b4 7047     		bx	lr
 716              		.cfi_endproc
 717              	.LFE65:
ARM GAS  /tmp/ccA9MgmD.s 			page 86


 719              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 720              		.align	1
 721              		.weak	HAL_SPI_MspDeInit
 722              		.syntax unified
 723              		.thumb
 724              		.thumb_func
 726              	HAL_SPI_MspDeInit:
 727              	.LVL35:
 728              	.LFB68:
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 729              		.loc 1 524 1 is_stmt 1 view -0
 730              		.cfi_startproc
 731              		@ args = 0, pretend = 0, frame = 0
 732              		@ frame_needed = 0, uses_anonymous_args = 0
 733              		@ link register save eliminated.
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 734              		.loc 1 526 3 view .LVU193
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 735              		.loc 1 531 1 is_stmt 0 view .LVU194
 736 0000 7047     		bx	lr
 737              		.cfi_endproc
 738              	.LFE68:
 740              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 741              		.align	1
 742              		.global	HAL_SPI_DeInit
 743              		.syntax unified
 744              		.thumb
 745              		.thumb_func
 747              	HAL_SPI_DeInit:
 748              	.LVL36:
 749              	.LFB66:
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 750              		.loc 1 464 1 is_stmt 1 view -0
 751              		.cfi_startproc
 752              		@ args = 0, pretend = 0, frame = 0
 753              		@ frame_needed = 0, uses_anonymous_args = 0
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 754              		.loc 1 466 3 view .LVU196
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 755              		.loc 1 466 6 is_stmt 0 view .LVU197
 756 0000 90B1     		cbz	r0, .L57
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check the SPI handle allocation */
 757              		.loc 1 464 1 view .LVU198
 758 0002 10B5     		push	{r4, lr}
 759              	.LCFI15:
 760              		.cfi_def_cfa_offset 8
 761              		.cfi_offset 4, -8
 762              		.cfi_offset 14, -4
 763 0004 0446     		mov	r4, r0
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 764              		.loc 1 472 3 is_stmt 1 view .LVU199
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 765              		.loc 1 474 3 view .LVU200
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 766              		.loc 1 474 15 is_stmt 0 view .LVU201
 767 0006 0223     		movs	r3, #2
 768 0008 80F85130 		strb	r3, [r0, #81]
ARM GAS  /tmp/ccA9MgmD.s 			page 87


 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 769              		.loc 1 477 3 is_stmt 1 view .LVU202
 770 000c 0268     		ldr	r2, [r0]
 771 000e 1368     		ldr	r3, [r2]
 772 0010 23F04003 		bic	r3, r3, #64
 773 0014 1360     		str	r3, [r2]
 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 774              		.loc 1 489 3 view .LVU203
 775 0016 FFF7FEFF 		bl	HAL_SPI_MspDeInit
 776              	.LVL37:
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 777              		.loc 1 492 3 view .LVU204
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 778              		.loc 1 492 19 is_stmt 0 view .LVU205
 779 001a 0020     		movs	r0, #0
 780 001c 6065     		str	r0, [r4, #84]
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 781              		.loc 1 493 3 is_stmt 1 view .LVU206
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 782              		.loc 1 493 15 is_stmt 0 view .LVU207
 783 001e 84F85100 		strb	r0, [r4, #81]
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 784              		.loc 1 496 3 is_stmt 1 view .LVU208
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 785              		.loc 1 496 3 view .LVU209
 786 0022 84F85000 		strb	r0, [r4, #80]
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 787              		.loc 1 496 3 view .LVU210
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 788              		.loc 1 498 3 view .LVU211
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 789              		.loc 1 499 1 is_stmt 0 view .LVU212
 790 0026 10BD     		pop	{r4, pc}
 791              	.LVL38:
 792              	.L57:
 793              	.LCFI16:
 794              		.cfi_def_cfa_offset 0
 795              		.cfi_restore 4
 796              		.cfi_restore 14
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 797              		.loc 1 468 12 view .LVU213
 798 0028 0120     		movs	r0, #1
 799              	.LVL39:
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 800              		.loc 1 499 1 view .LVU214
 801 002a 7047     		bx	lr
 802              		.cfi_endproc
 803              	.LFE66:
 805              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 806              		.align	1
 807              		.global	HAL_SPI_Transmit
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 812              	HAL_SPI_Transmit:
 813              	.LVL40:
 814              	.LFB69:
ARM GAS  /tmp/ccA9MgmD.s 			page 88


 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 815              		.loc 1 796 1 is_stmt 1 view -0
 816              		.cfi_startproc
 817              		@ args = 0, pretend = 0, frame = 8
 818              		@ frame_needed = 0, uses_anonymous_args = 0
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 819              		.loc 1 796 1 is_stmt 0 view .LVU216
 820 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 821              	.LCFI17:
 822              		.cfi_def_cfa_offset 28
 823              		.cfi_offset 4, -28
 824              		.cfi_offset 5, -24
 825              		.cfi_offset 6, -20
 826              		.cfi_offset 7, -16
 827              		.cfi_offset 8, -12
 828              		.cfi_offset 9, -8
 829              		.cfi_offset 14, -4
 830 0004 83B0     		sub	sp, sp, #12
 831              	.LCFI18:
 832              		.cfi_def_cfa_offset 40
 833 0006 0446     		mov	r4, r0
 834 0008 8946     		mov	r9, r1
 835 000a 9046     		mov	r8, r2
 836 000c 1D46     		mov	r5, r3
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 837              		.loc 1 797 3 is_stmt 1 view .LVU217
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 838              		.loc 1 798 3 view .LVU218
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 839              		.loc 1 801 3 view .LVU219
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 840              		.loc 1 804 3 view .LVU220
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 841              		.loc 1 804 15 is_stmt 0 view .LVU221
 842 000e FFF7FEFF 		bl	HAL_GetTick
 843              	.LVL41:
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 844              		.loc 1 805 3 is_stmt 1 view .LVU222
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 845              		.loc 1 807 3 view .LVU223
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 846              		.loc 1 807 11 is_stmt 0 view .LVU224
 847 0012 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 848              		.loc 1 807 6 view .LVU225
 849 0016 012B     		cmp	r3, #1
 850 0018 40F0CD80 		bne	.L86
 851 001c 0646     		mov	r6, r0
 852 001e DFB2     		uxtb	r7, r3
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 853              		.loc 1 812 3 is_stmt 1 view .LVU226
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 854              		.loc 1 812 6 is_stmt 0 view .LVU227
 855 0020 B9F1000F 		cmp	r9, #0
 856 0024 00F0C880 		beq	.L63
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 857              		.loc 1 812 23 discriminator 1 view .LVU228
ARM GAS  /tmp/ccA9MgmD.s 			page 89


 858 0028 B8F1000F 		cmp	r8, #0
 859 002c 00F0C480 		beq	.L63
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 860              		.loc 1 818 3 is_stmt 1 view .LVU229
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 861              		.loc 1 818 3 view .LVU230
 862 0030 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 863 0034 012B     		cmp	r3, #1
 864 0036 00F0C380 		beq	.L87
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 865              		.loc 1 818 3 discriminator 2 view .LVU231
 866 003a 0123     		movs	r3, #1
 867 003c 84F85030 		strb	r3, [r4, #80]
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 868              		.loc 1 818 3 view .LVU232
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 869              		.loc 1 821 3 view .LVU233
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 870              		.loc 1 821 21 is_stmt 0 view .LVU234
 871 0040 0323     		movs	r3, #3
 872 0042 84F85130 		strb	r3, [r4, #81]
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 873              		.loc 1 822 3 is_stmt 1 view .LVU235
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 874              		.loc 1 822 21 is_stmt 0 view .LVU236
 875 0046 0023     		movs	r3, #0
 876 0048 6365     		str	r3, [r4, #84]
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 877              		.loc 1 823 3 is_stmt 1 view .LVU237
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 878              		.loc 1 823 21 is_stmt 0 view .LVU238
 879 004a C4F83090 		str	r9, [r4, #48]
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 880              		.loc 1 824 3 is_stmt 1 view .LVU239
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 881              		.loc 1 824 21 is_stmt 0 view .LVU240
 882 004e A4F83480 		strh	r8, [r4, #52]	@ movhi
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 883              		.loc 1 825 3 is_stmt 1 view .LVU241
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 884              		.loc 1 825 21 is_stmt 0 view .LVU242
 885 0052 A4F83680 		strh	r8, [r4, #54]	@ movhi
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 886              		.loc 1 828 3 is_stmt 1 view .LVU243
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 887              		.loc 1 828 21 is_stmt 0 view .LVU244
 888 0056 A363     		str	r3, [r4, #56]
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 889              		.loc 1 829 3 is_stmt 1 view .LVU245
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 890              		.loc 1 829 21 is_stmt 0 view .LVU246
 891 0058 A387     		strh	r3, [r4, #60]	@ movhi
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 892              		.loc 1 830 3 is_stmt 1 view .LVU247
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 893              		.loc 1 830 21 is_stmt 0 view .LVU248
 894 005a E387     		strh	r3, [r4, #62]	@ movhi
ARM GAS  /tmp/ccA9MgmD.s 			page 90


 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 895              		.loc 1 831 3 is_stmt 1 view .LVU249
 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 896              		.loc 1 831 21 is_stmt 0 view .LVU250
 897 005c 6364     		str	r3, [r4, #68]
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 898              		.loc 1 832 3 is_stmt 1 view .LVU251
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 899              		.loc 1 832 21 is_stmt 0 view .LVU252
 900 005e 2364     		str	r3, [r4, #64]
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 901              		.loc 1 835 3 is_stmt 1 view .LVU253
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 902              		.loc 1 835 17 is_stmt 0 view .LVU254
 903 0060 A368     		ldr	r3, [r4, #8]
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 904              		.loc 1 835 6 view .LVU255
 905 0062 B3F5004F 		cmp	r3, #32768
 906 0066 1ED0     		beq	.L90
 907              	.L64:
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 908              		.loc 1 851 3 is_stmt 1 view .LVU256
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 909              		.loc 1 851 12 is_stmt 0 view .LVU257
 910 0068 2368     		ldr	r3, [r4]
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 911              		.loc 1 851 22 view .LVU258
 912 006a 1A68     		ldr	r2, [r3]
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 913              		.loc 1 851 6 view .LVU259
 914 006c 12F0400F 		tst	r2, #64
 915 0070 03D1     		bne	.L65
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 916              		.loc 1 854 5 is_stmt 1 view .LVU260
 917 0072 1A68     		ldr	r2, [r3]
 918 0074 42F04002 		orr	r2, r2, #64
 919 0078 1A60     		str	r2, [r3]
 920              	.L65:
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 921              		.loc 1 858 3 view .LVU261
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 922              		.loc 1 858 17 is_stmt 0 view .LVU262
 923 007a E368     		ldr	r3, [r4, #12]
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 924              		.loc 1 858 6 view .LVU263
 925 007c B3F5006F 		cmp	r3, #2048
 926 0080 1CD0     		beq	.L91
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 927              		.loc 1 891 5 is_stmt 1 view .LVU264
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 928              		.loc 1 891 20 is_stmt 0 view .LVU265
 929 0082 6368     		ldr	r3, [r4, #4]
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 930              		.loc 1 891 8 view .LVU266
 931 0084 13B1     		cbz	r3, .L76
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 932              		.loc 1 891 45 discriminator 1 view .LVU267
ARM GAS  /tmp/ccA9MgmD.s 			page 91


 933 0086 B8F1010F 		cmp	r8, #1
 934 008a 5FD1     		bne	.L82
 935              	.L76:
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 936              		.loc 1 893 7 is_stmt 1 view .LVU268
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 937              		.loc 1 893 71 is_stmt 0 view .LVU269
 938 008c 226B     		ldr	r2, [r4, #48]
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 939              		.loc 1 893 30 view .LVU270
 940 008e 2368     		ldr	r3, [r4]
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 941              		.loc 1 893 48 view .LVU271
 942 0090 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 943              		.loc 1 893 46 view .LVU272
 944 0092 1A73     		strb	r2, [r3, #12]
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 945              		.loc 1 894 7 is_stmt 1 view .LVU273
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 946              		.loc 1 894 11 is_stmt 0 view .LVU274
 947 0094 236B     		ldr	r3, [r4, #48]
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 948              		.loc 1 894 24 view .LVU275
 949 0096 0133     		adds	r3, r3, #1
 950 0098 2363     		str	r3, [r4, #48]
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 951              		.loc 1 895 7 is_stmt 1 view .LVU276
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 952              		.loc 1 895 11 is_stmt 0 view .LVU277
 953 009a E38E     		ldrh	r3, [r4, #54]
 954 009c 9BB2     		uxth	r3, r3
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 955              		.loc 1 895 24 view .LVU278
 956 009e 013B     		subs	r3, r3, #1
 957 00a0 9BB2     		uxth	r3, r3
 958 00a2 E386     		strh	r3, [r4, #54]	@ movhi
 959 00a4 52E0     		b	.L82
 960              	.L90:
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 961              		.loc 1 838 5 is_stmt 1 view .LVU279
 962 00a6 2268     		ldr	r2, [r4]
 963 00a8 1368     		ldr	r3, [r2]
 964 00aa 23F04003 		bic	r3, r3, #64
 965 00ae 1360     		str	r3, [r2]
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 966              		.loc 1 839 5 view .LVU280
 967 00b0 2268     		ldr	r2, [r4]
 968 00b2 1368     		ldr	r3, [r2]
 969 00b4 43F48043 		orr	r3, r3, #16384
 970 00b8 1360     		str	r3, [r2]
 971 00ba D5E7     		b	.L64
 972              	.L91:
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 973              		.loc 1 860 5 view .LVU281
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 974              		.loc 1 860 20 is_stmt 0 view .LVU282
ARM GAS  /tmp/ccA9MgmD.s 			page 92


 975 00bc 6368     		ldr	r3, [r4, #4]
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 976              		.loc 1 860 8 view .LVU283
 977 00be 13B1     		cbz	r3, .L67
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 978              		.loc 1 860 45 discriminator 1 view .LVU284
 979 00c0 B8F1010F 		cmp	r8, #1
 980 00c4 15D1     		bne	.L73
 981              	.L67:
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 982              		.loc 1 862 7 is_stmt 1 view .LVU285
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 983              		.loc 1 862 52 is_stmt 0 view .LVU286
 984 00c6 226B     		ldr	r2, [r4, #48]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 985              		.loc 1 862 11 view .LVU287
 986 00c8 2368     		ldr	r3, [r4]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 987              		.loc 1 862 28 view .LVU288
 988 00ca 1288     		ldrh	r2, [r2]
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 989              		.loc 1 862 26 view .LVU289
 990 00cc DA60     		str	r2, [r3, #12]
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 991              		.loc 1 863 7 is_stmt 1 view .LVU290
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 992              		.loc 1 863 11 is_stmt 0 view .LVU291
 993 00ce 236B     		ldr	r3, [r4, #48]
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 994              		.loc 1 863 24 view .LVU292
 995 00d0 0233     		adds	r3, r3, #2
 996 00d2 2363     		str	r3, [r4, #48]
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 997              		.loc 1 864 7 is_stmt 1 view .LVU293
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 998              		.loc 1 864 11 is_stmt 0 view .LVU294
 999 00d4 E38E     		ldrh	r3, [r4, #54]
 1000 00d6 9BB2     		uxth	r3, r3
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 1001              		.loc 1 864 24 view .LVU295
 1002 00d8 013B     		subs	r3, r3, #1
 1003 00da 9BB2     		uxth	r3, r3
 1004 00dc E386     		strh	r3, [r4, #54]	@ movhi
 1005 00de 08E0     		b	.L73
 1006              	.LVL42:
 1007              	.L69:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1008              		.loc 1 879 9 is_stmt 1 view .LVU296
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1009              		.loc 1 879 16 is_stmt 0 view .LVU297
 1010 00e0 FFF7FEFF 		bl	HAL_GetTick
 1011              	.LVL43:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1012              		.loc 1 879 30 discriminator 1 view .LVU298
 1013 00e4 801B     		subs	r0, r0, r6
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1014              		.loc 1 879 12 discriminator 1 view .LVU299
ARM GAS  /tmp/ccA9MgmD.s 			page 93


 1015 00e6 A842     		cmp	r0, r5
 1016 00e8 02D3     		bcc	.L71
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1017              		.loc 1 879 56 discriminator 1 view .LVU300
 1018 00ea B5F1FF3F 		cmp	r5, #-1
 1019 00ee 15D1     		bne	.L72
 1020              	.L71:
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1021              		.loc 1 879 87 discriminator 3 view .LVU301
 1022 00f0 A5B1     		cbz	r5, .L72
 1023              	.L73:
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1024              		.loc 1 867 30 is_stmt 1 view .LVU302
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1025              		.loc 1 867 16 is_stmt 0 view .LVU303
 1026 00f2 E38E     		ldrh	r3, [r4, #54]
 1027 00f4 9BB2     		uxth	r3, r3
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1028              		.loc 1 867 30 view .LVU304
 1029 00f6 002B     		cmp	r3, #0
 1030 00f8 42D0     		beq	.L75
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1031              		.loc 1 870 7 is_stmt 1 view .LVU305
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1032              		.loc 1 870 11 is_stmt 0 view .LVU306
 1033 00fa 2368     		ldr	r3, [r4]
 1034 00fc 9A68     		ldr	r2, [r3, #8]
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1035              		.loc 1 870 10 view .LVU307
 1036 00fe 12F0020F 		tst	r2, #2
 1037 0102 EDD0     		beq	.L69
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1038              		.loc 1 872 9 is_stmt 1 view .LVU308
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1039              		.loc 1 872 54 is_stmt 0 view .LVU309
 1040 0104 226B     		ldr	r2, [r4, #48]
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1041              		.loc 1 872 30 view .LVU310
 1042 0106 1288     		ldrh	r2, [r2]
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1043              		.loc 1 872 28 view .LVU311
 1044 0108 DA60     		str	r2, [r3, #12]
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1045              		.loc 1 873 9 is_stmt 1 view .LVU312
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1046              		.loc 1 873 13 is_stmt 0 view .LVU313
 1047 010a 236B     		ldr	r3, [r4, #48]
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1048              		.loc 1 873 26 view .LVU314
 1049 010c 0233     		adds	r3, r3, #2
 1050 010e 2363     		str	r3, [r4, #48]
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1051              		.loc 1 874 9 is_stmt 1 view .LVU315
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1052              		.loc 1 874 13 is_stmt 0 view .LVU316
 1053 0110 E38E     		ldrh	r3, [r4, #54]
 1054 0112 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccA9MgmD.s 			page 94


 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1055              		.loc 1 874 26 view .LVU317
 1056 0114 013B     		subs	r3, r3, #1
 1057 0116 9BB2     		uxth	r3, r3
 1058 0118 E386     		strh	r3, [r4, #54]	@ movhi
 1059 011a EAE7     		b	.L73
 1060              	.L72:
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1061              		.loc 1 881 11 is_stmt 1 view .LVU318
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1062              		.loc 1 881 23 is_stmt 0 view .LVU319
 1063 011c 0123     		movs	r3, #1
 1064 011e 84F85130 		strb	r3, [r4, #81]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1065              		.loc 1 882 11 is_stmt 1 view .LVU320
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1066              		.loc 1 882 11 view .LVU321
 1067 0122 0023     		movs	r3, #0
 1068 0124 84F85030 		strb	r3, [r4, #80]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1069              		.loc 1 882 11 view .LVU322
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1070              		.loc 1 883 11 view .LVU323
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1071              		.loc 1 883 18 is_stmt 0 view .LVU324
 1072 0128 0327     		movs	r7, #3
 1073 012a 45E0     		b	.L63
 1074              	.L92:
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1075              		.loc 1 902 9 is_stmt 1 view .LVU325
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1076              		.loc 1 902 73 is_stmt 0 view .LVU326
 1077 012c 226B     		ldr	r2, [r4, #48]
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1078              		.loc 1 902 50 view .LVU327
 1079 012e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 1080              		.loc 1 902 48 view .LVU328
 1081 0130 1A73     		strb	r2, [r3, #12]
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1082              		.loc 1 903 9 is_stmt 1 view .LVU329
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1083              		.loc 1 903 13 is_stmt 0 view .LVU330
 1084 0132 236B     		ldr	r3, [r4, #48]
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1085              		.loc 1 903 26 view .LVU331
 1086 0134 0133     		adds	r3, r3, #1
 1087 0136 2363     		str	r3, [r4, #48]
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1088              		.loc 1 904 9 is_stmt 1 view .LVU332
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1089              		.loc 1 904 13 is_stmt 0 view .LVU333
 1090 0138 B4F836C0 		ldrh	ip, [r4, #54]
 1091 013c 1FFA8CFC 		uxth	ip, ip
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1092              		.loc 1 904 26 view .LVU334
 1093 0140 0CF1FF3C 		add	ip, ip, #-1
ARM GAS  /tmp/ccA9MgmD.s 			page 95


 1094 0144 1FFA8CFC 		uxth	ip, ip
 1095 0148 A4F836C0 		strh	ip, [r4, #54]	@ movhi
 1096              	.L82:
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1097              		.loc 1 897 30 is_stmt 1 view .LVU335
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1098              		.loc 1 897 16 is_stmt 0 view .LVU336
 1099 014c E38E     		ldrh	r3, [r4, #54]
 1100 014e 9BB2     		uxth	r3, r3
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1101              		.loc 1 897 30 view .LVU337
 1102 0150 B3B1     		cbz	r3, .L75
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1103              		.loc 1 900 7 is_stmt 1 view .LVU338
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1104              		.loc 1 900 11 is_stmt 0 view .LVU339
 1105 0152 2368     		ldr	r3, [r4]
 1106 0154 9A68     		ldr	r2, [r3, #8]
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1107              		.loc 1 900 10 view .LVU340
 1108 0156 12F0020F 		tst	r2, #2
 1109 015a E7D1     		bne	.L92
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1110              		.loc 1 909 9 is_stmt 1 view .LVU341
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1111              		.loc 1 909 16 is_stmt 0 view .LVU342
 1112 015c FFF7FEFF 		bl	HAL_GetTick
 1113              	.LVL44:
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1114              		.loc 1 909 30 discriminator 1 view .LVU343
 1115 0160 801B     		subs	r0, r0, r6
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1116              		.loc 1 909 12 discriminator 1 view .LVU344
 1117 0162 A842     		cmp	r0, r5
 1118 0164 02D3     		bcc	.L80
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1119              		.loc 1 909 56 discriminator 1 view .LVU345
 1120 0166 B5F1FF3F 		cmp	r5, #-1
 1121 016a 01D1     		bne	.L81
 1122              	.L80:
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1123              		.loc 1 909 87 discriminator 3 view .LVU346
 1124 016c 002D     		cmp	r5, #0
 1125 016e EDD1     		bne	.L82
 1126              	.L81:
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1127              		.loc 1 911 11 is_stmt 1 view .LVU347
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1128              		.loc 1 911 23 is_stmt 0 view .LVU348
 1129 0170 0123     		movs	r3, #1
 1130 0172 84F85130 		strb	r3, [r4, #81]
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1131              		.loc 1 912 11 is_stmt 1 view .LVU349
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1132              		.loc 1 912 11 view .LVU350
 1133 0176 0023     		movs	r3, #0
 1134 0178 84F85030 		strb	r3, [r4, #80]
ARM GAS  /tmp/ccA9MgmD.s 			page 96


 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 1135              		.loc 1 912 11 view .LVU351
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1136              		.loc 1 913 11 view .LVU352
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 1137              		.loc 1 913 18 is_stmt 0 view .LVU353
 1138 017c 0327     		movs	r7, #3
 1139 017e 1BE0     		b	.L63
 1140              	.L75:
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1141              		.loc 1 927 3 is_stmt 1 view .LVU354
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1142              		.loc 1 927 7 is_stmt 0 view .LVU355
 1143 0180 3246     		mov	r2, r6
 1144 0182 2946     		mov	r1, r5
 1145 0184 2046     		mov	r0, r4
 1146 0186 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1147              	.LVL45:
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1148              		.loc 1 927 6 discriminator 1 view .LVU356
 1149 018a 08B1     		cbz	r0, .L84
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1150              		.loc 1 929 5 is_stmt 1 view .LVU357
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1151              		.loc 1 929 21 is_stmt 0 view .LVU358
 1152 018c 2023     		movs	r3, #32
 1153 018e 6365     		str	r3, [r4, #84]
 1154              	.L84:
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1155              		.loc 1 933 3 is_stmt 1 view .LVU359
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1156              		.loc 1 933 17 is_stmt 0 view .LVU360
 1157 0190 A368     		ldr	r3, [r4, #8]
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1158              		.loc 1 933 6 view .LVU361
 1159 0192 33B9     		cbnz	r3, .L85
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1160              		.loc 1 935 5 is_stmt 1 view .LVU362
 1161              	.LBB2:
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1162              		.loc 1 935 5 view .LVU363
 1163 0194 0193     		str	r3, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1164              		.loc 1 935 5 view .LVU364
 1165 0196 2368     		ldr	r3, [r4]
 1166 0198 DA68     		ldr	r2, [r3, #12]
 1167 019a 0192     		str	r2, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1168              		.loc 1 935 5 view .LVU365
 1169 019c 9B68     		ldr	r3, [r3, #8]
 1170 019e 0193     		str	r3, [sp, #4]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1171              		.loc 1 935 5 view .LVU366
 1172 01a0 019B     		ldr	r3, [sp, #4]
 1173              	.L85:
 1174              	.LBE2:
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 97


 1175              		.loc 1 935 5 discriminator 1 view .LVU367
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 1176              		.loc 1 938 3 view .LVU368
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Unlocked */
 1177              		.loc 1 938 15 is_stmt 0 view .LVU369
 1178 01a2 0123     		movs	r3, #1
 1179 01a4 84F85130 		strb	r3, [r4, #81]
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1180              		.loc 1 940 3 is_stmt 1 view .LVU370
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1181              		.loc 1 940 3 view .LVU371
 1182 01a8 0023     		movs	r3, #0
 1183 01aa 84F85030 		strb	r3, [r4, #80]
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1184              		.loc 1 940 3 view .LVU372
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1185              		.loc 1 942 3 view .LVU373
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1186              		.loc 1 942 11 is_stmt 0 view .LVU374
 1187 01ae 636D     		ldr	r3, [r4, #84]
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1188              		.loc 1 942 6 view .LVU375
 1189 01b0 13B9     		cbnz	r3, .L63
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1190              		.loc 1 948 12 view .LVU376
 1191 01b2 0027     		movs	r7, #0
 1192 01b4 00E0     		b	.L63
 1193              	.LVL46:
 1194              	.L86:
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1195              		.loc 1 809 12 view .LVU377
 1196 01b6 0227     		movs	r7, #2
 1197              	.LVL47:
 1198              	.L63:
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1199              		.loc 1 950 1 view .LVU378
 1200 01b8 3846     		mov	r0, r7
 1201 01ba 03B0     		add	sp, sp, #12
 1202              	.LCFI19:
 1203              		.cfi_remember_state
 1204              		.cfi_def_cfa_offset 28
 1205              		@ sp needed
 1206 01bc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1207              	.LVL48:
 1208              	.L87:
 1209              	.LCFI20:
 1210              		.cfi_restore_state
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1211              		.loc 1 818 3 discriminator 1 view .LVU379
 1212 01c0 0227     		movs	r7, #2
 1213 01c2 F9E7     		b	.L63
 1214              		.cfi_endproc
 1215              	.LFE69:
 1217              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1218              		.align	1
 1219              		.global	HAL_SPI_TransmitReceive
 1220              		.syntax unified
ARM GAS  /tmp/ccA9MgmD.s 			page 98


 1221              		.thumb
 1222              		.thumb_func
 1224              	HAL_SPI_TransmitReceive:
 1225              	.LVL49:
 1226              	.LFB71:
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
 1227              		.loc 1 1179 1 is_stmt 1 view -0
 1228              		.cfi_startproc
 1229              		@ args = 4, pretend = 0, frame = 8
 1230              		@ frame_needed = 0, uses_anonymous_args = 0
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
 1231              		.loc 1 1179 1 is_stmt 0 view .LVU381
 1232 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1233              	.LCFI21:
 1234              		.cfi_def_cfa_offset 28
 1235              		.cfi_offset 4, -28
 1236              		.cfi_offset 5, -24
 1237              		.cfi_offset 6, -20
 1238              		.cfi_offset 7, -16
 1239              		.cfi_offset 8, -12
 1240              		.cfi_offset 9, -8
 1241              		.cfi_offset 14, -4
 1242 0004 83B0     		sub	sp, sp, #12
 1243              	.LCFI22:
 1244              		.cfi_def_cfa_offset 40
 1245 0006 0446     		mov	r4, r0
 1246 0008 8846     		mov	r8, r1
 1247 000a 9146     		mov	r9, r2
 1248 000c 1F46     		mov	r7, r3
 1249 000e 0A9D     		ldr	r5, [sp, #40]
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 1250              		.loc 1 1180 3 is_stmt 1 view .LVU382
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 1251              		.loc 1 1181 3 view .LVU383
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tickstart;
 1252              		.loc 1 1182 3 view .LVU384
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1253              		.loc 1 1183 3 view .LVU385
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1254              		.loc 1 1189 3 view .LVU386
 1255              	.LVL50:
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1256              		.loc 1 1192 3 view .LVU387
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1257              		.loc 1 1195 3 view .LVU388
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1258              		.loc 1 1195 15 is_stmt 0 view .LVU389
 1259 0010 FFF7FEFF 		bl	HAL_GetTick
 1260              	.LVL51:
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1261              		.loc 1 1195 15 view .LVU390
 1262 0014 0646     		mov	r6, r0
 1263              	.LVL52:
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1264              		.loc 1 1198 3 is_stmt 1 view .LVU391
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1265              		.loc 1 1198 23 is_stmt 0 view .LVU392
ARM GAS  /tmp/ccA9MgmD.s 			page 99


 1266 0016 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1267              	.LVL53:
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 1268              		.loc 1 1199 3 is_stmt 1 view .LVU393
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   initial_TxXferCount = Size;
 1269              		.loc 1 1199 23 is_stmt 0 view .LVU394
 1270 001a 6268     		ldr	r2, [r4, #4]
 1271              	.LVL54:
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1272              		.loc 1 1200 3 is_stmt 1 view .LVU395
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1273              		.loc 1 1202 3 view .LVU396
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1274              		.loc 1 1202 6 is_stmt 0 view .LVU397
 1275 001c 012B     		cmp	r3, #1
 1276 001e 0BD0     		beq	.L94
 1277 0020 D9B2     		uxtb	r1, r3
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1278              		.loc 1 1202 7 discriminator 1 view .LVU398
 1279 0022 B2F5827F 		cmp	r2, #260
 1280 0026 40F00481 		bne	.L116
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1281              		.loc 1 1203 54 view .LVU399
 1282 002a A368     		ldr	r3, [r4, #8]
 1283              	.LVL55:
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1284              		.loc 1 1203 40 view .LVU400
 1285 002c 002B     		cmp	r3, #0
 1286 002e 40F00481 		bne	.L117
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 1287              		.loc 1 1203 90 discriminator 1 view .LVU401
 1288 0032 0429     		cmp	r1, #4
 1289 0034 40F00381 		bne	.L118
 1290              	.LVL56:
 1291              	.L94:
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1292              		.loc 1 1209 3 is_stmt 1 view .LVU402
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1293              		.loc 1 1209 6 is_stmt 0 view .LVU403
 1294 0038 B8F1000F 		cmp	r8, #0
 1295 003c 00F00181 		beq	.L119
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1296              		.loc 1 1209 25 discriminator 1 view .LVU404
 1297 0040 B9F1000F 		cmp	r9, #0
 1298 0044 00F0FF80 		beq	.L120
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1299              		.loc 1 1209 46 discriminator 2 view .LVU405
 1300 0048 002F     		cmp	r7, #0
 1301 004a 00F0FE80 		beq	.L121
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1302              		.loc 1 1215 3 is_stmt 1 view .LVU406
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1303              		.loc 1 1215 3 view .LVU407
 1304 004e 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1305 0052 012B     		cmp	r3, #1
 1306 0054 00F0FB80 		beq	.L122
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 100


 1307              		.loc 1 1215 3 discriminator 2 view .LVU408
 1308 0058 0123     		movs	r3, #1
 1309 005a 84F85030 		strb	r3, [r4, #80]
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1310              		.loc 1 1215 3 view .LVU409
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1311              		.loc 1 1218 3 view .LVU410
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1312              		.loc 1 1218 11 is_stmt 0 view .LVU411
 1313 005e 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1314              		.loc 1 1218 6 view .LVU412
 1315 0062 042B     		cmp	r3, #4
 1316 0064 02D0     		beq	.L96
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1317              		.loc 1 1220 5 is_stmt 1 view .LVU413
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1318              		.loc 1 1220 17 is_stmt 0 view .LVU414
 1319 0066 0523     		movs	r3, #5
 1320 0068 84F85130 		strb	r3, [r4, #81]
 1321              	.L96:
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1322              		.loc 1 1224 3 is_stmt 1 view .LVU415
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1323              		.loc 1 1224 21 is_stmt 0 view .LVU416
 1324 006c 0023     		movs	r3, #0
 1325 006e 6365     		str	r3, [r4, #84]
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1326              		.loc 1 1225 3 is_stmt 1 view .LVU417
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1327              		.loc 1 1225 21 is_stmt 0 view .LVU418
 1328 0070 C4F83890 		str	r9, [r4, #56]
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1329              		.loc 1 1226 3 is_stmt 1 view .LVU419
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1330              		.loc 1 1226 21 is_stmt 0 view .LVU420
 1331 0074 E787     		strh	r7, [r4, #62]	@ movhi
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 1332              		.loc 1 1227 3 is_stmt 1 view .LVU421
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 1333              		.loc 1 1227 21 is_stmt 0 view .LVU422
 1334 0076 A787     		strh	r7, [r4, #60]	@ movhi
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1335              		.loc 1 1228 3 is_stmt 1 view .LVU423
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1336              		.loc 1 1228 21 is_stmt 0 view .LVU424
 1337 0078 C4F83080 		str	r8, [r4, #48]
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1338              		.loc 1 1229 3 is_stmt 1 view .LVU425
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1339              		.loc 1 1229 21 is_stmt 0 view .LVU426
 1340 007c E786     		strh	r7, [r4, #54]	@ movhi
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1341              		.loc 1 1230 3 is_stmt 1 view .LVU427
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1342              		.loc 1 1230 21 is_stmt 0 view .LVU428
 1343 007e A786     		strh	r7, [r4, #52]	@ movhi
ARM GAS  /tmp/ccA9MgmD.s 			page 101


1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1344              		.loc 1 1233 3 is_stmt 1 view .LVU429
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1345              		.loc 1 1233 21 is_stmt 0 view .LVU430
 1346 0080 2364     		str	r3, [r4, #64]
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1347              		.loc 1 1234 3 is_stmt 1 view .LVU431
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1348              		.loc 1 1234 21 is_stmt 0 view .LVU432
 1349 0082 6364     		str	r3, [r4, #68]
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1350              		.loc 1 1245 3 is_stmt 1 view .LVU433
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1351              		.loc 1 1245 12 is_stmt 0 view .LVU434
 1352 0084 2368     		ldr	r3, [r4]
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1353              		.loc 1 1245 22 view .LVU435
 1354 0086 1A68     		ldr	r2, [r3]
 1355              	.LVL57:
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1356              		.loc 1 1245 6 view .LVU436
 1357 0088 12F0400F 		tst	r2, #64
 1358 008c 03D1     		bne	.L97
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1359              		.loc 1 1248 5 is_stmt 1 view .LVU437
 1360 008e 1A68     		ldr	r2, [r3]
 1361 0090 42F04002 		orr	r2, r2, #64
 1362 0094 1A60     		str	r2, [r3]
 1363              	.LVL58:
 1364              	.L97:
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1365              		.loc 1 1252 3 view .LVU438
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1366              		.loc 1 1252 17 is_stmt 0 view .LVU439
 1367 0096 E368     		ldr	r3, [r4, #12]
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1368              		.loc 1 1252 6 view .LVU440
 1369 0098 B3F5006F 		cmp	r3, #2048
 1370 009c 11D0     		beq	.L124
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1371              		.loc 1 1309 5 is_stmt 1 view .LVU441
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1372              		.loc 1 1309 20 is_stmt 0 view .LVU442
 1373 009e 6368     		ldr	r3, [r4, #4]
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1374              		.loc 1 1309 8 view .LVU443
 1375 00a0 0BB1     		cbz	r3, .L106
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1376              		.loc 1 1309 45 discriminator 1 view .LVU444
 1377 00a2 012F     		cmp	r7, #1
 1378 00a4 0BD1     		bne	.L107
 1379              	.L106:
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1380              		.loc 1 1311 7 is_stmt 1 view .LVU445
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1381              		.loc 1 1311 71 is_stmt 0 view .LVU446
 1382 00a6 226B     		ldr	r2, [r4, #48]
ARM GAS  /tmp/ccA9MgmD.s 			page 102


1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1383              		.loc 1 1311 30 view .LVU447
 1384 00a8 2368     		ldr	r3, [r4]
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1385              		.loc 1 1311 48 view .LVU448
 1386 00aa 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1387              		.loc 1 1311 46 view .LVU449
 1388 00ac 1A73     		strb	r2, [r3, #12]
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1389              		.loc 1 1312 7 is_stmt 1 view .LVU450
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1390              		.loc 1 1312 11 is_stmt 0 view .LVU451
 1391 00ae 236B     		ldr	r3, [r4, #48]
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1392              		.loc 1 1312 24 view .LVU452
 1393 00b0 0133     		adds	r3, r3, #1
 1394 00b2 2363     		str	r3, [r4, #48]
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1395              		.loc 1 1313 7 is_stmt 1 view .LVU453
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1396              		.loc 1 1313 11 is_stmt 0 view .LVU454
 1397 00b4 E38E     		ldrh	r3, [r4, #54]
 1398 00b6 9BB2     		uxth	r3, r3
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1399              		.loc 1 1313 24 view .LVU455
 1400 00b8 013B     		subs	r3, r3, #1
 1401 00ba 9BB2     		uxth	r3, r3
 1402 00bc E386     		strh	r3, [r4, #54]	@ movhi
 1403              	.L107:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1404              		.loc 1 1350 19 view .LVU456
 1405 00be 0127     		movs	r7, #1
 1406              	.LVL59:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1407              		.loc 1 1350 19 view .LVU457
 1408 00c0 71E0     		b	.L112
 1409              	.LVL60:
 1410              	.L124:
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1411              		.loc 1 1254 5 is_stmt 1 view .LVU458
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1412              		.loc 1 1254 20 is_stmt 0 view .LVU459
 1413 00c2 6368     		ldr	r3, [r4, #4]
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1414              		.loc 1 1254 8 view .LVU460
 1415 00c4 0BB1     		cbz	r3, .L99
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1416              		.loc 1 1254 45 discriminator 1 view .LVU461
 1417 00c6 012F     		cmp	r7, #1
 1418 00c8 0BD1     		bne	.L100
 1419              	.L99:
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1420              		.loc 1 1256 7 is_stmt 1 view .LVU462
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1421              		.loc 1 1256 52 is_stmt 0 view .LVU463
 1422 00ca 226B     		ldr	r2, [r4, #48]
ARM GAS  /tmp/ccA9MgmD.s 			page 103


1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1423              		.loc 1 1256 11 view .LVU464
 1424 00cc 2368     		ldr	r3, [r4]
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1425              		.loc 1 1256 28 view .LVU465
 1426 00ce 1288     		ldrh	r2, [r2]
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1427              		.loc 1 1256 26 view .LVU466
 1428 00d0 DA60     		str	r2, [r3, #12]
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1429              		.loc 1 1257 7 is_stmt 1 view .LVU467
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1430              		.loc 1 1257 11 is_stmt 0 view .LVU468
 1431 00d2 236B     		ldr	r3, [r4, #48]
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       hspi->TxXferCount--;
 1432              		.loc 1 1257 24 view .LVU469
 1433 00d4 0233     		adds	r3, r3, #2
 1434 00d6 2363     		str	r3, [r4, #48]
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1435              		.loc 1 1258 7 is_stmt 1 view .LVU470
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1436              		.loc 1 1258 11 is_stmt 0 view .LVU471
 1437 00d8 E38E     		ldrh	r3, [r4, #54]
 1438 00da 9BB2     		uxth	r3, r3
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1439              		.loc 1 1258 24 view .LVU472
 1440 00dc 013B     		subs	r3, r3, #1
 1441 00de 9BB2     		uxth	r3, r3
 1442 00e0 E386     		strh	r3, [r4, #54]	@ movhi
 1443              	.L100:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1444              		.loc 1 1296 19 view .LVU473
 1445 00e2 0127     		movs	r7, #1
 1446              	.LVL61:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1447              		.loc 1 1296 19 view .LVU474
 1448 00e4 1BE0     		b	.L103
 1449              	.LVL62:
 1450              	.L101:
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1451              		.loc 1 1290 7 is_stmt 1 view .LVU475
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1452              		.loc 1 1290 12 is_stmt 0 view .LVU476
 1453 00e6 2368     		ldr	r3, [r4]
 1454 00e8 9A68     		ldr	r2, [r3, #8]
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1455              		.loc 1 1290 10 view .LVU477
 1456 00ea 12F0010F 		tst	r2, #1
 1457 00ee 0ED0     		beq	.L102
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1458              		.loc 1 1290 61 discriminator 1 view .LVU478
 1459 00f0 E28F     		ldrh	r2, [r4, #62]
 1460 00f2 92B2     		uxth	r2, r2
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1461              		.loc 1 1290 53 discriminator 1 view .LVU479
 1462 00f4 5AB1     		cbz	r2, .L102
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
ARM GAS  /tmp/ccA9MgmD.s 			page 104


 1463              		.loc 1 1292 9 is_stmt 1 view .LVU480
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1464              		.loc 1 1292 67 is_stmt 0 view .LVU481
 1465 00f6 DA68     		ldr	r2, [r3, #12]
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1466              		.loc 1 1292 27 view .LVU482
 1467 00f8 A36B     		ldr	r3, [r4, #56]
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1468              		.loc 1 1292 41 view .LVU483
 1469 00fa 1A80     		strh	r2, [r3]	@ movhi
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1470              		.loc 1 1293 9 is_stmt 1 view .LVU484
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1471              		.loc 1 1293 13 is_stmt 0 view .LVU485
 1472 00fc A36B     		ldr	r3, [r4, #56]
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1473              		.loc 1 1293 26 view .LVU486
 1474 00fe 0233     		adds	r3, r3, #2
 1475 0100 A363     		str	r3, [r4, #56]
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1476              		.loc 1 1294 9 is_stmt 1 view .LVU487
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1477              		.loc 1 1294 13 is_stmt 0 view .LVU488
 1478 0102 E38F     		ldrh	r3, [r4, #62]
 1479 0104 9BB2     		uxth	r3, r3
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1480              		.loc 1 1294 26 view .LVU489
 1481 0106 013B     		subs	r3, r3, #1
 1482 0108 9BB2     		uxth	r3, r3
 1483 010a E387     		strh	r3, [r4, #62]	@ movhi
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1484              		.loc 1 1296 9 is_stmt 1 view .LVU490
 1485              	.LVL63:
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1486              		.loc 1 1296 19 is_stmt 0 view .LVU491
 1487 010c 0127     		movs	r7, #1
 1488              	.LVL64:
 1489              	.L102:
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1490              		.loc 1 1298 7 is_stmt 1 view .LVU492
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1491              		.loc 1 1298 13 is_stmt 0 view .LVU493
 1492 010e FFF7FEFF 		bl	HAL_GetTick
 1493              	.LVL65:
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1494              		.loc 1 1298 27 discriminator 1 view .LVU494
 1495 0112 801B     		subs	r0, r0, r6
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1496              		.loc 1 1298 10 discriminator 1 view .LVU495
 1497 0114 A842     		cmp	r0, r5
 1498 0116 02D3     		bcc	.L103
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1499              		.loc 1 1298 53 discriminator 1 view .LVU496
 1500 0118 B5F1FF3F 		cmp	r5, #-1
 1501 011c 1ED1     		bne	.L125
 1502              	.LVL66:
 1503              	.L103:
ARM GAS  /tmp/ccA9MgmD.s 			page 105


1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1504              		.loc 1 1269 37 is_stmt 1 view .LVU497
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1505              		.loc 1 1269 17 is_stmt 0 view .LVU498
 1506 011e E38E     		ldrh	r3, [r4, #54]
 1507 0120 9BB2     		uxth	r3, r3
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1508              		.loc 1 1269 37 view .LVU499
 1509 0122 1BB9     		cbnz	r3, .L104
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1510              		.loc 1 1269 45 discriminator 1 view .LVU500
 1511 0124 E38F     		ldrh	r3, [r4, #62]
 1512 0126 9BB2     		uxth	r3, r3
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1513              		.loc 1 1269 37 discriminator 1 view .LVU501
 1514 0128 002B     		cmp	r3, #0
 1515 012a 62D0     		beq	.L105
 1516              	.L104:
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1517              		.loc 1 1272 7 is_stmt 1 view .LVU502
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1518              		.loc 1 1272 12 is_stmt 0 view .LVU503
 1519 012c 2368     		ldr	r3, [r4]
 1520 012e 9A68     		ldr	r2, [r3, #8]
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1521              		.loc 1 1272 10 view .LVU504
 1522 0130 12F0020F 		tst	r2, #2
 1523 0134 D7D0     		beq	.L101
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1524              		.loc 1 1272 60 discriminator 1 view .LVU505
 1525 0136 E28E     		ldrh	r2, [r4, #54]
 1526 0138 92B2     		uxth	r2, r2
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1527              		.loc 1 1272 52 discriminator 1 view .LVU506
 1528 013a 002A     		cmp	r2, #0
 1529 013c D3D0     		beq	.L101
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1530              		.loc 1 1272 80 discriminator 2 view .LVU507
 1531 013e 002F     		cmp	r7, #0
 1532 0140 D1D0     		beq	.L101
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1533              		.loc 1 1274 9 is_stmt 1 view .LVU508
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1534              		.loc 1 1274 54 is_stmt 0 view .LVU509
 1535 0142 226B     		ldr	r2, [r4, #48]
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1536              		.loc 1 1274 30 view .LVU510
 1537 0144 1288     		ldrh	r2, [r2]
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1538              		.loc 1 1274 28 view .LVU511
 1539 0146 DA60     		str	r2, [r3, #12]
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1540              		.loc 1 1275 9 is_stmt 1 view .LVU512
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1541              		.loc 1 1275 13 is_stmt 0 view .LVU513
 1542 0148 236B     		ldr	r3, [r4, #48]
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
ARM GAS  /tmp/ccA9MgmD.s 			page 106


 1543              		.loc 1 1275 26 view .LVU514
 1544 014a 0233     		adds	r3, r3, #2
 1545 014c 2363     		str	r3, [r4, #48]
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1546              		.loc 1 1276 9 is_stmt 1 view .LVU515
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1547              		.loc 1 1276 13 is_stmt 0 view .LVU516
 1548 014e E38E     		ldrh	r3, [r4, #54]
 1549 0150 9BB2     		uxth	r3, r3
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1550              		.loc 1 1276 26 view .LVU517
 1551 0152 013B     		subs	r3, r3, #1
 1552 0154 9BB2     		uxth	r3, r3
 1553 0156 E386     		strh	r3, [r4, #54]	@ movhi
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1554              		.loc 1 1278 9 is_stmt 1 view .LVU518
 1555              	.LVL67:
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1556              		.loc 1 1278 19 is_stmt 0 view .LVU519
 1557 0158 0027     		movs	r7, #0
 1558 015a C4E7     		b	.L101
 1559              	.LVL68:
 1560              	.L125:
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1561              		.loc 1 1300 9 is_stmt 1 view .LVU520
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1562              		.loc 1 1300 21 is_stmt 0 view .LVU521
 1563 015c 0123     		movs	r3, #1
 1564 015e 84F85130 		strb	r3, [r4, #81]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1565              		.loc 1 1301 9 is_stmt 1 view .LVU522
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1566              		.loc 1 1301 9 view .LVU523
 1567 0162 0023     		movs	r3, #0
 1568 0164 84F85030 		strb	r3, [r4, #80]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1569              		.loc 1 1301 9 view .LVU524
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1570              		.loc 1 1302 9 view .LVU525
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1571              		.loc 1 1302 16 is_stmt 0 view .LVU526
 1572 0168 0320     		movs	r0, #3
 1573 016a 63E0     		b	.L95
 1574              	.LVL69:
 1575              	.L108:
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1576              		.loc 1 1344 7 is_stmt 1 view .LVU527
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1577              		.loc 1 1344 12 is_stmt 0 view .LVU528
 1578 016c 2368     		ldr	r3, [r4]
 1579 016e 9A68     		ldr	r2, [r3, #8]
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1580              		.loc 1 1344 10 view .LVU529
 1581 0170 12F0010F 		tst	r2, #1
 1582 0174 0ED0     		beq	.L109
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1583              		.loc 1 1344 61 discriminator 1 view .LVU530
ARM GAS  /tmp/ccA9MgmD.s 			page 107


 1584 0176 E28F     		ldrh	r2, [r4, #62]
 1585 0178 92B2     		uxth	r2, r2
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1586              		.loc 1 1344 53 discriminator 1 view .LVU531
 1587 017a 5AB1     		cbz	r2, .L109
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1588              		.loc 1 1346 9 is_stmt 1 view .LVU532
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1589              		.loc 1 1346 56 is_stmt 0 view .LVU533
 1590 017c DA68     		ldr	r2, [r3, #12]
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1591              		.loc 1 1346 26 view .LVU534
 1592 017e A36B     		ldr	r3, [r4, #56]
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1593              		.loc 1 1346 40 view .LVU535
 1594 0180 1A70     		strb	r2, [r3]
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1595              		.loc 1 1347 9 is_stmt 1 view .LVU536
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1596              		.loc 1 1347 13 is_stmt 0 view .LVU537
 1597 0182 A36B     		ldr	r3, [r4, #56]
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 1598              		.loc 1 1347 25 view .LVU538
 1599 0184 0133     		adds	r3, r3, #1
 1600 0186 A363     		str	r3, [r4, #56]
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1601              		.loc 1 1348 9 is_stmt 1 view .LVU539
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1602              		.loc 1 1348 13 is_stmt 0 view .LVU540
 1603 0188 E38F     		ldrh	r3, [r4, #62]
 1604 018a 9BB2     		uxth	r3, r3
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1605              		.loc 1 1348 26 view .LVU541
 1606 018c 013B     		subs	r3, r3, #1
 1607 018e 9BB2     		uxth	r3, r3
 1608 0190 E387     		strh	r3, [r4, #62]	@ movhi
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1609              		.loc 1 1350 9 is_stmt 1 view .LVU542
 1610              	.LVL70:
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1611              		.loc 1 1350 19 is_stmt 0 view .LVU543
 1612 0192 0127     		movs	r7, #1
 1613              	.LVL71:
 1614              	.L109:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1615              		.loc 1 1352 7 is_stmt 1 view .LVU544
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1616              		.loc 1 1352 14 is_stmt 0 view .LVU545
 1617 0194 FFF7FEFF 		bl	HAL_GetTick
 1618              	.LVL72:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1619              		.loc 1 1352 28 discriminator 1 view .LVU546
 1620 0198 831B     		subs	r3, r0, r6
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1621              		.loc 1 1352 10 discriminator 1 view .LVU547
 1622 019a AB42     		cmp	r3, r5
 1623 019c 02D3     		bcc	.L110
ARM GAS  /tmp/ccA9MgmD.s 			page 108


1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1624              		.loc 1 1352 54 discriminator 1 view .LVU548
 1625 019e B5F1FF3F 		cmp	r5, #-1
 1626 01a2 1ED1     		bne	.L111
 1627              	.L110:
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1628              		.loc 1 1352 87 discriminator 3 view .LVU549
 1629 01a4 EDB1     		cbz	r5, .L111
 1630              	.LVL73:
 1631              	.L112:
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1632              		.loc 1 1323 37 is_stmt 1 view .LVU550
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1633              		.loc 1 1323 17 is_stmt 0 view .LVU551
 1634 01a6 E38E     		ldrh	r3, [r4, #54]
 1635 01a8 9BB2     		uxth	r3, r3
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1636              		.loc 1 1323 37 view .LVU552
 1637 01aa 13B9     		cbnz	r3, .L113
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1638              		.loc 1 1323 45 discriminator 1 view .LVU553
 1639 01ac E38F     		ldrh	r3, [r4, #62]
 1640 01ae 9BB2     		uxth	r3, r3
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 1641              		.loc 1 1323 37 discriminator 1 view .LVU554
 1642 01b0 FBB1     		cbz	r3, .L105
 1643              	.L113:
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1644              		.loc 1 1326 7 is_stmt 1 view .LVU555
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1645              		.loc 1 1326 12 is_stmt 0 view .LVU556
 1646 01b2 2368     		ldr	r3, [r4]
 1647 01b4 9A68     		ldr	r2, [r3, #8]
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1648              		.loc 1 1326 10 view .LVU557
 1649 01b6 12F0020F 		tst	r2, #2
 1650 01ba D7D0     		beq	.L108
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1651              		.loc 1 1326 60 discriminator 1 view .LVU558
 1652 01bc E28E     		ldrh	r2, [r4, #54]
 1653 01be 92B2     		uxth	r2, r2
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1654              		.loc 1 1326 52 discriminator 1 view .LVU559
 1655 01c0 002A     		cmp	r2, #0
 1656 01c2 D3D0     		beq	.L108
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 1657              		.loc 1 1326 80 discriminator 2 view .LVU560
 1658 01c4 002F     		cmp	r7, #0
 1659 01c6 D1D0     		beq	.L108
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1660              		.loc 1 1328 9 is_stmt 1 view .LVU561
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1661              		.loc 1 1328 71 is_stmt 0 view .LVU562
 1662 01c8 226B     		ldr	r2, [r4, #48]
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1663              		.loc 1 1328 48 view .LVU563
 1664 01ca 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccA9MgmD.s 			page 109


1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1665              		.loc 1 1328 46 view .LVU564
 1666 01cc 1A73     		strb	r2, [r3, #12]
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1667              		.loc 1 1329 9 is_stmt 1 view .LVU565
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1668              		.loc 1 1329 13 is_stmt 0 view .LVU566
 1669 01ce 236B     		ldr	r3, [r4, #48]
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->TxXferCount--;
 1670              		.loc 1 1329 25 view .LVU567
 1671 01d0 0133     		adds	r3, r3, #1
 1672 01d2 2363     		str	r3, [r4, #48]
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1673              		.loc 1 1330 9 is_stmt 1 view .LVU568
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1674              		.loc 1 1330 13 is_stmt 0 view .LVU569
 1675 01d4 E38E     		ldrh	r3, [r4, #54]
 1676 01d6 9BB2     		uxth	r3, r3
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1677              		.loc 1 1330 26 view .LVU570
 1678 01d8 013B     		subs	r3, r3, #1
 1679 01da 9BB2     		uxth	r3, r3
 1680 01dc E386     		strh	r3, [r4, #54]	@ movhi
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1681              		.loc 1 1332 9 is_stmt 1 view .LVU571
 1682              	.LVL74:
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1683              		.loc 1 1332 19 is_stmt 0 view .LVU572
 1684 01de 0027     		movs	r7, #0
 1685 01e0 C4E7     		b	.L108
 1686              	.LVL75:
 1687              	.L111:
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1688              		.loc 1 1354 9 is_stmt 1 view .LVU573
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 1689              		.loc 1 1354 21 is_stmt 0 view .LVU574
 1690 01e2 0123     		movs	r3, #1
 1691 01e4 84F85130 		strb	r3, [r4, #81]
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1692              		.loc 1 1355 9 is_stmt 1 view .LVU575
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1693              		.loc 1 1355 9 view .LVU576
 1694 01e8 0023     		movs	r3, #0
 1695 01ea 84F85030 		strb	r3, [r4, #80]
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return HAL_TIMEOUT;
 1696              		.loc 1 1355 9 view .LVU577
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1697              		.loc 1 1356 9 view .LVU578
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 1698              		.loc 1 1356 16 is_stmt 0 view .LVU579
 1699 01ee 0320     		movs	r0, #3
 1700 01f0 20E0     		b	.L95
 1701              	.L105:
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1702              		.loc 1 1401 3 is_stmt 1 view .LVU580
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1703              		.loc 1 1401 7 is_stmt 0 view .LVU581
ARM GAS  /tmp/ccA9MgmD.s 			page 110


 1704 01f2 3246     		mov	r2, r6
 1705 01f4 2946     		mov	r1, r5
 1706 01f6 2046     		mov	r0, r4
 1707 01f8 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1708              	.LVL76:
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1709              		.loc 1 1401 6 discriminator 1 view .LVU582
 1710 01fc 90B9     		cbnz	r0, .L126
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1711              		.loc 1 1409 3 is_stmt 1 view .LVU583
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1712              		.loc 1 1409 17 is_stmt 0 view .LVU584
 1713 01fe A368     		ldr	r3, [r4, #8]
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1714              		.loc 1 1409 6 view .LVU585
 1715 0200 33B9     		cbnz	r3, .L115
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1716              		.loc 1 1411 5 is_stmt 1 view .LVU586
 1717              	.LBB3:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1718              		.loc 1 1411 5 view .LVU587
 1719 0202 0193     		str	r3, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1720              		.loc 1 1411 5 view .LVU588
 1721 0204 2368     		ldr	r3, [r4]
 1722 0206 DA68     		ldr	r2, [r3, #12]
 1723 0208 0192     		str	r2, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1724              		.loc 1 1411 5 view .LVU589
 1725 020a 9B68     		ldr	r3, [r3, #8]
 1726 020c 0193     		str	r3, [sp, #4]
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1727              		.loc 1 1411 5 view .LVU590
 1728 020e 019B     		ldr	r3, [sp, #4]
 1729              	.L115:
 1730              	.LBE3:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1731              		.loc 1 1411 5 discriminator 1 view .LVU591
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 1732              		.loc 1 1415 3 view .LVU592
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 1733              		.loc 1 1415 15 is_stmt 0 view .LVU593
 1734 0210 0123     		movs	r3, #1
 1735 0212 84F85130 		strb	r3, [r4, #81]
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1736              		.loc 1 1417 3 is_stmt 1 view .LVU594
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1737              		.loc 1 1417 3 view .LVU595
 1738 0216 0023     		movs	r3, #0
 1739 0218 84F85030 		strb	r3, [r4, #80]
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1740              		.loc 1 1417 3 view .LVU596
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1741              		.loc 1 1419 3 view .LVU597
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1742              		.loc 1 1419 11 is_stmt 0 view .LVU598
 1743 021c 636D     		ldr	r3, [r4, #84]
ARM GAS  /tmp/ccA9MgmD.s 			page 111


1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1744              		.loc 1 1419 6 view .LVU599
 1745 021e 4BB1     		cbz	r3, .L95
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1746              		.loc 1 1421 12 view .LVU600
 1747 0220 0120     		movs	r0, #1
 1748 0222 07E0     		b	.L95
 1749              	.L126:
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1750              		.loc 1 1403 5 is_stmt 1 view .LVU601
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 1751              		.loc 1 1403 21 is_stmt 0 view .LVU602
 1752 0224 2023     		movs	r3, #32
 1753 0226 6365     		str	r3, [r4, #84]
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1754              		.loc 1 1404 5 is_stmt 1 view .LVU603
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1755              		.loc 1 1404 5 view .LVU604
 1756 0228 0023     		movs	r3, #0
 1757 022a 84F85030 		strb	r3, [r4, #80]
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 1758              		.loc 1 1404 5 view .LVU605
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1759              		.loc 1 1405 5 view .LVU606
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1760              		.loc 1 1405 12 is_stmt 0 view .LVU607
 1761 022e 0120     		movs	r0, #1
 1762 0230 00E0     		b	.L95
 1763              	.LVL77:
 1764              	.L116:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1765              		.loc 1 1206 12 view .LVU608
 1766 0232 0220     		movs	r0, #2
 1767              	.LVL78:
 1768              	.L95:
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1769              		.loc 1 1427 1 view .LVU609
 1770 0234 03B0     		add	sp, sp, #12
 1771              	.LCFI23:
 1772              		.cfi_remember_state
 1773              		.cfi_def_cfa_offset 28
 1774              		@ sp needed
 1775 0236 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1776              	.LVL79:
 1777              	.L117:
 1778              	.LCFI24:
 1779              		.cfi_restore_state
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1780              		.loc 1 1206 12 view .LVU610
 1781 023a 0220     		movs	r0, #2
 1782              	.LVL80:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1783              		.loc 1 1206 12 view .LVU611
 1784 023c FAE7     		b	.L95
 1785              	.LVL81:
 1786              	.L118:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 112


 1787              		.loc 1 1206 12 view .LVU612
 1788 023e 0220     		movs	r0, #2
 1789              	.LVL82:
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1790              		.loc 1 1206 12 view .LVU613
 1791 0240 F8E7     		b	.L95
 1792              	.LVL83:
 1793              	.L119:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1794              		.loc 1 1211 12 view .LVU614
 1795 0242 0120     		movs	r0, #1
 1796              	.LVL84:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1797              		.loc 1 1211 12 view .LVU615
 1798 0244 F6E7     		b	.L95
 1799              	.LVL85:
 1800              	.L120:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1801              		.loc 1 1211 12 view .LVU616
 1802 0246 0120     		movs	r0, #1
 1803              	.LVL86:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1804              		.loc 1 1211 12 view .LVU617
 1805 0248 F4E7     		b	.L95
 1806              	.LVL87:
 1807              	.L121:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1808              		.loc 1 1211 12 view .LVU618
 1809 024a 0120     		movs	r0, #1
 1810              	.LVL88:
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1811              		.loc 1 1211 12 view .LVU619
 1812 024c F2E7     		b	.L95
 1813              	.LVL89:
 1814              	.L122:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1815              		.loc 1 1215 3 discriminator 1 view .LVU620
 1816 024e 0220     		movs	r0, #2
 1817              	.LVL90:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1818              		.loc 1 1215 3 discriminator 1 view .LVU621
 1819 0250 F0E7     		b	.L95
 1820              		.cfi_endproc
 1821              	.LFE71:
 1823              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 1824              		.align	1
 1825              		.global	HAL_SPI_Receive
 1826              		.syntax unified
 1827              		.thumb
 1828              		.thumb_func
 1830              	HAL_SPI_Receive:
 1831              	.LVL91:
 1832              	.LFB70:
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1833              		.loc 1 962 1 is_stmt 1 view -0
 1834              		.cfi_startproc
 1835              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccA9MgmD.s 			page 113


 1836              		@ frame_needed = 0, uses_anonymous_args = 0
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1837              		.loc 1 962 1 is_stmt 0 view .LVU623
 1838 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1839              	.LCFI25:
 1840              		.cfi_def_cfa_offset 28
 1841              		.cfi_offset 4, -28
 1842              		.cfi_offset 5, -24
 1843              		.cfi_offset 6, -20
 1844              		.cfi_offset 7, -16
 1845              		.cfi_offset 8, -12
 1846              		.cfi_offset 9, -8
 1847              		.cfi_offset 14, -4
 1848 0004 83B0     		sub	sp, sp, #12
 1849              	.LCFI26:
 1850              		.cfi_def_cfa_offset 40
 1851 0006 1D46     		mov	r5, r3
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1852              		.loc 1 966 3 is_stmt 1 view .LVU624
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1853              		.loc 1 968 3 view .LVU625
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1854              		.loc 1 968 11 is_stmt 0 view .LVU626
 1855 0008 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 1856              	.LVL92:
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1857              		.loc 1 968 6 view .LVU627
 1858 000c 012B     		cmp	r3, #1
 1859 000e 40F0B480 		bne	.L146
 1860 0012 0446     		mov	r4, r0
 1861 0014 8946     		mov	r9, r1
 1862 0016 9046     		mov	r8, r2
 1863 0018 DFB2     		uxtb	r7, r3
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1864              		.loc 1 973 3 is_stmt 1 view .LVU628
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1865              		.loc 1 973 18 is_stmt 0 view .LVU629
 1866 001a 4368     		ldr	r3, [r0, #4]
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1867              		.loc 1 973 6 view .LVU630
 1868 001c B3F5827F 		cmp	r3, #260
 1869 0020 01D1     		bne	.L129
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1870              		.loc 1 973 58 discriminator 1 view .LVU631
 1871 0022 8368     		ldr	r3, [r0, #8]
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1872              		.loc 1 973 44 discriminator 1 view .LVU632
 1873 0024 93B3     		cbz	r3, .L150
 1874              	.L129:
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1875              		.loc 1 981 3 is_stmt 1 view .LVU633
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1876              		.loc 1 981 15 is_stmt 0 view .LVU634
 1877 0026 FFF7FEFF 		bl	HAL_GetTick
 1878              	.LVL93:
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1879              		.loc 1 981 15 view .LVU635
ARM GAS  /tmp/ccA9MgmD.s 			page 114


 1880 002a 0646     		mov	r6, r0
 1881              	.LVL94:
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1882              		.loc 1 983 3 is_stmt 1 view .LVU636
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1883              		.loc 1 983 6 is_stmt 0 view .LVU637
 1884 002c B9F1000F 		cmp	r9, #0
 1885 0030 00F0A480 		beq	.L128
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1886              		.loc 1 983 23 discriminator 1 view .LVU638
 1887 0034 B8F1000F 		cmp	r8, #0
 1888 0038 00F0A080 		beq	.L128
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1889              		.loc 1 989 3 is_stmt 1 view .LVU639
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1890              		.loc 1 989 3 view .LVU640
 1891 003c 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1892 0040 012B     		cmp	r3, #1
 1893 0042 00F09F80 		beq	.L147
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1894              		.loc 1 989 3 discriminator 2 view .LVU641
 1895 0046 0123     		movs	r3, #1
 1896 0048 84F85030 		strb	r3, [r4, #80]
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1897              		.loc 1 989 3 view .LVU642
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1898              		.loc 1 992 3 view .LVU643
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1899              		.loc 1 992 21 is_stmt 0 view .LVU644
 1900 004c 0423     		movs	r3, #4
 1901 004e 84F85130 		strb	r3, [r4, #81]
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1902              		.loc 1 993 3 is_stmt 1 view .LVU645
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1903              		.loc 1 993 21 is_stmt 0 view .LVU646
 1904 0052 0023     		movs	r3, #0
 1905 0054 6365     		str	r3, [r4, #84]
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1906              		.loc 1 994 3 is_stmt 1 view .LVU647
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1907              		.loc 1 994 21 is_stmt 0 view .LVU648
 1908 0056 C4F83890 		str	r9, [r4, #56]
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1909              		.loc 1 995 3 is_stmt 1 view .LVU649
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1910              		.loc 1 995 21 is_stmt 0 view .LVU650
 1911 005a A4F83C80 		strh	r8, [r4, #60]	@ movhi
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1912              		.loc 1 996 3 is_stmt 1 view .LVU651
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1913              		.loc 1 996 21 is_stmt 0 view .LVU652
 1914 005e A4F83E80 		strh	r8, [r4, #62]	@ movhi
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1915              		.loc 1 999 3 is_stmt 1 view .LVU653
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1916              		.loc 1 999 21 is_stmt 0 view .LVU654
 1917 0062 2363     		str	r3, [r4, #48]
ARM GAS  /tmp/ccA9MgmD.s 			page 115


1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1918              		.loc 1 1000 3 is_stmt 1 view .LVU655
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1919              		.loc 1 1000 21 is_stmt 0 view .LVU656
 1920 0064 A386     		strh	r3, [r4, #52]	@ movhi
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1921              		.loc 1 1001 3 is_stmt 1 view .LVU657
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1922              		.loc 1 1001 21 is_stmt 0 view .LVU658
 1923 0066 E386     		strh	r3, [r4, #54]	@ movhi
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1924              		.loc 1 1002 3 is_stmt 1 view .LVU659
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1925              		.loc 1 1002 21 is_stmt 0 view .LVU660
 1926 0068 2364     		str	r3, [r4, #64]
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1927              		.loc 1 1003 3 is_stmt 1 view .LVU661
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 1928              		.loc 1 1003 21 is_stmt 0 view .LVU662
 1929 006a 6364     		str	r3, [r4, #68]
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1930              		.loc 1 1016 3 is_stmt 1 view .LVU663
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1931              		.loc 1 1016 17 is_stmt 0 view .LVU664
 1932 006c A368     		ldr	r3, [r4, #8]
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1933              		.loc 1 1016 6 view .LVU665
 1934 006e B3F5004F 		cmp	r3, #32768
 1935 0072 15D0     		beq	.L151
 1936              	.L130:
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1937              		.loc 1 1024 3 is_stmt 1 view .LVU666
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1938              		.loc 1 1024 12 is_stmt 0 view .LVU667
 1939 0074 2368     		ldr	r3, [r4]
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1940              		.loc 1 1024 22 view .LVU668
 1941 0076 1A68     		ldr	r2, [r3]
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1942              		.loc 1 1024 6 view .LVU669
 1943 0078 12F0400F 		tst	r2, #64
 1944 007c 03D1     		bne	.L131
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1945              		.loc 1 1027 5 is_stmt 1 view .LVU670
 1946 007e 1A68     		ldr	r2, [r3]
 1947 0080 42F04002 		orr	r2, r2, #64
 1948 0084 1A60     		str	r2, [r3]
 1949              	.L131:
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1950              		.loc 1 1031 3 view .LVU671
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1951              		.loc 1 1031 17 is_stmt 0 view .LVU672
 1952 0086 E368     		ldr	r3, [r4, #12]
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 1953              		.loc 1 1031 6 view .LVU673
 1954 0088 F3B1     		cbz	r3, .L132
 1955 008a 43E0     		b	.L133
ARM GAS  /tmp/ccA9MgmD.s 			page 116


 1956              	.LVL95:
 1957              	.L150:
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 1958              		.loc 1 975 5 is_stmt 1 view .LVU674
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 1959              		.loc 1 975 17 is_stmt 0 view .LVU675
 1960 008c 0423     		movs	r3, #4
 1961 008e 80F85130 		strb	r3, [r0, #81]
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1962              		.loc 1 977 5 is_stmt 1 view .LVU676
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1963              		.loc 1 977 12 is_stmt 0 view .LVU677
 1964 0092 0095     		str	r5, [sp]
 1965 0094 1346     		mov	r3, r2
 1966 0096 0A46     		mov	r2, r1
 1967              	.LVL96:
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1968              		.loc 1 977 12 view .LVU678
 1969 0098 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1970              	.LVL97:
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1971              		.loc 1 977 12 view .LVU679
 1972 009c 0746     		mov	r7, r0
 1973 009e 6DE0     		b	.L128
 1974              	.LVL98:
 1975              	.L151:
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1976              		.loc 1 1019 5 is_stmt 1 view .LVU680
 1977 00a0 2268     		ldr	r2, [r4]
 1978 00a2 1368     		ldr	r3, [r2]
 1979 00a4 23F04003 		bic	r3, r3, #64
 1980 00a8 1360     		str	r3, [r2]
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 1981              		.loc 1 1020 5 view .LVU681
 1982 00aa 2268     		ldr	r2, [r4]
 1983 00ac 1368     		ldr	r3, [r2]
 1984 00ae 23F48043 		bic	r3, r3, #16384
 1985 00b2 1360     		str	r3, [r2]
 1986 00b4 DEE7     		b	.L130
 1987              	.LVL99:
 1988              	.L134:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1989              		.loc 1 1047 9 view .LVU682
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1990              		.loc 1 1047 16 is_stmt 0 view .LVU683
 1991 00b6 FFF7FEFF 		bl	HAL_GetTick
 1992              	.LVL100:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1993              		.loc 1 1047 30 discriminator 1 view .LVU684
 1994 00ba 801B     		subs	r0, r0, r6
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1995              		.loc 1 1047 12 discriminator 1 view .LVU685
 1996 00bc A842     		cmp	r0, r5
 1997 00be 02D3     		bcc	.L136
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 1998              		.loc 1 1047 56 discriminator 1 view .LVU686
 1999 00c0 B5F1FF3F 		cmp	r5, #-1
ARM GAS  /tmp/ccA9MgmD.s 			page 117


 2000 00c4 15D1     		bne	.L137
 2001              	.L136:
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2002              		.loc 1 1047 87 discriminator 3 view .LVU687
 2003 00c6 A5B1     		cbz	r5, .L137
 2004              	.L132:
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2005              		.loc 1 1034 30 is_stmt 1 view .LVU688
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2006              		.loc 1 1034 16 is_stmt 0 view .LVU689
 2007 00c8 E38F     		ldrh	r3, [r4, #62]
 2008 00ca 9BB2     		uxth	r3, r3
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2009              		.loc 1 1034 30 view .LVU690
 2010 00cc 002B     		cmp	r3, #0
 2011 00ce 42D0     		beq	.L139
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2012              		.loc 1 1037 7 is_stmt 1 view .LVU691
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2013              		.loc 1 1037 11 is_stmt 0 view .LVU692
 2014 00d0 2368     		ldr	r3, [r4]
 2015 00d2 9A68     		ldr	r2, [r3, #8]
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2016              		.loc 1 1037 10 view .LVU693
 2017 00d4 12F0010F 		tst	r2, #1
 2018 00d8 EDD0     		beq	.L134
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2019              		.loc 1 1040 9 is_stmt 1 view .LVU694
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2020              		.loc 1 1040 27 is_stmt 0 view .LVU695
 2021 00da A26B     		ldr	r2, [r4, #56]
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2022              		.loc 1 1040 43 view .LVU696
 2023 00dc 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 2024              		.loc 1 1040 41 view .LVU697
 2025 00de 1370     		strb	r3, [r2]
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2026              		.loc 1 1041 9 is_stmt 1 view .LVU698
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2027              		.loc 1 1041 13 is_stmt 0 view .LVU699
 2028 00e0 A36B     		ldr	r3, [r4, #56]
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2029              		.loc 1 1041 26 view .LVU700
 2030 00e2 0133     		adds	r3, r3, #1
 2031 00e4 A363     		str	r3, [r4, #56]
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2032              		.loc 1 1042 9 is_stmt 1 view .LVU701
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2033              		.loc 1 1042 13 is_stmt 0 view .LVU702
 2034 00e6 E38F     		ldrh	r3, [r4, #62]
 2035 00e8 9BB2     		uxth	r3, r3
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2036              		.loc 1 1042 26 view .LVU703
 2037 00ea 013B     		subs	r3, r3, #1
 2038 00ec 9BB2     		uxth	r3, r3
 2039 00ee E387     		strh	r3, [r4, #62]	@ movhi
ARM GAS  /tmp/ccA9MgmD.s 			page 118


 2040 00f0 EAE7     		b	.L132
 2041              	.L137:
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2042              		.loc 1 1049 11 is_stmt 1 view .LVU704
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2043              		.loc 1 1049 23 is_stmt 0 view .LVU705
 2044 00f2 0123     		movs	r3, #1
 2045 00f4 84F85130 		strb	r3, [r4, #81]
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2046              		.loc 1 1050 11 is_stmt 1 view .LVU706
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2047              		.loc 1 1050 11 view .LVU707
 2048 00f8 0023     		movs	r3, #0
 2049 00fa 84F85030 		strb	r3, [r4, #80]
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2050              		.loc 1 1050 11 view .LVU708
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2051              		.loc 1 1051 11 view .LVU709
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2052              		.loc 1 1051 18 is_stmt 0 view .LVU710
 2053 00fe 0327     		movs	r7, #3
 2054 0100 3CE0     		b	.L128
 2055              	.L140:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2056              		.loc 1 1071 9 is_stmt 1 view .LVU711
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2057              		.loc 1 1071 16 is_stmt 0 view .LVU712
 2058 0102 FFF7FEFF 		bl	HAL_GetTick
 2059              	.LVL101:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2060              		.loc 1 1071 30 discriminator 1 view .LVU713
 2061 0106 801B     		subs	r0, r0, r6
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2062              		.loc 1 1071 12 discriminator 1 view .LVU714
 2063 0108 A842     		cmp	r0, r5
 2064 010a 02D3     		bcc	.L142
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2065              		.loc 1 1071 56 discriminator 1 view .LVU715
 2066 010c B5F1FF3F 		cmp	r5, #-1
 2067 0110 19D1     		bne	.L143
 2068              	.L142:
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 2069              		.loc 1 1071 87 discriminator 3 view .LVU716
 2070 0112 C5B1     		cbz	r5, .L143
 2071              	.L133:
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2072              		.loc 1 1059 30 is_stmt 1 view .LVU717
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2073              		.loc 1 1059 16 is_stmt 0 view .LVU718
 2074 0114 E38F     		ldrh	r3, [r4, #62]
 2075 0116 9BB2     		uxth	r3, r3
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 2076              		.loc 1 1059 30 view .LVU719
 2077 0118 EBB1     		cbz	r3, .L139
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2078              		.loc 1 1062 7 is_stmt 1 view .LVU720
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
ARM GAS  /tmp/ccA9MgmD.s 			page 119


 2079              		.loc 1 1062 11 is_stmt 0 view .LVU721
 2080 011a 2368     		ldr	r3, [r4]
 2081 011c 9A68     		ldr	r2, [r3, #8]
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 2082              		.loc 1 1062 10 view .LVU722
 2083 011e 12F0010F 		tst	r2, #1
 2084 0122 EED0     		beq	.L140
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2085              		.loc 1 1064 9 is_stmt 1 view .LVU723
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2086              		.loc 1 1064 67 is_stmt 0 view .LVU724
 2087 0124 DA68     		ldr	r2, [r3, #12]
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2088              		.loc 1 1064 27 view .LVU725
 2089 0126 A36B     		ldr	r3, [r4, #56]
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2090              		.loc 1 1064 41 view .LVU726
 2091 0128 1A80     		strh	r2, [r3]	@ movhi
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2092              		.loc 1 1065 9 is_stmt 1 view .LVU727
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2093              		.loc 1 1065 13 is_stmt 0 view .LVU728
 2094 012a A36B     		ldr	r3, [r4, #56]
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->RxXferCount--;
 2095              		.loc 1 1065 26 view .LVU729
 2096 012c 0233     		adds	r3, r3, #2
 2097 012e A363     		str	r3, [r4, #56]
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2098              		.loc 1 1066 9 is_stmt 1 view .LVU730
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2099              		.loc 1 1066 13 is_stmt 0 view .LVU731
 2100 0130 B4F83EC0 		ldrh	ip, [r4, #62]
 2101 0134 1FFA8CFC 		uxth	ip, ip
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 2102              		.loc 1 1066 26 view .LVU732
 2103 0138 0CF1FF3C 		add	ip, ip, #-1
 2104 013c 1FFA8CFC 		uxth	ip, ip
 2105 0140 A4F83EC0 		strh	ip, [r4, #62]	@ movhi
 2106 0144 E6E7     		b	.L133
 2107              	.L143:
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2108              		.loc 1 1073 11 is_stmt 1 view .LVU733
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2109              		.loc 1 1073 23 is_stmt 0 view .LVU734
 2110 0146 0123     		movs	r3, #1
 2111 0148 84F85130 		strb	r3, [r4, #81]
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2112              		.loc 1 1074 11 is_stmt 1 view .LVU735
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2113              		.loc 1 1074 11 view .LVU736
 2114 014c 0023     		movs	r3, #0
 2115 014e 84F85030 		strb	r3, [r4, #80]
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           return HAL_TIMEOUT;
 2116              		.loc 1 1074 11 view .LVU737
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 2117              		.loc 1 1075 11 view .LVU738
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
ARM GAS  /tmp/ccA9MgmD.s 			page 120


 2118              		.loc 1 1075 18 is_stmt 0 view .LVU739
 2119 0152 0327     		movs	r7, #3
 2120 0154 12E0     		b	.L128
 2121              	.L139:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2122              		.loc 1 1130 3 is_stmt 1 view .LVU740
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2123              		.loc 1 1130 7 is_stmt 0 view .LVU741
 2124 0156 3246     		mov	r2, r6
 2125 0158 2946     		mov	r1, r5
 2126 015a 2046     		mov	r0, r4
 2127 015c FFF7FEFF 		bl	SPI_EndRxTransaction
 2128              	.LVL102:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2129              		.loc 1 1130 6 discriminator 1 view .LVU742
 2130 0160 08B1     		cbz	r0, .L145
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2131              		.loc 1 1132 5 is_stmt 1 view .LVU743
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2132              		.loc 1 1132 21 is_stmt 0 view .LVU744
 2133 0162 2023     		movs	r3, #32
 2134 0164 6365     		str	r3, [r4, #84]
 2135              	.L145:
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 2136              		.loc 1 1154 3 is_stmt 1 view .LVU745
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Unlock the process */
 2137              		.loc 1 1154 15 is_stmt 0 view .LVU746
 2138 0166 0123     		movs	r3, #1
 2139 0168 84F85130 		strb	r3, [r4, #81]
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2140              		.loc 1 1156 3 is_stmt 1 view .LVU747
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2141              		.loc 1 1156 3 view .LVU748
 2142 016c 0023     		movs	r3, #0
 2143 016e 84F85030 		strb	r3, [r4, #80]
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2144              		.loc 1 1156 3 view .LVU749
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2145              		.loc 1 1157 3 view .LVU750
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2146              		.loc 1 1157 11 is_stmt 0 view .LVU751
 2147 0172 636D     		ldr	r3, [r4, #84]
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2148              		.loc 1 1157 6 view .LVU752
 2149 0174 13B9     		cbnz	r3, .L128
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2150              		.loc 1 1163 12 view .LVU753
 2151 0176 0027     		movs	r7, #0
 2152 0178 00E0     		b	.L128
 2153              	.LVL103:
 2154              	.L146:
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2155              		.loc 1 970 12 view .LVU754
 2156 017a 0227     		movs	r7, #2
 2157              	.LVL104:
 2158              	.L128:
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 121


 2159              		.loc 1 1165 1 view .LVU755
 2160 017c 3846     		mov	r0, r7
 2161 017e 03B0     		add	sp, sp, #12
 2162              	.LCFI27:
 2163              		.cfi_remember_state
 2164              		.cfi_def_cfa_offset 28
 2165              		@ sp needed
 2166 0180 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2167              	.LVL105:
 2168              	.L147:
 2169              	.LCFI28:
 2170              		.cfi_restore_state
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2171              		.loc 1 989 3 discriminator 1 view .LVU756
 2172 0184 0227     		movs	r7, #2
 2173 0186 F9E7     		b	.L128
 2174              		.cfi_endproc
 2175              	.LFE70:
 2177              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 2178              		.align	1
 2179              		.global	HAL_SPI_Transmit_IT
 2180              		.syntax unified
 2181              		.thumb
 2182              		.thumb_func
 2184              	HAL_SPI_Transmit_IT:
 2185              	.LVL106:
 2186              	.LFB72:
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2187              		.loc 1 1438 1 is_stmt 1 view -0
 2188              		.cfi_startproc
 2189              		@ args = 0, pretend = 0, frame = 0
 2190              		@ frame_needed = 0, uses_anonymous_args = 0
 2191              		@ link register save eliminated.
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2192              		.loc 1 1441 3 view .LVU758
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2193              		.loc 1 1444 3 view .LVU759
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2194              		.loc 1 1444 6 is_stmt 0 view .LVU760
 2195 0000 0029     		cmp	r1, #0
 2196 0002 43D0     		beq	.L158
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2197              		.loc 1 1438 1 view .LVU761
 2198 0004 10B4     		push	{r4}
 2199              	.LCFI29:
 2200              		.cfi_def_cfa_offset 4
 2201              		.cfi_offset 4, -4
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2202              		.loc 1 1444 23 discriminator 1 view .LVU762
 2203 0006 002A     		cmp	r2, #0
 2204 0008 42D0     		beq	.L159
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2205              		.loc 1 1449 3 is_stmt 1 view .LVU763
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2206              		.loc 1 1449 11 is_stmt 0 view .LVU764
 2207 000a 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 122


 2208              		.loc 1 1449 6 view .LVU765
 2209 000e 012B     		cmp	r3, #1
 2210 0010 40D1     		bne	.L160
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2211              		.loc 1 1455 3 is_stmt 1 view .LVU766
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2212              		.loc 1 1455 3 view .LVU767
 2213 0012 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2214 0016 012B     		cmp	r3, #1
 2215 0018 3ED0     		beq	.L161
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2216              		.loc 1 1455 3 discriminator 2 view .LVU768
 2217 001a 0123     		movs	r3, #1
 2218 001c 80F85030 		strb	r3, [r0, #80]
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2219              		.loc 1 1455 3 view .LVU769
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2220              		.loc 1 1458 3 view .LVU770
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2221              		.loc 1 1458 21 is_stmt 0 view .LVU771
 2222 0020 0323     		movs	r3, #3
 2223 0022 80F85130 		strb	r3, [r0, #81]
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2224              		.loc 1 1459 3 is_stmt 1 view .LVU772
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2225              		.loc 1 1459 21 is_stmt 0 view .LVU773
 2226 0026 0023     		movs	r3, #0
 2227 0028 4365     		str	r3, [r0, #84]
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2228              		.loc 1 1460 3 is_stmt 1 view .LVU774
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2229              		.loc 1 1460 21 is_stmt 0 view .LVU775
 2230 002a 0163     		str	r1, [r0, #48]
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2231              		.loc 1 1461 3 is_stmt 1 view .LVU776
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2232              		.loc 1 1461 21 is_stmt 0 view .LVU777
 2233 002c 8286     		strh	r2, [r0, #52]	@ movhi
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2234              		.loc 1 1462 3 is_stmt 1 view .LVU778
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2235              		.loc 1 1462 21 is_stmt 0 view .LVU779
 2236 002e C286     		strh	r2, [r0, #54]	@ movhi
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2237              		.loc 1 1465 3 is_stmt 1 view .LVU780
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2238              		.loc 1 1465 21 is_stmt 0 view .LVU781
 2239 0030 8363     		str	r3, [r0, #56]
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2240              		.loc 1 1466 3 is_stmt 1 view .LVU782
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2241              		.loc 1 1466 21 is_stmt 0 view .LVU783
 2242 0032 8387     		strh	r3, [r0, #60]	@ movhi
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2243              		.loc 1 1467 3 is_stmt 1 view .LVU784
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2244              		.loc 1 1467 21 is_stmt 0 view .LVU785
ARM GAS  /tmp/ccA9MgmD.s 			page 123


 2245 0034 C387     		strh	r3, [r0, #62]	@ movhi
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2246              		.loc 1 1468 3 is_stmt 1 view .LVU786
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2247              		.loc 1 1468 21 is_stmt 0 view .LVU787
 2248 0036 0364     		str	r3, [r0, #64]
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2249              		.loc 1 1471 3 is_stmt 1 view .LVU788
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2250              		.loc 1 1471 17 is_stmt 0 view .LVU789
 2251 0038 C368     		ldr	r3, [r0, #12]
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2252              		.loc 1 1471 6 view .LVU790
 2253 003a CBB1     		cbz	r3, .L154
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2254              		.loc 1 1473 5 is_stmt 1 view .LVU791
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2255              		.loc 1 1473 17 is_stmt 0 view .LVU792
 2256 003c 174B     		ldr	r3, .L167
 2257 003e 4364     		str	r3, [r0, #68]
 2258              	.L155:
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2259              		.loc 1 1481 3 is_stmt 1 view .LVU793
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2260              		.loc 1 1481 17 is_stmt 0 view .LVU794
 2261 0040 8368     		ldr	r3, [r0, #8]
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2262              		.loc 1 1481 6 view .LVU795
 2263 0042 B3F5004F 		cmp	r3, #32768
 2264 0046 16D0     		beq	.L166
 2265              	.LVL107:
 2266              	.L156:
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2267              		.loc 1 1497 3 is_stmt 1 view .LVU796
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2268              		.loc 1 1497 12 is_stmt 0 view .LVU797
 2269 0048 0368     		ldr	r3, [r0]
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2270              		.loc 1 1497 22 view .LVU798
 2271 004a 1A68     		ldr	r2, [r3]
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2272              		.loc 1 1497 6 view .LVU799
 2273 004c 12F0400F 		tst	r2, #64
 2274 0050 03D1     		bne	.L157
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2275              		.loc 1 1500 5 is_stmt 1 view .LVU800
 2276 0052 1A68     		ldr	r2, [r3]
 2277 0054 42F04002 		orr	r2, r2, #64
 2278 0058 1A60     		str	r2, [r3]
 2279              	.L157:
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
 2280              		.loc 1 1504 3 view .LVU801
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
 2281              		.loc 1 1504 3 view .LVU802
 2282 005a 0023     		movs	r3, #0
 2283 005c 80F85030 		strb	r3, [r0, #80]
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
ARM GAS  /tmp/ccA9MgmD.s 			page 124


 2284              		.loc 1 1504 3 view .LVU803
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2285              		.loc 1 1506 3 view .LVU804
 2286 0060 0168     		ldr	r1, [r0]
 2287              	.LVL108:
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2288              		.loc 1 1506 3 is_stmt 0 view .LVU805
 2289 0062 4A68     		ldr	r2, [r1, #4]
 2290 0064 42F0A002 		orr	r2, r2, #160
 2291 0068 4A60     		str	r2, [r1, #4]
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2292              		.loc 1 1508 3 is_stmt 1 view .LVU806
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2293              		.loc 1 1508 10 is_stmt 0 view .LVU807
 2294 006a 1846     		mov	r0, r3
 2295              	.LVL109:
 2296              	.L153:
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2297              		.loc 1 1509 1 view .LVU808
 2298 006c 10BC     		pop	{r4}
 2299              	.LCFI30:
 2300              		.cfi_remember_state
 2301              		.cfi_restore 4
 2302              		.cfi_def_cfa_offset 0
 2303 006e 7047     		bx	lr
 2304              	.LVL110:
 2305              	.L154:
 2306              	.LCFI31:
 2307              		.cfi_restore_state
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2308              		.loc 1 1477 5 is_stmt 1 view .LVU809
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2309              		.loc 1 1477 17 is_stmt 0 view .LVU810
 2310 0070 0B4B     		ldr	r3, .L167+4
 2311 0072 4364     		str	r3, [r0, #68]
 2312 0074 E4E7     		b	.L155
 2313              	.L166:
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2314              		.loc 1 1484 5 is_stmt 1 view .LVU811
 2315 0076 0268     		ldr	r2, [r0]
 2316              	.LVL111:
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2317              		.loc 1 1484 5 is_stmt 0 view .LVU812
 2318 0078 1368     		ldr	r3, [r2]
 2319 007a 23F04003 		bic	r3, r3, #64
 2320 007e 1360     		str	r3, [r2]
 2321              	.LVL112:
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2322              		.loc 1 1485 5 is_stmt 1 view .LVU813
 2323 0080 0268     		ldr	r2, [r0]
 2324 0082 1368     		ldr	r3, [r2]
 2325 0084 43F48043 		orr	r3, r3, #16384
 2326 0088 1360     		str	r3, [r2]
 2327 008a DDE7     		b	.L156
 2328              	.LVL113:
 2329              	.L158:
 2330              	.LCFI32:
ARM GAS  /tmp/ccA9MgmD.s 			page 125


 2331              		.cfi_def_cfa_offset 0
 2332              		.cfi_restore 4
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2333              		.loc 1 1446 12 is_stmt 0 view .LVU814
 2334 008c 0120     		movs	r0, #1
 2335              	.LVL114:
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2336              		.loc 1 1509 1 view .LVU815
 2337 008e 7047     		bx	lr
 2338              	.LVL115:
 2339              	.L159:
 2340              	.LCFI33:
 2341              		.cfi_def_cfa_offset 4
 2342              		.cfi_offset 4, -4
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2343              		.loc 1 1446 12 view .LVU816
 2344 0090 0120     		movs	r0, #1
 2345              	.LVL116:
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2346              		.loc 1 1446 12 view .LVU817
 2347 0092 EBE7     		b	.L153
 2348              	.LVL117:
 2349              	.L160:
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2350              		.loc 1 1451 12 view .LVU818
 2351 0094 0220     		movs	r0, #2
 2352              	.LVL118:
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2353              		.loc 1 1451 12 view .LVU819
 2354 0096 E9E7     		b	.L153
 2355              	.LVL119:
 2356              	.L161:
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2357              		.loc 1 1455 3 discriminator 1 view .LVU820
 2358 0098 0220     		movs	r0, #2
 2359              	.LVL120:
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2360              		.loc 1 1455 3 discriminator 1 view .LVU821
 2361 009a E7E7     		b	.L153
 2362              	.L168:
 2363              		.align	2
 2364              	.L167:
 2365 009c 00000000 		.word	SPI_TxISR_16BIT
 2366 00a0 00000000 		.word	SPI_TxISR_8BIT
 2367              		.cfi_endproc
 2368              	.LFE72:
 2370              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 2371              		.align	1
 2372              		.global	HAL_SPI_TransmitReceive_IT
 2373              		.syntax unified
 2374              		.thumb
 2375              		.thumb_func
 2377              	HAL_SPI_TransmitReceive_IT:
 2378              	.LVL121:
 2379              	.LFB74:
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 2380              		.loc 1 1612 1 is_stmt 1 view -0
ARM GAS  /tmp/ccA9MgmD.s 			page 126


 2381              		.cfi_startproc
 2382              		@ args = 0, pretend = 0, frame = 0
 2383              		@ frame_needed = 0, uses_anonymous_args = 0
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 2384              		.loc 1 1612 1 is_stmt 0 view .LVU823
 2385 0000 10B5     		push	{r4, lr}
 2386              	.LCFI34:
 2387              		.cfi_def_cfa_offset 8
 2388              		.cfi_offset 4, -8
 2389              		.cfi_offset 14, -4
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 2390              		.loc 1 1613 3 is_stmt 1 view .LVU824
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2391              		.loc 1 1614 3 view .LVU825
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2392              		.loc 1 1617 3 view .LVU826
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2393              		.loc 1 1620 3 view .LVU827
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2394              		.loc 1 1620 23 is_stmt 0 view .LVU828
 2395 0002 90F851C0 		ldrb	ip, [r0, #81]	@ zero_extendqisi2
 2396              	.LVL122:
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2397              		.loc 1 1621 3 is_stmt 1 view .LVU829
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2398              		.loc 1 1621 23 is_stmt 0 view .LVU830
 2399 0006 4468     		ldr	r4, [r0, #4]
 2400              	.LVL123:
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2401              		.loc 1 1623 3 is_stmt 1 view .LVU831
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2402              		.loc 1 1623 6 is_stmt 0 view .LVU832
 2403 0008 BCF1010F 		cmp	ip, #1
 2404 000c 0AD0     		beq	.L170
 2405 000e 5FFA8CFE 		uxtb	lr, ip
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 2406              		.loc 1 1623 7 discriminator 1 view .LVU833
 2407 0012 B4F5827F 		cmp	r4, #260
 2408 0016 3FD1     		bne	.L176
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2409              		.loc 1 1624 54 view .LVU834
 2410 0018 8468     		ldr	r4, [r0, #8]
 2411              	.LVL124:
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2412              		.loc 1 1624 40 view .LVU835
 2413 001a 002C     		cmp	r4, #0
 2414 001c 3ED1     		bne	.L177
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 2415              		.loc 1 1624 90 discriminator 1 view .LVU836
 2416 001e BEF1040F 		cmp	lr, #4
 2417 0022 3DD1     		bne	.L178
 2418              	.L170:
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2419              		.loc 1 1630 3 is_stmt 1 view .LVU837
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2420              		.loc 1 1630 6 is_stmt 0 view .LVU838
 2421 0024 0029     		cmp	r1, #0
ARM GAS  /tmp/ccA9MgmD.s 			page 127


 2422 0026 3DD0     		beq	.L179
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2423              		.loc 1 1630 25 discriminator 1 view .LVU839
 2424 0028 002A     		cmp	r2, #0
 2425 002a 3DD0     		beq	.L180
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2426              		.loc 1 1630 46 discriminator 2 view .LVU840
 2427 002c 002B     		cmp	r3, #0
 2428 002e 3DD0     		beq	.L181
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2429              		.loc 1 1636 3 is_stmt 1 view .LVU841
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2430              		.loc 1 1636 3 view .LVU842
 2431 0030 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 2432 0034 012C     		cmp	r4, #1
 2433 0036 3BD0     		beq	.L182
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2434              		.loc 1 1636 3 discriminator 2 view .LVU843
 2435 0038 0124     		movs	r4, #1
 2436 003a 80F85040 		strb	r4, [r0, #80]
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2437              		.loc 1 1636 3 view .LVU844
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2438              		.loc 1 1639 3 view .LVU845
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2439              		.loc 1 1639 11 is_stmt 0 view .LVU846
 2440 003e 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2441              		.loc 1 1639 6 view .LVU847
 2442 0042 042C     		cmp	r4, #4
 2443 0044 02D0     		beq	.L172
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2444              		.loc 1 1641 5 is_stmt 1 view .LVU848
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2445              		.loc 1 1641 17 is_stmt 0 view .LVU849
 2446 0046 0524     		movs	r4, #5
 2447 0048 80F85140 		strb	r4, [r0, #81]
 2448              	.L172:
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 2449              		.loc 1 1645 3 is_stmt 1 view .LVU850
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 2450              		.loc 1 1645 21 is_stmt 0 view .LVU851
 2451 004c 0024     		movs	r4, #0
 2452 004e 4465     		str	r4, [r0, #84]
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2453              		.loc 1 1646 3 is_stmt 1 view .LVU852
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2454              		.loc 1 1646 21 is_stmt 0 view .LVU853
 2455 0050 0163     		str	r1, [r0, #48]
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2456              		.loc 1 1647 3 is_stmt 1 view .LVU854
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2457              		.loc 1 1647 21 is_stmt 0 view .LVU855
 2458 0052 8386     		strh	r3, [r0, #52]	@ movhi
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2459              		.loc 1 1648 3 is_stmt 1 view .LVU856
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
ARM GAS  /tmp/ccA9MgmD.s 			page 128


 2460              		.loc 1 1648 21 is_stmt 0 view .LVU857
 2461 0054 C386     		strh	r3, [r0, #54]	@ movhi
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2462              		.loc 1 1649 3 is_stmt 1 view .LVU858
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2463              		.loc 1 1649 21 is_stmt 0 view .LVU859
 2464 0056 8263     		str	r2, [r0, #56]
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2465              		.loc 1 1650 3 is_stmt 1 view .LVU860
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2466              		.loc 1 1650 21 is_stmt 0 view .LVU861
 2467 0058 8387     		strh	r3, [r0, #60]	@ movhi
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2468              		.loc 1 1651 3 is_stmt 1 view .LVU862
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2469              		.loc 1 1651 21 is_stmt 0 view .LVU863
 2470 005a C387     		strh	r3, [r0, #62]	@ movhi
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2471              		.loc 1 1654 3 is_stmt 1 view .LVU864
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2472              		.loc 1 1654 17 is_stmt 0 view .LVU865
 2473 005c C368     		ldr	r3, [r0, #12]
 2474              	.LVL125:
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2475              		.loc 1 1654 6 view .LVU866
 2476 005e B3B1     		cbz	r3, .L173
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2477              		.loc 1 1656 5 is_stmt 1 view .LVU867
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2478              		.loc 1 1656 21 is_stmt 0 view .LVU868
 2479 0060 144B     		ldr	r3, .L184
 2480 0062 0364     		str	r3, [r0, #64]
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2481              		.loc 1 1657 5 is_stmt 1 view .LVU869
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2482              		.loc 1 1657 21 is_stmt 0 view .LVU870
 2483 0064 144B     		ldr	r3, .L184+4
 2484 0066 4364     		str	r3, [r0, #68]
 2485              	.L174:
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2486              		.loc 1 1675 3 is_stmt 1 view .LVU871
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2487              		.loc 1 1675 12 is_stmt 0 view .LVU872
 2488 0068 0368     		ldr	r3, [r0]
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2489              		.loc 1 1675 22 view .LVU873
 2490 006a 1A68     		ldr	r2, [r3]
 2491              	.LVL126:
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2492              		.loc 1 1675 6 view .LVU874
 2493 006c 12F0400F 		tst	r2, #64
 2494 0070 03D1     		bne	.L175
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2495              		.loc 1 1678 5 is_stmt 1 view .LVU875
 2496 0072 1A68     		ldr	r2, [r3]
 2497 0074 42F04002 		orr	r2, r2, #64
 2498 0078 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccA9MgmD.s 			page 129


 2499              	.LVL127:
 2500              	.L175:
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2501              		.loc 1 1682 3 view .LVU876
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2502              		.loc 1 1682 3 view .LVU877
 2503 007a 0023     		movs	r3, #0
 2504 007c 80F85030 		strb	r3, [r0, #80]
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
 2505              		.loc 1 1682 3 view .LVU878
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2506              		.loc 1 1684 3 view .LVU879
 2507 0080 0168     		ldr	r1, [r0]
 2508              	.LVL128:
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2509              		.loc 1 1684 3 is_stmt 0 view .LVU880
 2510 0082 4A68     		ldr	r2, [r1, #4]
 2511 0084 42F0E002 		orr	r2, r2, #224
 2512 0088 4A60     		str	r2, [r1, #4]
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2513              		.loc 1 1686 3 is_stmt 1 view .LVU881
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2514              		.loc 1 1686 10 is_stmt 0 view .LVU882
 2515 008a 1846     		mov	r0, r3
 2516              	.LVL129:
1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2517              		.loc 1 1686 10 view .LVU883
 2518 008c 05E0     		b	.L171
 2519              	.LVL130:
 2520              	.L173:
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2521              		.loc 1 1661 5 is_stmt 1 view .LVU884
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2522              		.loc 1 1661 21 is_stmt 0 view .LVU885
 2523 008e 0B4B     		ldr	r3, .L184+8
 2524 0090 0364     		str	r3, [r0, #64]
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2525              		.loc 1 1662 5 is_stmt 1 view .LVU886
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2526              		.loc 1 1662 21 is_stmt 0 view .LVU887
 2527 0092 0B4B     		ldr	r3, .L184+12
 2528 0094 4364     		str	r3, [r0, #68]
 2529 0096 E7E7     		b	.L174
 2530              	.LVL131:
 2531              	.L176:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2532              		.loc 1 1627 12 view .LVU888
 2533 0098 0220     		movs	r0, #2
 2534              	.LVL132:
 2535              	.L171:
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2536              		.loc 1 1687 1 view .LVU889
 2537 009a 10BD     		pop	{r4, pc}
 2538              	.LVL133:
 2539              	.L177:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2540              		.loc 1 1627 12 view .LVU890
ARM GAS  /tmp/ccA9MgmD.s 			page 130


 2541 009c 0220     		movs	r0, #2
 2542              	.LVL134:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2543              		.loc 1 1627 12 view .LVU891
 2544 009e FCE7     		b	.L171
 2545              	.LVL135:
 2546              	.L178:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2547              		.loc 1 1627 12 view .LVU892
 2548 00a0 0220     		movs	r0, #2
 2549              	.LVL136:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2550              		.loc 1 1627 12 view .LVU893
 2551 00a2 FAE7     		b	.L171
 2552              	.LVL137:
 2553              	.L179:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2554              		.loc 1 1632 12 view .LVU894
 2555 00a4 0120     		movs	r0, #1
 2556              	.LVL138:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2557              		.loc 1 1632 12 view .LVU895
 2558 00a6 F8E7     		b	.L171
 2559              	.LVL139:
 2560              	.L180:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2561              		.loc 1 1632 12 view .LVU896
 2562 00a8 0120     		movs	r0, #1
 2563              	.LVL140:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2564              		.loc 1 1632 12 view .LVU897
 2565 00aa F6E7     		b	.L171
 2566              	.LVL141:
 2567              	.L181:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2568              		.loc 1 1632 12 view .LVU898
 2569 00ac 0120     		movs	r0, #1
 2570              	.LVL142:
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2571              		.loc 1 1632 12 view .LVU899
 2572 00ae F4E7     		b	.L171
 2573              	.LVL143:
 2574              	.L182:
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2575              		.loc 1 1636 3 discriminator 1 view .LVU900
 2576 00b0 0220     		movs	r0, #2
 2577              	.LVL144:
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2578              		.loc 1 1636 3 discriminator 1 view .LVU901
 2579 00b2 F2E7     		b	.L171
 2580              	.L185:
 2581              		.align	2
 2582              	.L184:
 2583 00b4 00000000 		.word	SPI_2linesRxISR_16BIT
 2584 00b8 00000000 		.word	SPI_2linesTxISR_16BIT
 2585 00bc 00000000 		.word	SPI_2linesRxISR_8BIT
 2586 00c0 00000000 		.word	SPI_2linesTxISR_8BIT
ARM GAS  /tmp/ccA9MgmD.s 			page 131


 2587              		.cfi_endproc
 2588              	.LFE74:
 2590              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 2591              		.align	1
 2592              		.global	HAL_SPI_Receive_IT
 2593              		.syntax unified
 2594              		.thumb
 2595              		.thumb_func
 2597              	HAL_SPI_Receive_IT:
 2598              	.LVL145:
 2599              	.LFB73:
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2600              		.loc 1 1520 1 is_stmt 1 view -0
 2601              		.cfi_startproc
 2602              		@ args = 0, pretend = 0, frame = 0
 2603              		@ frame_needed = 0, uses_anonymous_args = 0
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2604              		.loc 1 1522 3 view .LVU903
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2605              		.loc 1 1522 11 is_stmt 0 view .LVU904
 2606 0000 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2607              		.loc 1 1522 6 view .LVU905
 2608 0004 012B     		cmp	r3, #1
 2609 0006 5ED1     		bne	.L193
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2610              		.loc 1 1520 1 view .LVU906
 2611 0008 10B5     		push	{r4, lr}
 2612              	.LCFI35:
 2613              		.cfi_def_cfa_offset 8
 2614              		.cfi_offset 4, -8
 2615              		.cfi_offset 14, -4
 2616 000a 8446     		mov	ip, r0
 2617 000c D8B2     		uxtb	r0, r3
 2618              	.LVL146:
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2619              		.loc 1 1527 3 is_stmt 1 view .LVU907
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2620              		.loc 1 1527 18 is_stmt 0 view .LVU908
 2621 000e DCF80840 		ldr	r4, [ip, #8]
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2622              		.loc 1 1527 6 view .LVU909
 2623 0012 24B9     		cbnz	r4, .L188
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2624              		.loc 1 1527 68 discriminator 1 view .LVU910
 2625 0014 DCF80430 		ldr	r3, [ip, #4]
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2626              		.loc 1 1527 54 discriminator 1 view .LVU911
 2627 0018 B3F5827F 		cmp	r3, #260
 2628 001c 39D0     		beq	.L199
 2629              	.L188:
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2630              		.loc 1 1535 3 is_stmt 1 view .LVU912
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2631              		.loc 1 1535 6 is_stmt 0 view .LVU913
 2632 001e B9B3     		cbz	r1, .L187
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 132


 2633              		.loc 1 1535 23 discriminator 1 view .LVU914
 2634 0020 B2B3     		cbz	r2, .L187
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2635              		.loc 1 1541 3 is_stmt 1 view .LVU915
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2636              		.loc 1 1541 3 view .LVU916
 2637 0022 9CF85030 		ldrb	r3, [ip, #80]	@ zero_extendqisi2
 2638 0026 012B     		cmp	r3, #1
 2639 0028 4FD0     		beq	.L194
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2640              		.loc 1 1541 3 discriminator 2 view .LVU917
 2641 002a 0123     		movs	r3, #1
 2642 002c 8CF85030 		strb	r3, [ip, #80]
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2643              		.loc 1 1541 3 view .LVU918
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2644              		.loc 1 1544 3 view .LVU919
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2645              		.loc 1 1544 21 is_stmt 0 view .LVU920
 2646 0030 0423     		movs	r3, #4
 2647 0032 8CF85130 		strb	r3, [ip, #81]
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2648              		.loc 1 1545 3 is_stmt 1 view .LVU921
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2649              		.loc 1 1545 21 is_stmt 0 view .LVU922
 2650 0036 0023     		movs	r3, #0
 2651 0038 CCF85430 		str	r3, [ip, #84]
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2652              		.loc 1 1546 3 is_stmt 1 view .LVU923
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2653              		.loc 1 1546 21 is_stmt 0 view .LVU924
 2654 003c CCF83810 		str	r1, [ip, #56]
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2655              		.loc 1 1547 3 is_stmt 1 view .LVU925
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2656              		.loc 1 1547 21 is_stmt 0 view .LVU926
 2657 0040 ACF83C20 		strh	r2, [ip, #60]	@ movhi
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2658              		.loc 1 1548 3 is_stmt 1 view .LVU927
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2659              		.loc 1 1548 21 is_stmt 0 view .LVU928
 2660 0044 ACF83E20 		strh	r2, [ip, #62]	@ movhi
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2661              		.loc 1 1551 3 is_stmt 1 view .LVU929
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2662              		.loc 1 1551 21 is_stmt 0 view .LVU930
 2663 0048 CCF83030 		str	r3, [ip, #48]
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2664              		.loc 1 1552 3 is_stmt 1 view .LVU931
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2665              		.loc 1 1552 21 is_stmt 0 view .LVU932
 2666 004c ACF83430 		strh	r3, [ip, #52]	@ movhi
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2667              		.loc 1 1553 3 is_stmt 1 view .LVU933
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2668              		.loc 1 1553 21 is_stmt 0 view .LVU934
 2669 0050 ACF83630 		strh	r3, [ip, #54]	@ movhi
ARM GAS  /tmp/ccA9MgmD.s 			page 133


1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2670              		.loc 1 1554 3 is_stmt 1 view .LVU935
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2671              		.loc 1 1554 21 is_stmt 0 view .LVU936
 2672 0054 CCF84430 		str	r3, [ip, #68]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2673              		.loc 1 1557 3 is_stmt 1 view .LVU937
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2674              		.loc 1 1557 17 is_stmt 0 view .LVU938
 2675 0058 DCF80C30 		ldr	r3, [ip, #12]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2676              		.loc 1 1557 6 view .LVU939
 2677 005c 13B3     		cbz	r3, .L189
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2678              		.loc 1 1559 5 is_stmt 1 view .LVU940
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2679              		.loc 1 1559 17 is_stmt 0 view .LVU941
 2680 005e 1C4B     		ldr	r3, .L201
 2681 0060 CCF84030 		str	r3, [ip, #64]
 2682              	.L190:
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2683              		.loc 1 1567 3 is_stmt 1 view .LVU942
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2684              		.loc 1 1567 6 is_stmt 0 view .LVU943
 2685 0064 B4F5004F 		cmp	r4, #32768
 2686 0068 20D0     		beq	.L200
 2687              	.LVL147:
 2688              	.L191:
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2689              		.loc 1 1587 3 is_stmt 1 view .LVU944
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2690              		.loc 1 1587 12 is_stmt 0 view .LVU945
 2691 006a DCF80030 		ldr	r3, [ip]
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2692              		.loc 1 1587 22 view .LVU946
 2693 006e 1A68     		ldr	r2, [r3]
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2694              		.loc 1 1587 6 view .LVU947
 2695 0070 12F0400F 		tst	r2, #64
 2696 0074 03D1     		bne	.L192
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2697              		.loc 1 1590 5 is_stmt 1 view .LVU948
 2698 0076 1A68     		ldr	r2, [r3]
 2699 0078 42F04002 		orr	r2, r2, #64
 2700 007c 1A60     		str	r2, [r3]
 2701              	.L192:
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2702              		.loc 1 1594 3 view .LVU949
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2703              		.loc 1 1594 3 view .LVU950
 2704 007e 0020     		movs	r0, #0
 2705 0080 8CF85000 		strb	r0, [ip, #80]
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
 2706              		.loc 1 1594 3 view .LVU951
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2707              		.loc 1 1596 3 view .LVU952
 2708 0084 DCF80020 		ldr	r2, [ip]
ARM GAS  /tmp/ccA9MgmD.s 			page 134


 2709 0088 5368     		ldr	r3, [r2, #4]
 2710 008a 43F06003 		orr	r3, r3, #96
 2711 008e 5360     		str	r3, [r2, #4]
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2712              		.loc 1 1598 3 view .LVU953
 2713              	.LVL148:
 2714              	.L187:
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2715              		.loc 1 1599 1 is_stmt 0 view .LVU954
 2716 0090 10BD     		pop	{r4, pc}
 2717              	.LVL149:
 2718              	.L199:
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2719              		.loc 1 1529 5 is_stmt 1 view .LVU955
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2720              		.loc 1 1529 17 is_stmt 0 view .LVU956
 2721 0092 0423     		movs	r3, #4
 2722 0094 8CF85130 		strb	r3, [ip, #81]
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2723              		.loc 1 1531 5 is_stmt 1 view .LVU957
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2724              		.loc 1 1531 12 is_stmt 0 view .LVU958
 2725 0098 1346     		mov	r3, r2
 2726 009a 0A46     		mov	r2, r1
 2727              	.LVL150:
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2728              		.loc 1 1531 12 view .LVU959
 2729 009c 6046     		mov	r0, ip
 2730 009e FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 2731              	.LVL151:
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2732              		.loc 1 1531 12 view .LVU960
 2733 00a2 F5E7     		b	.L187
 2734              	.LVL152:
 2735              	.L189:
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2736              		.loc 1 1563 5 is_stmt 1 view .LVU961
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2737              		.loc 1 1563 17 is_stmt 0 view .LVU962
 2738 00a4 0B4B     		ldr	r3, .L201+4
 2739 00a6 CCF84030 		str	r3, [ip, #64]
 2740 00aa DBE7     		b	.L190
 2741              	.L200:
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2742              		.loc 1 1570 5 is_stmt 1 view .LVU963
 2743 00ac DCF80020 		ldr	r2, [ip]
 2744              	.LVL153:
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2745              		.loc 1 1570 5 is_stmt 0 view .LVU964
 2746 00b0 1368     		ldr	r3, [r2]
 2747 00b2 23F04003 		bic	r3, r3, #64
 2748 00b6 1360     		str	r3, [r2]
 2749              	.LVL154:
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2750              		.loc 1 1571 5 is_stmt 1 view .LVU965
 2751 00b8 DCF80020 		ldr	r2, [ip]
 2752 00bc 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccA9MgmD.s 			page 135


 2753 00be 23F48043 		bic	r3, r3, #16384
 2754 00c2 1360     		str	r3, [r2]
 2755 00c4 D1E7     		b	.L191
 2756              	.LVL155:
 2757              	.L193:
 2758              	.LCFI36:
 2759              		.cfi_def_cfa_offset 0
 2760              		.cfi_restore 4
 2761              		.cfi_restore 14
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2762              		.loc 1 1524 12 is_stmt 0 view .LVU966
 2763 00c6 0220     		movs	r0, #2
 2764              	.LVL156:
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2765              		.loc 1 1599 1 view .LVU967
 2766 00c8 7047     		bx	lr
 2767              	.LVL157:
 2768              	.L194:
 2769              	.LCFI37:
 2770              		.cfi_def_cfa_offset 8
 2771              		.cfi_offset 4, -8
 2772              		.cfi_offset 14, -4
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2773              		.loc 1 1541 3 discriminator 1 view .LVU968
 2774 00ca 0220     		movs	r0, #2
 2775 00cc E0E7     		b	.L187
 2776              	.L202:
 2777 00ce 00BF     		.align	2
 2778              	.L201:
 2779 00d0 00000000 		.word	SPI_RxISR_16BIT
 2780 00d4 00000000 		.word	SPI_RxISR_8BIT
 2781              		.cfi_endproc
 2782              	.LFE73:
 2784              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 2785              		.align	1
 2786              		.global	HAL_SPI_Transmit_DMA
 2787              		.syntax unified
 2788              		.thumb
 2789              		.thumb_func
 2791              	HAL_SPI_Transmit_DMA:
 2792              	.LVL158:
 2793              	.LFB75:
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2794              		.loc 1 1698 1 is_stmt 1 view -0
 2795              		.cfi_startproc
 2796              		@ args = 0, pretend = 0, frame = 0
 2797              		@ frame_needed = 0, uses_anonymous_args = 0
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2798              		.loc 1 1698 1 is_stmt 0 view .LVU970
 2799 0000 38B5     		push	{r3, r4, r5, lr}
 2800              	.LCFI38:
 2801              		.cfi_def_cfa_offset 16
 2802              		.cfi_offset 3, -16
 2803              		.cfi_offset 4, -12
 2804              		.cfi_offset 5, -8
 2805              		.cfi_offset 14, -4
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 136


 2806              		.loc 1 1701 3 is_stmt 1 view .LVU971
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2807              		.loc 1 1704 3 view .LVU972
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2808              		.loc 1 1706 3 view .LVU973
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2809              		.loc 1 1706 11 is_stmt 0 view .LVU974
 2810 0002 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2811              		.loc 1 1706 6 view .LVU975
 2812 0006 012B     		cmp	r3, #1
 2813 0008 5ED1     		bne	.L208
 2814 000a 0446     		mov	r4, r0
 2815 000c DDB2     		uxtb	r5, r3
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2816              		.loc 1 1711 3 is_stmt 1 view .LVU976
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2817              		.loc 1 1711 6 is_stmt 0 view .LVU977
 2818 000e 0029     		cmp	r1, #0
 2819 0010 5BD0     		beq	.L204
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2820              		.loc 1 1711 23 discriminator 1 view .LVU978
 2821 0012 002A     		cmp	r2, #0
 2822 0014 59D0     		beq	.L204
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2823              		.loc 1 1717 3 is_stmt 1 view .LVU979
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2824              		.loc 1 1717 3 view .LVU980
 2825 0016 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2826 001a 012B     		cmp	r3, #1
 2827 001c 57D0     		beq	.L209
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2828              		.loc 1 1717 3 discriminator 2 view .LVU981
 2829 001e 0123     		movs	r3, #1
 2830 0020 80F85030 		strb	r3, [r0, #80]
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2831              		.loc 1 1717 3 view .LVU982
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2832              		.loc 1 1720 3 view .LVU983
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2833              		.loc 1 1720 21 is_stmt 0 view .LVU984
 2834 0024 0323     		movs	r3, #3
 2835 0026 80F85130 		strb	r3, [r0, #81]
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2836              		.loc 1 1721 3 is_stmt 1 view .LVU985
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2837              		.loc 1 1721 21 is_stmt 0 view .LVU986
 2838 002a 0023     		movs	r3, #0
 2839 002c 4365     		str	r3, [r0, #84]
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2840              		.loc 1 1722 3 is_stmt 1 view .LVU987
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2841              		.loc 1 1722 21 is_stmt 0 view .LVU988
 2842 002e 0163     		str	r1, [r0, #48]
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2843              		.loc 1 1723 3 is_stmt 1 view .LVU989
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
ARM GAS  /tmp/ccA9MgmD.s 			page 137


 2844              		.loc 1 1723 21 is_stmt 0 view .LVU990
 2845 0030 8286     		strh	r2, [r0, #52]	@ movhi
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2846              		.loc 1 1724 3 is_stmt 1 view .LVU991
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2847              		.loc 1 1724 21 is_stmt 0 view .LVU992
 2848 0032 C286     		strh	r2, [r0, #54]	@ movhi
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2849              		.loc 1 1727 3 is_stmt 1 view .LVU993
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2850              		.loc 1 1727 21 is_stmt 0 view .LVU994
 2851 0034 8363     		str	r3, [r0, #56]
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2852              		.loc 1 1728 3 is_stmt 1 view .LVU995
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2853              		.loc 1 1728 21 is_stmt 0 view .LVU996
 2854 0036 4364     		str	r3, [r0, #68]
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2855              		.loc 1 1729 3 is_stmt 1 view .LVU997
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2856              		.loc 1 1729 21 is_stmt 0 view .LVU998
 2857 0038 0364     		str	r3, [r0, #64]
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2858              		.loc 1 1730 3 is_stmt 1 view .LVU999
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2859              		.loc 1 1730 21 is_stmt 0 view .LVU1000
 2860 003a 8387     		strh	r3, [r0, #60]	@ movhi
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2861              		.loc 1 1731 3 is_stmt 1 view .LVU1001
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2862              		.loc 1 1731 21 is_stmt 0 view .LVU1002
 2863 003c C387     		strh	r3, [r0, #62]	@ movhi
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2864              		.loc 1 1734 3 is_stmt 1 view .LVU1003
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2865              		.loc 1 1734 17 is_stmt 0 view .LVU1004
 2866 003e 8368     		ldr	r3, [r0, #8]
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2867              		.loc 1 1734 6 view .LVU1005
 2868 0040 B3F5004F 		cmp	r3, #32768
 2869 0044 2DD0     		beq	.L211
 2870              	.LVL159:
 2871              	.L205:
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2872              		.loc 1 1750 3 is_stmt 1 view .LVU1006
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2873              		.loc 1 1750 7 is_stmt 0 view .LVU1007
 2874 0046 A36C     		ldr	r3, [r4, #72]
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2875              		.loc 1 1750 38 view .LVU1008
 2876 0048 224A     		ldr	r2, .L213
 2877 004a DA62     		str	r2, [r3, #44]
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2878              		.loc 1 1753 3 is_stmt 1 view .LVU1009
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2879              		.loc 1 1753 7 is_stmt 0 view .LVU1010
 2880 004c A36C     		ldr	r3, [r4, #72]
ARM GAS  /tmp/ccA9MgmD.s 			page 138


1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2881              		.loc 1 1753 34 view .LVU1011
 2882 004e 224A     		ldr	r2, .L213+4
 2883 0050 9A62     		str	r2, [r3, #40]
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2884              		.loc 1 1756 3 is_stmt 1 view .LVU1012
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2885              		.loc 1 1756 7 is_stmt 0 view .LVU1013
 2886 0052 A36C     		ldr	r3, [r4, #72]
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2887              		.loc 1 1756 35 view .LVU1014
 2888 0054 214A     		ldr	r2, .L213+8
 2889 0056 1A63     		str	r2, [r3, #48]
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2890              		.loc 1 1759 3 is_stmt 1 view .LVU1015
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2891              		.loc 1 1759 7 is_stmt 0 view .LVU1016
 2892 0058 A36C     		ldr	r3, [r4, #72]
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2893              		.loc 1 1759 35 view .LVU1017
 2894 005a 0022     		movs	r2, #0
 2895 005c 5A63     		str	r2, [r3, #52]
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2896              		.loc 1 1762 3 is_stmt 1 view .LVU1018
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2897              		.loc 1 1762 91 is_stmt 0 view .LVU1019
 2898 005e 2268     		ldr	r2, [r4]
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2899              		.loc 1 1763 38 view .LVU1020
 2900 0060 E38E     		ldrh	r3, [r4, #54]
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2901              		.loc 1 1762 17 view .LVU1021
 2902 0062 9BB2     		uxth	r3, r3
 2903 0064 0C32     		adds	r2, r2, #12
 2904 0066 216B     		ldr	r1, [r4, #48]
 2905              	.LVL160:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2906              		.loc 1 1762 17 view .LVU1022
 2907 0068 A06C     		ldr	r0, [r4, #72]
 2908              	.LVL161:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2909              		.loc 1 1762 17 view .LVU1023
 2910 006a FFF7FEFF 		bl	HAL_DMA_Start_IT
 2911              	.LVL162:
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 2912              		.loc 1 1762 6 discriminator 1 view .LVU1024
 2913 006e 0146     		mov	r1, r0
 2914 0070 10BB     		cbnz	r0, .L212
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2915              		.loc 1 1773 3 is_stmt 1 view .LVU1025
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2916              		.loc 1 1773 12 is_stmt 0 view .LVU1026
 2917 0072 2368     		ldr	r3, [r4]
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 2918              		.loc 1 1773 22 view .LVU1027
 2919 0074 1A68     		ldr	r2, [r3]
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 139


 2920              		.loc 1 1773 6 view .LVU1028
 2921 0076 12F0400F 		tst	r2, #64
 2922 007a 03D1     		bne	.L207
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2923              		.loc 1 1776 5 is_stmt 1 view .LVU1029
 2924 007c 1A68     		ldr	r2, [r3]
 2925 007e 42F04002 		orr	r2, r2, #64
 2926 0082 1A60     		str	r2, [r3]
 2927              	.L207:
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2928              		.loc 1 1780 3 view .LVU1030
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2929              		.loc 1 1780 3 view .LVU1031
 2930 0084 0023     		movs	r3, #0
 2931 0086 84F85030 		strb	r3, [r4, #80]
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2932              		.loc 1 1780 3 view .LVU1032
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2933              		.loc 1 1783 3 view .LVU1033
 2934 008a 2268     		ldr	r2, [r4]
 2935 008c 5368     		ldr	r3, [r2, #4]
 2936 008e 43F02003 		orr	r3, r3, #32
 2937 0092 5360     		str	r3, [r2, #4]
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2938              		.loc 1 1786 3 view .LVU1034
 2939 0094 2268     		ldr	r2, [r4]
 2940 0096 5368     		ldr	r3, [r2, #4]
 2941 0098 43F00203 		orr	r3, r3, #2
 2942 009c 5360     		str	r3, [r2, #4]
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2943              		.loc 1 1788 3 view .LVU1035
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 2944              		.loc 1 1788 10 is_stmt 0 view .LVU1036
 2945 009e 0D46     		mov	r5, r1
 2946 00a0 13E0     		b	.L204
 2947              	.LVL163:
 2948              	.L211:
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2949              		.loc 1 1737 5 is_stmt 1 view .LVU1037
 2950 00a2 0268     		ldr	r2, [r0]
 2951              	.LVL164:
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2952              		.loc 1 1737 5 is_stmt 0 view .LVU1038
 2953 00a4 1368     		ldr	r3, [r2]
 2954 00a6 23F04003 		bic	r3, r3, #64
 2955 00aa 1360     		str	r3, [r2]
 2956              	.LVL165:
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2957              		.loc 1 1738 5 is_stmt 1 view .LVU1039
 2958 00ac 0268     		ldr	r2, [r0]
 2959 00ae 1368     		ldr	r3, [r2]
 2960 00b0 43F48043 		orr	r3, r3, #16384
 2961 00b4 1360     		str	r3, [r2]
 2962 00b6 C6E7     		b	.L205
 2963              	.LVL166:
 2964              	.L212:
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
ARM GAS  /tmp/ccA9MgmD.s 			page 140


 2965              		.loc 1 1766 5 view .LVU1040
 2966 00b8 636D     		ldr	r3, [r4, #84]
 2967 00ba 43F01003 		orr	r3, r3, #16
 2968 00be 6365     		str	r3, [r4, #84]
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2969              		.loc 1 1768 5 view .LVU1041
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2970              		.loc 1 1768 5 view .LVU1042
 2971 00c0 0023     		movs	r3, #0
 2972 00c2 84F85030 		strb	r3, [r4, #80]
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 2973              		.loc 1 1768 5 view .LVU1043
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2974              		.loc 1 1769 5 view .LVU1044
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2975              		.loc 1 1769 12 is_stmt 0 view .LVU1045
 2976 00c6 00E0     		b	.L204
 2977              	.LVL167:
 2978              	.L208:
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 2979              		.loc 1 1708 12 view .LVU1046
 2980 00c8 0225     		movs	r5, #2
 2981              	.LVL168:
 2982              	.L204:
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2983              		.loc 1 1789 1 view .LVU1047
 2984 00ca 2846     		mov	r0, r5
 2985 00cc 38BD     		pop	{r3, r4, r5, pc}
 2986              	.LVL169:
 2987              	.L209:
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 2988              		.loc 1 1717 3 discriminator 1 view .LVU1048
 2989 00ce 0225     		movs	r5, #2
 2990 00d0 FBE7     		b	.L204
 2991              	.L214:
 2992 00d2 00BF     		.align	2
 2993              	.L213:
 2994 00d4 00000000 		.word	SPI_DMAHalfTransmitCplt
 2995 00d8 00000000 		.word	SPI_DMATransmitCplt
 2996 00dc 00000000 		.word	SPI_DMAError
 2997              		.cfi_endproc
 2998              	.LFE75:
 3000              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 3001              		.align	1
 3002              		.global	HAL_SPI_TransmitReceive_DMA
 3003              		.syntax unified
 3004              		.thumb
 3005              		.thumb_func
 3007              	HAL_SPI_TransmitReceive_DMA:
 3008              	.LVL170:
 3009              	.LFB77:
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
 3010              		.loc 1 1913 1 is_stmt 1 view -0
 3011              		.cfi_startproc
 3012              		@ args = 0, pretend = 0, frame = 0
 3013              		@ frame_needed = 0, uses_anonymous_args = 0
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t             tmp_mode;
ARM GAS  /tmp/ccA9MgmD.s 			page 141


 3014              		.loc 1 1913 1 is_stmt 0 view .LVU1050
 3015 0000 38B5     		push	{r3, r4, r5, lr}
 3016              	.LCFI39:
 3017              		.cfi_def_cfa_offset 16
 3018              		.cfi_offset 3, -16
 3019              		.cfi_offset 4, -12
 3020              		.cfi_offset 5, -8
 3021              		.cfi_offset 14, -4
 3022 0002 0446     		mov	r4, r0
1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
 3023              		.loc 1 1914 3 is_stmt 1 view .LVU1051
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3024              		.loc 1 1915 3 view .LVU1052
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
 3025              		.loc 1 1918 3 view .LVU1053
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3026              		.loc 1 1919 3 view .LVU1054
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3027              		.loc 1 1922 3 view .LVU1055
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3028              		.loc 1 1925 3 view .LVU1056
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3029              		.loc 1 1925 23 is_stmt 0 view .LVU1057
 3030 0004 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 3031              	.LVL171:
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3032              		.loc 1 1926 3 is_stmt 1 view .LVU1058
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3033              		.loc 1 1926 23 is_stmt 0 view .LVU1059
 3034 0008 6568     		ldr	r5, [r4, #4]
 3035              	.LVL172:
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3036              		.loc 1 1928 3 is_stmt 1 view .LVU1060
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3037              		.loc 1 1928 6 is_stmt 0 view .LVU1061
 3038 000a 0128     		cmp	r0, #1
 3039 000c 0DD0     		beq	.L216
 3040 000e 5FFA80FC 		uxtb	ip, r0
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3041              		.loc 1 1928 7 discriminator 1 view .LVU1062
 3042 0012 B5F5827F 		cmp	r5, #260
 3043 0016 40F08980 		bne	.L224
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3044              		.loc 1 1929 54 view .LVU1063
 3045 001a A068     		ldr	r0, [r4, #8]
 3046              	.LVL173:
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3047              		.loc 1 1929 40 view .LVU1064
 3048 001c 0028     		cmp	r0, #0
 3049 001e 40F08780 		bne	.L225
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
 3050              		.loc 1 1929 90 discriminator 1 view .LVU1065
 3051 0022 BCF1040F 		cmp	ip, #4
 3052 0026 40F08580 		bne	.L226
 3053              	.LVL174:
 3054              	.L216:
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 142


 3055              		.loc 1 1935 3 is_stmt 1 view .LVU1066
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3056              		.loc 1 1935 6 is_stmt 0 view .LVU1067
 3057 002a 0029     		cmp	r1, #0
 3058 002c 00F08480 		beq	.L227
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3059              		.loc 1 1935 25 discriminator 1 view .LVU1068
 3060 0030 002A     		cmp	r2, #0
 3061 0032 00F08380 		beq	.L228
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3062              		.loc 1 1935 46 discriminator 2 view .LVU1069
 3063 0036 002B     		cmp	r3, #0
 3064 0038 00F08280 		beq	.L229
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3065              		.loc 1 1941 3 is_stmt 1 view .LVU1070
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3066              		.loc 1 1941 3 view .LVU1071
 3067 003c 94F85000 		ldrb	r0, [r4, #80]	@ zero_extendqisi2
 3068 0040 0128     		cmp	r0, #1
 3069 0042 7FD0     		beq	.L230
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3070              		.loc 1 1941 3 discriminator 2 view .LVU1072
 3071 0044 0120     		movs	r0, #1
 3072 0046 84F85000 		strb	r0, [r4, #80]
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3073              		.loc 1 1941 3 view .LVU1073
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3074              		.loc 1 1944 3 view .LVU1074
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3075              		.loc 1 1944 11 is_stmt 0 view .LVU1075
 3076 004a 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3077              		.loc 1 1944 6 view .LVU1076
 3078 004e 0428     		cmp	r0, #4
 3079 0050 02D0     		beq	.L218
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3080              		.loc 1 1946 5 is_stmt 1 view .LVU1077
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3081              		.loc 1 1946 17 is_stmt 0 view .LVU1078
 3082 0052 0520     		movs	r0, #5
 3083 0054 84F85100 		strb	r0, [r4, #81]
 3084              	.L218:
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 3085              		.loc 1 1950 3 is_stmt 1 view .LVU1079
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 3086              		.loc 1 1950 21 is_stmt 0 view .LVU1080
 3087 0058 0020     		movs	r0, #0
 3088 005a 6065     		str	r0, [r4, #84]
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3089              		.loc 1 1951 3 is_stmt 1 view .LVU1081
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3090              		.loc 1 1951 21 is_stmt 0 view .LVU1082
 3091 005c 2163     		str	r1, [r4, #48]
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3092              		.loc 1 1952 3 is_stmt 1 view .LVU1083
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3093              		.loc 1 1952 21 is_stmt 0 view .LVU1084
ARM GAS  /tmp/ccA9MgmD.s 			page 143


 3094 005e A386     		strh	r3, [r4, #52]	@ movhi
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3095              		.loc 1 1953 3 is_stmt 1 view .LVU1085
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3096              		.loc 1 1953 21 is_stmt 0 view .LVU1086
 3097 0060 E386     		strh	r3, [r4, #54]	@ movhi
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3098              		.loc 1 1954 3 is_stmt 1 view .LVU1087
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3099              		.loc 1 1954 21 is_stmt 0 view .LVU1088
 3100 0062 A263     		str	r2, [r4, #56]
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3101              		.loc 1 1955 3 is_stmt 1 view .LVU1089
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3102              		.loc 1 1955 21 is_stmt 0 view .LVU1090
 3103 0064 A387     		strh	r3, [r4, #60]	@ movhi
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3104              		.loc 1 1956 3 is_stmt 1 view .LVU1091
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3105              		.loc 1 1956 21 is_stmt 0 view .LVU1092
 3106 0066 E387     		strh	r3, [r4, #62]	@ movhi
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3107              		.loc 1 1959 3 is_stmt 1 view .LVU1093
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3108              		.loc 1 1959 21 is_stmt 0 view .LVU1094
 3109 0068 2064     		str	r0, [r4, #64]
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3110              		.loc 1 1960 3 is_stmt 1 view .LVU1095
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3111              		.loc 1 1960 21 is_stmt 0 view .LVU1096
 3112 006a 6064     		str	r0, [r4, #68]
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3113              		.loc 1 1971 3 is_stmt 1 view .LVU1097
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3114              		.loc 1 1971 11 is_stmt 0 view .LVU1098
 3115 006c 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3116              	.LVL175:
1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3117              		.loc 1 1971 6 view .LVU1099
 3118 0070 042B     		cmp	r3, #4
 3119 0072 1DD0     		beq	.L232
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3120              		.loc 1 1980 5 is_stmt 1 view .LVU1100
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3121              		.loc 1 1980 9 is_stmt 0 view .LVU1101
 3122 0074 E36C     		ldr	r3, [r4, #76]
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3123              		.loc 1 1980 40 view .LVU1102
 3124 0076 344A     		ldr	r2, .L234
 3125              	.LVL176:
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3126              		.loc 1 1980 40 view .LVU1103
 3127 0078 DA62     		str	r2, [r3, #44]
 3128              	.LVL177:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3129              		.loc 1 1981 5 is_stmt 1 view .LVU1104
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 144


 3130              		.loc 1 1981 9 is_stmt 0 view .LVU1105
 3131 007a E36C     		ldr	r3, [r4, #76]
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3132              		.loc 1 1981 40 view .LVU1106
 3133 007c 334A     		ldr	r2, .L234+4
 3134 007e 9A62     		str	r2, [r3, #40]
 3135              	.L220:
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3136              		.loc 1 1985 3 is_stmt 1 view .LVU1107
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3137              		.loc 1 1985 7 is_stmt 0 view .LVU1108
 3138 0080 E36C     		ldr	r3, [r4, #76]
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3139              		.loc 1 1985 35 view .LVU1109
 3140 0082 334A     		ldr	r2, .L234+8
 3141 0084 1A63     		str	r2, [r3, #48]
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3142              		.loc 1 1988 3 is_stmt 1 view .LVU1110
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3143              		.loc 1 1988 7 is_stmt 0 view .LVU1111
 3144 0086 E36C     		ldr	r3, [r4, #76]
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3145              		.loc 1 1988 35 view .LVU1112
 3146 0088 0022     		movs	r2, #0
 3147 008a 5A63     		str	r2, [r3, #52]
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3148              		.loc 1 1991 3 is_stmt 1 view .LVU1113
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3149              		.loc 1 1991 63 is_stmt 0 view .LVU1114
 3150 008c 2168     		ldr	r1, [r4]
 3151              	.LVL178:
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3152              		.loc 1 1992 38 view .LVU1115
 3153 008e E38F     		ldrh	r3, [r4, #62]
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3154              		.loc 1 1991 17 view .LVU1116
 3155 0090 9BB2     		uxth	r3, r3
 3156 0092 A26B     		ldr	r2, [r4, #56]
 3157 0094 0C31     		adds	r1, r1, #12
 3158 0096 E06C     		ldr	r0, [r4, #76]
 3159 0098 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3160              	.LVL179:
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3161              		.loc 1 1991 6 discriminator 1 view .LVU1117
 3162 009c 78B1     		cbz	r0, .L221
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3163              		.loc 1 1995 5 is_stmt 1 view .LVU1118
 3164 009e 636D     		ldr	r3, [r4, #84]
 3165 00a0 43F01003 		orr	r3, r3, #16
 3166 00a4 6365     		str	r3, [r4, #84]
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3167              		.loc 1 1997 5 view .LVU1119
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3168              		.loc 1 1997 5 view .LVU1120
 3169 00a6 0023     		movs	r3, #0
 3170 00a8 84F85030 		strb	r3, [r4, #80]
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
ARM GAS  /tmp/ccA9MgmD.s 			page 145


 3171              		.loc 1 1997 5 view .LVU1121
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3172              		.loc 1 1998 5 view .LVU1122
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3173              		.loc 1 1998 12 is_stmt 0 view .LVU1123
 3174 00ac 0120     		movs	r0, #1
 3175 00ae 3EE0     		b	.L217
 3176              	.LVL180:
 3177              	.L232:
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3178              		.loc 1 1974 5 is_stmt 1 view .LVU1124
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3179              		.loc 1 1974 9 is_stmt 0 view .LVU1125
 3180 00b0 E36C     		ldr	r3, [r4, #76]
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3181              		.loc 1 1974 40 view .LVU1126
 3182 00b2 284A     		ldr	r2, .L234+12
 3183              	.LVL181:
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3184              		.loc 1 1974 40 view .LVU1127
 3185 00b4 DA62     		str	r2, [r3, #44]
 3186              	.LVL182:
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3187              		.loc 1 1975 5 is_stmt 1 view .LVU1128
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3188              		.loc 1 1975 9 is_stmt 0 view .LVU1129
 3189 00b6 E36C     		ldr	r3, [r4, #76]
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3190              		.loc 1 1975 40 view .LVU1130
 3191 00b8 274A     		ldr	r2, .L234+16
 3192 00ba 9A62     		str	r2, [r3, #40]
 3193 00bc E0E7     		b	.L220
 3194              	.LVL183:
 3195              	.L221:
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3196              		.loc 1 2002 3 is_stmt 1 view .LVU1131
 3197 00be 2268     		ldr	r2, [r4]
 3198 00c0 5368     		ldr	r3, [r2, #4]
 3199 00c2 43F00103 		orr	r3, r3, #1
 3200 00c6 5360     		str	r3, [r2, #4]
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3201              		.loc 1 2006 3 view .LVU1132
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3202              		.loc 1 2006 7 is_stmt 0 view .LVU1133
 3203 00c8 A26C     		ldr	r2, [r4, #72]
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3204              		.loc 1 2006 38 view .LVU1134
 3205 00ca 0023     		movs	r3, #0
 3206 00cc D362     		str	r3, [r2, #44]
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3207              		.loc 1 2007 3 is_stmt 1 view .LVU1135
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3208              		.loc 1 2007 7 is_stmt 0 view .LVU1136
 3209 00ce A26C     		ldr	r2, [r4, #72]
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3210              		.loc 1 2007 38 view .LVU1137
 3211 00d0 9362     		str	r3, [r2, #40]
ARM GAS  /tmp/ccA9MgmD.s 			page 146


2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3212              		.loc 1 2008 3 is_stmt 1 view .LVU1138
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3213              		.loc 1 2008 7 is_stmt 0 view .LVU1139
 3214 00d2 A26C     		ldr	r2, [r4, #72]
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3215              		.loc 1 2008 38 view .LVU1140
 3216 00d4 1363     		str	r3, [r2, #48]
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3217              		.loc 1 2009 3 is_stmt 1 view .LVU1141
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3218              		.loc 1 2009 7 is_stmt 0 view .LVU1142
 3219 00d6 A26C     		ldr	r2, [r4, #72]
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3220              		.loc 1 2009 38 view .LVU1143
 3221 00d8 5363     		str	r3, [r2, #52]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3222              		.loc 1 2012 3 is_stmt 1 view .LVU1144
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3223              		.loc 1 2012 91 is_stmt 0 view .LVU1145
 3224 00da 2268     		ldr	r2, [r4]
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3225              		.loc 1 2013 38 view .LVU1146
 3226 00dc E38E     		ldrh	r3, [r4, #54]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3227              		.loc 1 2012 17 view .LVU1147
 3228 00de 9BB2     		uxth	r3, r3
 3229 00e0 0C32     		adds	r2, r2, #12
 3230 00e2 216B     		ldr	r1, [r4, #48]
 3231 00e4 A06C     		ldr	r0, [r4, #72]
 3232 00e6 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3233              	.LVL184:
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->TxXferCount))
 3234              		.loc 1 2012 6 discriminator 1 view .LVU1148
 3235 00ea B0B9     		cbnz	r0, .L233
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3236              		.loc 1 2023 3 is_stmt 1 view .LVU1149
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3237              		.loc 1 2023 12 is_stmt 0 view .LVU1150
 3238 00ec 2368     		ldr	r3, [r4]
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3239              		.loc 1 2023 22 view .LVU1151
 3240 00ee 1A68     		ldr	r2, [r3]
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3241              		.loc 1 2023 6 view .LVU1152
 3242 00f0 12F0400F 		tst	r2, #64
 3243 00f4 03D1     		bne	.L223
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3244              		.loc 1 2026 5 is_stmt 1 view .LVU1153
 3245 00f6 1A68     		ldr	r2, [r3]
 3246 00f8 42F04002 		orr	r2, r2, #64
 3247 00fc 1A60     		str	r2, [r3]
 3248              	.L223:
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3249              		.loc 1 2030 3 view .LVU1154
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3250              		.loc 1 2030 3 view .LVU1155
ARM GAS  /tmp/ccA9MgmD.s 			page 147


 3251 00fe 0023     		movs	r3, #0
 3252 0100 84F85030 		strb	r3, [r4, #80]
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3253              		.loc 1 2030 3 view .LVU1156
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3254              		.loc 1 2033 3 view .LVU1157
 3255 0104 2268     		ldr	r2, [r4]
 3256 0106 5368     		ldr	r3, [r2, #4]
 3257 0108 43F02003 		orr	r3, r3, #32
 3258 010c 5360     		str	r3, [r2, #4]
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3259              		.loc 1 2036 3 view .LVU1158
 3260 010e 2268     		ldr	r2, [r4]
 3261 0110 5368     		ldr	r3, [r2, #4]
 3262 0112 43F00203 		orr	r3, r3, #2
 3263 0116 5360     		str	r3, [r2, #4]
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3264              		.loc 1 2038 3 view .LVU1159
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3265              		.loc 1 2038 10 is_stmt 0 view .LVU1160
 3266 0118 09E0     		b	.L217
 3267              	.L233:
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3268              		.loc 1 2016 5 is_stmt 1 view .LVU1161
 3269 011a 636D     		ldr	r3, [r4, #84]
 3270 011c 43F01003 		orr	r3, r3, #16
 3271 0120 6365     		str	r3, [r4, #84]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3272              		.loc 1 2018 5 view .LVU1162
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3273              		.loc 1 2018 5 view .LVU1163
 3274 0122 0023     		movs	r3, #0
 3275 0124 84F85030 		strb	r3, [r4, #80]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3276              		.loc 1 2018 5 view .LVU1164
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3277              		.loc 1 2019 5 view .LVU1165
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3278              		.loc 1 2019 12 is_stmt 0 view .LVU1166
 3279 0128 0120     		movs	r0, #1
 3280 012a 00E0     		b	.L217
 3281              	.LVL185:
 3282              	.L224:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3283              		.loc 1 1932 12 view .LVU1167
 3284 012c 0220     		movs	r0, #2
 3285              	.LVL186:
 3286              	.L217:
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3287              		.loc 1 2039 1 view .LVU1168
 3288 012e 38BD     		pop	{r3, r4, r5, pc}
 3289              	.LVL187:
 3290              	.L225:
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3291              		.loc 1 1932 12 view .LVU1169
 3292 0130 0220     		movs	r0, #2
 3293 0132 FCE7     		b	.L217
ARM GAS  /tmp/ccA9MgmD.s 			page 148


 3294              	.L226:
 3295 0134 0220     		movs	r0, #2
 3296 0136 FAE7     		b	.L217
 3297              	.LVL188:
 3298              	.L227:
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3299              		.loc 1 1937 12 view .LVU1170
 3300 0138 0120     		movs	r0, #1
 3301 013a F8E7     		b	.L217
 3302              	.L228:
 3303 013c 0120     		movs	r0, #1
 3304 013e F6E7     		b	.L217
 3305              	.L229:
 3306 0140 0120     		movs	r0, #1
 3307 0142 F4E7     		b	.L217
 3308              	.L230:
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3309              		.loc 1 1941 3 discriminator 1 view .LVU1171
 3310 0144 0220     		movs	r0, #2
 3311 0146 F2E7     		b	.L217
 3312              	.L235:
 3313              		.align	2
 3314              	.L234:
 3315 0148 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 3316 014c 00000000 		.word	SPI_DMATransmitReceiveCplt
 3317 0150 00000000 		.word	SPI_DMAError
 3318 0154 00000000 		.word	SPI_DMAHalfReceiveCplt
 3319 0158 00000000 		.word	SPI_DMAReceiveCplt
 3320              		.cfi_endproc
 3321              	.LFE77:
 3323              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 3324              		.align	1
 3325              		.global	HAL_SPI_Receive_DMA
 3326              		.syntax unified
 3327              		.thumb
 3328              		.thumb_func
 3330              	HAL_SPI_Receive_DMA:
 3331              	.LVL189:
 3332              	.LFB76:
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
 3333              		.loc 1 1802 1 is_stmt 1 view -0
 3334              		.cfi_startproc
 3335              		@ args = 0, pretend = 0, frame = 0
 3336              		@ frame_needed = 0, uses_anonymous_args = 0
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Check rx dma handle */
 3337              		.loc 1 1802 1 is_stmt 0 view .LVU1173
 3338 0000 38B5     		push	{r3, r4, r5, lr}
 3339              	.LCFI40:
 3340              		.cfi_def_cfa_offset 16
 3341              		.cfi_offset 3, -16
 3342              		.cfi_offset 4, -12
 3343              		.cfi_offset 5, -8
 3344              		.cfi_offset 14, -4
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3345              		.loc 1 1804 3 is_stmt 1 view .LVU1174
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3346              		.loc 1 1806 3 view .LVU1175
ARM GAS  /tmp/ccA9MgmD.s 			page 149


1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3347              		.loc 1 1806 11 is_stmt 0 view .LVU1176
 3348 0002 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3349              		.loc 1 1806 6 view .LVU1177
 3350 0006 012B     		cmp	r3, #1
 3351 0008 6CD1     		bne	.L242
 3352 000a 0446     		mov	r4, r0
 3353 000c DDB2     		uxtb	r5, r3
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3354              		.loc 1 1811 3 is_stmt 1 view .LVU1178
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3355              		.loc 1 1811 18 is_stmt 0 view .LVU1179
 3356 000e 8068     		ldr	r0, [r0, #8]
 3357              	.LVL190:
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3358              		.loc 1 1811 6 view .LVU1180
 3359 0010 18B9     		cbnz	r0, .L238
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3360              		.loc 1 1811 68 discriminator 1 view .LVU1181
 3361 0012 6368     		ldr	r3, [r4, #4]
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3362              		.loc 1 1811 54 discriminator 1 view .LVU1182
 3363 0014 B3F5827F 		cmp	r3, #260
 3364 0018 47D0     		beq	.L245
 3365              	.L238:
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3366              		.loc 1 1822 3 is_stmt 1 view .LVU1183
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3367              		.loc 1 1822 6 is_stmt 0 view .LVU1184
 3368 001a 0029     		cmp	r1, #0
 3369 001c 63D0     		beq	.L237
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3370              		.loc 1 1822 23 discriminator 1 view .LVU1185
 3371 001e 002A     		cmp	r2, #0
 3372 0020 61D0     		beq	.L237
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3373              		.loc 1 1828 3 is_stmt 1 view .LVU1186
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3374              		.loc 1 1828 3 view .LVU1187
 3375 0022 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 3376 0026 012B     		cmp	r3, #1
 3377 0028 5FD0     		beq	.L243
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3378              		.loc 1 1828 3 discriminator 2 view .LVU1188
 3379 002a 0123     		movs	r3, #1
 3380 002c 84F85030 		strb	r3, [r4, #80]
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3381              		.loc 1 1828 3 view .LVU1189
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3382              		.loc 1 1831 3 view .LVU1190
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3383              		.loc 1 1831 21 is_stmt 0 view .LVU1191
 3384 0030 0423     		movs	r3, #4
 3385 0032 84F85130 		strb	r3, [r4, #81]
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3386              		.loc 1 1832 3 is_stmt 1 view .LVU1192
ARM GAS  /tmp/ccA9MgmD.s 			page 150


1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3387              		.loc 1 1832 21 is_stmt 0 view .LVU1193
 3388 0036 0023     		movs	r3, #0
 3389 0038 6365     		str	r3, [r4, #84]
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3390              		.loc 1 1833 3 is_stmt 1 view .LVU1194
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3391              		.loc 1 1833 21 is_stmt 0 view .LVU1195
 3392 003a A163     		str	r1, [r4, #56]
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3393              		.loc 1 1834 3 is_stmt 1 view .LVU1196
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3394              		.loc 1 1834 21 is_stmt 0 view .LVU1197
 3395 003c A287     		strh	r2, [r4, #60]	@ movhi
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3396              		.loc 1 1835 3 is_stmt 1 view .LVU1198
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3397              		.loc 1 1835 21 is_stmt 0 view .LVU1199
 3398 003e E287     		strh	r2, [r4, #62]	@ movhi
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3399              		.loc 1 1838 3 is_stmt 1 view .LVU1200
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3400              		.loc 1 1838 21 is_stmt 0 view .LVU1201
 3401 0040 2364     		str	r3, [r4, #64]
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3402              		.loc 1 1839 3 is_stmt 1 view .LVU1202
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3403              		.loc 1 1839 21 is_stmt 0 view .LVU1203
 3404 0042 6364     		str	r3, [r4, #68]
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3405              		.loc 1 1840 3 is_stmt 1 view .LVU1204
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3406              		.loc 1 1840 21 is_stmt 0 view .LVU1205
 3407 0044 A386     		strh	r3, [r4, #52]	@ movhi
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3408              		.loc 1 1841 3 is_stmt 1 view .LVU1206
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3409              		.loc 1 1841 21 is_stmt 0 view .LVU1207
 3410 0046 E386     		strh	r3, [r4, #54]	@ movhi
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3411              		.loc 1 1844 3 is_stmt 1 view .LVU1208
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3412              		.loc 1 1844 6 is_stmt 0 view .LVU1209
 3413 0048 B0F5004F 		cmp	r0, #32768
 3414 004c 37D0     		beq	.L246
 3415              	.LVL191:
 3416              	.L239:
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3417              		.loc 1 1860 3 is_stmt 1 view .LVU1210
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3418              		.loc 1 1860 7 is_stmt 0 view .LVU1211
 3419 004e E36C     		ldr	r3, [r4, #76]
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3420              		.loc 1 1860 38 view .LVU1212
 3421 0050 274A     		ldr	r2, .L248
 3422 0052 DA62     		str	r2, [r3, #44]
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 151


 3423              		.loc 1 1863 3 is_stmt 1 view .LVU1213
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3424              		.loc 1 1863 7 is_stmt 0 view .LVU1214
 3425 0054 E36C     		ldr	r3, [r4, #76]
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3426              		.loc 1 1863 34 view .LVU1215
 3427 0056 274A     		ldr	r2, .L248+4
 3428 0058 9A62     		str	r2, [r3, #40]
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3429              		.loc 1 1866 3 is_stmt 1 view .LVU1216
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3430              		.loc 1 1866 7 is_stmt 0 view .LVU1217
 3431 005a E36C     		ldr	r3, [r4, #76]
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3432              		.loc 1 1866 35 view .LVU1218
 3433 005c 264A     		ldr	r2, .L248+8
 3434 005e 1A63     		str	r2, [r3, #48]
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3435              		.loc 1 1869 3 is_stmt 1 view .LVU1219
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3436              		.loc 1 1869 7 is_stmt 0 view .LVU1220
 3437 0060 E36C     		ldr	r3, [r4, #76]
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3438              		.loc 1 1869 35 view .LVU1221
 3439 0062 0022     		movs	r2, #0
 3440 0064 5A63     		str	r2, [r3, #52]
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3441              		.loc 1 1872 3 is_stmt 1 view .LVU1222
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3442              		.loc 1 1872 63 is_stmt 0 view .LVU1223
 3443 0066 2168     		ldr	r1, [r4]
 3444              	.LVL192:
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3445              		.loc 1 1873 38 view .LVU1224
 3446 0068 E38F     		ldrh	r3, [r4, #62]
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3447              		.loc 1 1872 17 view .LVU1225
 3448 006a 9BB2     		uxth	r3, r3
 3449 006c A26B     		ldr	r2, [r4, #56]
 3450 006e 0C31     		adds	r1, r1, #12
 3451 0070 E06C     		ldr	r0, [r4, #76]
 3452 0072 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3453              	.LVL193:
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****                                  hspi->RxXferCount))
 3454              		.loc 1 1872 6 discriminator 1 view .LVU1226
 3455 0076 0146     		mov	r1, r0
 3456 0078 60BB     		cbnz	r0, .L247
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3457              		.loc 1 1883 3 is_stmt 1 view .LVU1227
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3458              		.loc 1 1883 12 is_stmt 0 view .LVU1228
 3459 007a 2368     		ldr	r3, [r4]
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3460              		.loc 1 1883 22 view .LVU1229
 3461 007c 1A68     		ldr	r2, [r3]
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3462              		.loc 1 1883 6 view .LVU1230
ARM GAS  /tmp/ccA9MgmD.s 			page 152


 3463 007e 12F0400F 		tst	r2, #64
 3464 0082 03D1     		bne	.L241
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3465              		.loc 1 1886 5 is_stmt 1 view .LVU1231
 3466 0084 1A68     		ldr	r2, [r3]
 3467 0086 42F04002 		orr	r2, r2, #64
 3468 008a 1A60     		str	r2, [r3]
 3469              	.L241:
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3470              		.loc 1 1890 3 view .LVU1232
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3471              		.loc 1 1890 3 view .LVU1233
 3472 008c 0023     		movs	r3, #0
 3473 008e 84F85030 		strb	r3, [r4, #80]
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3474              		.loc 1 1890 3 view .LVU1234
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3475              		.loc 1 1893 3 view .LVU1235
 3476 0092 2268     		ldr	r2, [r4]
 3477 0094 5368     		ldr	r3, [r2, #4]
 3478 0096 43F02003 		orr	r3, r3, #32
 3479 009a 5360     		str	r3, [r2, #4]
1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3480              		.loc 1 1896 3 view .LVU1236
 3481 009c 2268     		ldr	r2, [r4]
 3482 009e 5368     		ldr	r3, [r2, #4]
 3483 00a0 43F00103 		orr	r3, r3, #1
 3484 00a4 5360     		str	r3, [r2, #4]
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3485              		.loc 1 1898 3 view .LVU1237
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3486              		.loc 1 1898 10 is_stmt 0 view .LVU1238
 3487 00a6 0D46     		mov	r5, r1
 3488 00a8 1DE0     		b	.L237
 3489              	.LVL194:
 3490              	.L245:
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3491              		.loc 1 1813 5 is_stmt 1 view .LVU1239
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3492              		.loc 1 1813 17 is_stmt 0 view .LVU1240
 3493 00aa 0423     		movs	r3, #4
 3494 00ac 84F85130 		strb	r3, [r4, #81]
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3495              		.loc 1 1816 5 is_stmt 1 view .LVU1241
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3496              		.loc 1 1819 5 view .LVU1242
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3497              		.loc 1 1819 12 is_stmt 0 view .LVU1243
 3498 00b0 1346     		mov	r3, r2
 3499 00b2 0A46     		mov	r2, r1
 3500              	.LVL195:
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3501              		.loc 1 1819 12 view .LVU1244
 3502 00b4 2046     		mov	r0, r4
 3503 00b6 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 3504              	.LVL196:
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 153


 3505              		.loc 1 1819 12 view .LVU1245
 3506 00ba 0546     		mov	r5, r0
 3507 00bc 13E0     		b	.L237
 3508              	.LVL197:
 3509              	.L246:
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3510              		.loc 1 1847 5 is_stmt 1 view .LVU1246
 3511 00be 2268     		ldr	r2, [r4]
 3512              	.LVL198:
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3513              		.loc 1 1847 5 is_stmt 0 view .LVU1247
 3514 00c0 1368     		ldr	r3, [r2]
 3515 00c2 23F04003 		bic	r3, r3, #64
 3516 00c6 1360     		str	r3, [r2]
 3517              	.LVL199:
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3518              		.loc 1 1848 5 is_stmt 1 view .LVU1248
 3519 00c8 2268     		ldr	r2, [r4]
 3520 00ca 1368     		ldr	r3, [r2]
 3521 00cc 23F48043 		bic	r3, r3, #16384
 3522 00d0 1360     		str	r3, [r2]
 3523 00d2 BCE7     		b	.L239
 3524              	.LVL200:
 3525              	.L247:
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Process Unlocked */
 3526              		.loc 1 1876 5 view .LVU1249
 3527 00d4 636D     		ldr	r3, [r4, #84]
 3528 00d6 43F01003 		orr	r3, r3, #16
 3529 00da 6365     		str	r3, [r4, #84]
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3530              		.loc 1 1878 5 view .LVU1250
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3531              		.loc 1 1878 5 view .LVU1251
 3532 00dc 0023     		movs	r3, #0
 3533 00de 84F85030 		strb	r3, [r4, #80]
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return HAL_ERROR;
 3534              		.loc 1 1878 5 view .LVU1252
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3535              		.loc 1 1879 5 view .LVU1253
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3536              		.loc 1 1879 12 is_stmt 0 view .LVU1254
 3537 00e2 00E0     		b	.L237
 3538              	.LVL201:
 3539              	.L242:
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3540              		.loc 1 1808 12 view .LVU1255
 3541 00e4 0225     		movs	r5, #2
 3542              	.LVL202:
 3543              	.L237:
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3544              		.loc 1 1899 1 view .LVU1256
 3545 00e6 2846     		mov	r0, r5
 3546 00e8 38BD     		pop	{r3, r4, r5, pc}
 3547              	.LVL203:
 3548              	.L243:
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3549              		.loc 1 1828 3 discriminator 1 view .LVU1257
ARM GAS  /tmp/ccA9MgmD.s 			page 154


 3550 00ea 0225     		movs	r5, #2
 3551 00ec FBE7     		b	.L237
 3552              	.L249:
 3553 00ee 00BF     		.align	2
 3554              	.L248:
 3555 00f0 00000000 		.word	SPI_DMAHalfReceiveCplt
 3556 00f4 00000000 		.word	SPI_DMAReceiveCplt
 3557 00f8 00000000 		.word	SPI_DMAError
 3558              		.cfi_endproc
 3559              	.LFE76:
 3561              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 3562              		.align	1
 3563              		.global	HAL_SPI_Abort
 3564              		.syntax unified
 3565              		.thumb
 3566              		.thumb_func
 3568              	HAL_SPI_Abort:
 3569              	.LVL204:
 3570              	.LFB78:
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 3571              		.loc 1 2055 1 is_stmt 1 view -0
 3572              		.cfi_startproc
 3573              		@ args = 0, pretend = 0, frame = 16
 3574              		@ frame_needed = 0, uses_anonymous_args = 0
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 3575              		.loc 1 2055 1 is_stmt 0 view .LVU1259
 3576 0000 10B5     		push	{r4, lr}
 3577              	.LCFI41:
 3578              		.cfi_def_cfa_offset 8
 3579              		.cfi_offset 4, -8
 3580              		.cfi_offset 14, -4
 3581 0002 84B0     		sub	sp, sp, #16
 3582              	.LCFI42:
 3583              		.cfi_def_cfa_offset 24
 3584 0004 0446     		mov	r4, r0
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 3585              		.loc 1 2056 3 is_stmt 1 view .LVU1260
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
 3586              		.loc 1 2057 3 view .LVU1261
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3587              		.loc 1 2058 3 view .LVU1262
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 3588              		.loc 1 2061 3 view .LVU1263
 3589              	.LVL205:
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3590              		.loc 1 2062 3 view .LVU1264
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3591              		.loc 1 2062 61 is_stmt 0 view .LVU1265
 3592 0006 484B     		ldr	r3, .L271
 3593 0008 1B68     		ldr	r3, [r3]
 3594 000a 484A     		ldr	r2, .L271+4
 3595 000c A2FB0323 		umull	r2, r3, r2, r3
 3596 0010 5B0A     		lsrs	r3, r3, #9
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3597              		.loc 1 2062 36 view .LVU1266
 3598 0012 6422     		movs	r2, #100
 3599 0014 02FB03F3 		mul	r3, r2, r3
ARM GAS  /tmp/ccA9MgmD.s 			page 155


2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 3600              		.loc 1 2062 14 view .LVU1267
 3601 0018 0293     		str	r3, [sp, #8]
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3602              		.loc 1 2063 3 is_stmt 1 view .LVU1268
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3603              		.loc 1 2063 9 is_stmt 0 view .LVU1269
 3604 001a 029B     		ldr	r3, [sp, #8]
 3605 001c 0393     		str	r3, [sp, #12]
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3606              		.loc 1 2066 3 is_stmt 1 view .LVU1270
 3607 001e 0268     		ldr	r2, [r0]
 3608 0020 5368     		ldr	r3, [r2, #4]
 3609 0022 23F02003 		bic	r3, r3, #32
 3610 0026 5360     		str	r3, [r2, #4]
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3611              		.loc 1 2069 3 view .LVU1271
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3612              		.loc 1 2069 7 is_stmt 0 view .LVU1272
 3613 0028 0268     		ldr	r2, [r0]
 3614 002a 5368     		ldr	r3, [r2, #4]
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3615              		.loc 1 2069 6 view .LVU1273
 3616 002c 13F0800F 		tst	r3, #128
 3617 0030 11D0     		beq	.L251
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3618              		.loc 1 2071 5 is_stmt 1 view .LVU1274
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3619              		.loc 1 2071 17 is_stmt 0 view .LVU1275
 3620 0032 3F4B     		ldr	r3, .L271+8
 3621 0034 4364     		str	r3, [r0, #68]
 3622              	.L254:
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3623              		.loc 1 2073 5 is_stmt 1 view .LVU1276
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3624              		.loc 1 2075 7 view .LVU1277
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3625              		.loc 1 2075 17 is_stmt 0 view .LVU1278
 3626 0036 039B     		ldr	r3, [sp, #12]
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3627              		.loc 1 2075 10 view .LVU1279
 3628 0038 3BB1     		cbz	r3, .L268
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3629              		.loc 1 2080 7 is_stmt 1 view .LVU1280
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3630              		.loc 1 2080 12 is_stmt 0 view .LVU1281
 3631 003a 039B     		ldr	r3, [sp, #12]
 3632 003c 013B     		subs	r3, r3, #1
 3633 003e 0393     		str	r3, [sp, #12]
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3634              		.loc 1 2081 26 is_stmt 1 view .LVU1282
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3635              		.loc 1 2081 18 is_stmt 0 view .LVU1283
 3636 0040 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3637              		.loc 1 2081 26 view .LVU1284
 3638 0044 072B     		cmp	r3, #7
ARM GAS  /tmp/ccA9MgmD.s 			page 156


 3639 0046 F6D1     		bne	.L254
 3640 0048 03E0     		b	.L253
 3641              	.L268:
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 3642              		.loc 1 2077 9 is_stmt 1 view .LVU1285
 3643 004a 636D     		ldr	r3, [r4, #84]
 3644 004c 43F04003 		orr	r3, r3, #64
 3645 0050 6365     		str	r3, [r4, #84]
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3646              		.loc 1 2078 9 view .LVU1286
 3647              	.L253:
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3648              		.loc 1 2083 5 view .LVU1287
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3649              		.loc 1 2083 11 is_stmt 0 view .LVU1288
 3650 0052 029B     		ldr	r3, [sp, #8]
 3651 0054 0393     		str	r3, [sp, #12]
 3652              	.L251:
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3653              		.loc 1 2086 3 is_stmt 1 view .LVU1289
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3654              		.loc 1 2086 7 is_stmt 0 view .LVU1290
 3655 0056 5368     		ldr	r3, [r2, #4]
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3656              		.loc 1 2086 6 view .LVU1291
 3657 0058 13F0400F 		tst	r3, #64
 3658 005c 11D0     		beq	.L255
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3659              		.loc 1 2088 5 is_stmt 1 view .LVU1292
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 3660              		.loc 1 2088 17 is_stmt 0 view .LVU1293
 3661 005e 354B     		ldr	r3, .L271+12
 3662 0060 2364     		str	r3, [r4, #64]
 3663              	.L258:
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3664              		.loc 1 2090 5 is_stmt 1 view .LVU1294
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3665              		.loc 1 2092 7 view .LVU1295
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3666              		.loc 1 2092 17 is_stmt 0 view .LVU1296
 3667 0062 039B     		ldr	r3, [sp, #12]
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3668              		.loc 1 2092 10 view .LVU1297
 3669 0064 3BB1     		cbz	r3, .L269
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3670              		.loc 1 2097 7 is_stmt 1 view .LVU1298
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3671              		.loc 1 2097 12 is_stmt 0 view .LVU1299
 3672 0066 039B     		ldr	r3, [sp, #12]
 3673 0068 013B     		subs	r3, r3, #1
 3674 006a 0393     		str	r3, [sp, #12]
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3675              		.loc 1 2098 26 is_stmt 1 view .LVU1300
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 3676              		.loc 1 2098 18 is_stmt 0 view .LVU1301
 3677 006c 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
ARM GAS  /tmp/ccA9MgmD.s 			page 157


 3678              		.loc 1 2098 26 view .LVU1302
 3679 0070 072B     		cmp	r3, #7
 3680 0072 F6D1     		bne	.L258
 3681 0074 03E0     		b	.L257
 3682              	.L269:
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 3683              		.loc 1 2094 9 is_stmt 1 view .LVU1303
 3684 0076 636D     		ldr	r3, [r4, #84]
 3685 0078 43F04003 		orr	r3, r3, #64
 3686 007c 6365     		str	r3, [r4, #84]
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3687              		.loc 1 2095 9 view .LVU1304
 3688              	.L257:
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3689              		.loc 1 2100 5 view .LVU1305
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3690              		.loc 1 2100 11 is_stmt 0 view .LVU1306
 3691 007e 029B     		ldr	r3, [sp, #8]
 3692 0080 0393     		str	r3, [sp, #12]
 3693              	.L255:
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3694              		.loc 1 2104 3 is_stmt 1 view .LVU1307
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3695              		.loc 1 2104 7 is_stmt 0 view .LVU1308
 3696 0082 5368     		ldr	r3, [r2, #4]
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3697              		.loc 1 2104 6 view .LVU1309
 3698 0084 13F0020F 		tst	r3, #2
 3699 0088 1DD0     		beq	.L259
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3700              		.loc 1 2107 5 is_stmt 1 view .LVU1310
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3701              		.loc 1 2107 13 is_stmt 0 view .LVU1311
 3702 008a A36C     		ldr	r3, [r4, #72]
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3703              		.loc 1 2107 8 view .LVU1312
 3704 008c DBB1     		cbz	r3, .L259
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3705              		.loc 1 2111 7 is_stmt 1 view .LVU1313
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3706              		.loc 1 2111 39 is_stmt 0 view .LVU1314
 3707 008e 0022     		movs	r2, #0
 3708 0090 5A63     		str	r2, [r3, #52]
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3709              		.loc 1 2114 7 is_stmt 1 view .LVU1315
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3710              		.loc 1 2114 11 is_stmt 0 view .LVU1316
 3711 0092 A06C     		ldr	r0, [r4, #72]
 3712              	.LVL206:
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3713              		.loc 1 2114 11 view .LVU1317
 3714 0094 FFF7FEFF 		bl	HAL_DMA_Abort
 3715              	.LVL207:
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3716              		.loc 1 2114 10 discriminator 1 view .LVU1318
 3717 0098 08B1     		cbz	r0, .L260
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
ARM GAS  /tmp/ccA9MgmD.s 			page 158


 3718              		.loc 1 2116 9 is_stmt 1 view .LVU1319
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3719              		.loc 1 2116 25 is_stmt 0 view .LVU1320
 3720 009a 4023     		movs	r3, #64
 3721 009c 6365     		str	r3, [r4, #84]
 3722              	.L260:
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3723              		.loc 1 2120 7 is_stmt 1 view .LVU1321
 3724 009e 2268     		ldr	r2, [r4]
 3725 00a0 5368     		ldr	r3, [r2, #4]
 3726 00a2 23F00203 		bic	r3, r3, #2
 3727 00a6 5360     		str	r3, [r2, #4]
 3728              	.L262:
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3729              		.loc 1 2123 7 view .LVU1322
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3730              		.loc 1 2125 9 view .LVU1323
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3731              		.loc 1 2125 19 is_stmt 0 view .LVU1324
 3732 00a8 039B     		ldr	r3, [sp, #12]
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 3733              		.loc 1 2125 12 view .LVU1325
 3734 00aa 43B1     		cbz	r3, .L270
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3735              		.loc 1 2130 9 is_stmt 1 view .LVU1326
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3736              		.loc 1 2130 14 is_stmt 0 view .LVU1327
 3737 00ac 039B     		ldr	r3, [sp, #12]
 3738 00ae 013B     		subs	r3, r3, #1
 3739 00b0 0393     		str	r3, [sp, #12]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3740              		.loc 1 2131 52 is_stmt 1 view .LVU1328
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3741              		.loc 1 2131 21 is_stmt 0 view .LVU1329
 3742 00b2 2368     		ldr	r3, [r4]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3743              		.loc 1 2131 31 view .LVU1330
 3744 00b4 9B68     		ldr	r3, [r3, #8]
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3745              		.loc 1 2131 52 view .LVU1331
 3746 00b6 13F0020F 		tst	r3, #2
 3747 00ba F5D0     		beq	.L262
 3748 00bc 03E0     		b	.L259
 3749              	.L270:
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           break;
 3750              		.loc 1 2127 11 is_stmt 1 view .LVU1332
 3751 00be 636D     		ldr	r3, [r4, #84]
 3752 00c0 43F04003 		orr	r3, r3, #64
 3753 00c4 6365     		str	r3, [r4, #84]
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         }
 3754              		.loc 1 2128 11 view .LVU1333
 3755              	.L259:
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3756              		.loc 1 2136 3 view .LVU1334
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3757              		.loc 1 2136 7 is_stmt 0 view .LVU1335
 3758 00c6 2368     		ldr	r3, [r4]
ARM GAS  /tmp/ccA9MgmD.s 			page 159


 3759 00c8 5B68     		ldr	r3, [r3, #4]
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3760              		.loc 1 2136 6 view .LVU1336
 3761 00ca 13F0010F 		tst	r3, #1
 3762 00ce 13D0     		beq	.L263
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3763              		.loc 1 2139 5 is_stmt 1 view .LVU1337
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3764              		.loc 1 2139 13 is_stmt 0 view .LVU1338
 3765 00d0 E36C     		ldr	r3, [r4, #76]
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3766              		.loc 1 2139 8 view .LVU1339
 3767 00d2 8BB1     		cbz	r3, .L263
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3768              		.loc 1 2143 7 is_stmt 1 view .LVU1340
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3769              		.loc 1 2143 39 is_stmt 0 view .LVU1341
 3770 00d4 0022     		movs	r2, #0
 3771 00d6 5A63     		str	r2, [r3, #52]
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3772              		.loc 1 2146 7 is_stmt 1 view .LVU1342
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3773              		.loc 1 2146 11 is_stmt 0 view .LVU1343
 3774 00d8 E06C     		ldr	r0, [r4, #76]
 3775 00da FFF7FEFF 		bl	HAL_DMA_Abort
 3776              	.LVL208:
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 3777              		.loc 1 2146 10 discriminator 1 view .LVU1344
 3778 00de 08B1     		cbz	r0, .L264
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3779              		.loc 1 2148 9 is_stmt 1 view .LVU1345
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 3780              		.loc 1 2148 25 is_stmt 0 view .LVU1346
 3781 00e0 4023     		movs	r3, #64
 3782 00e2 6365     		str	r3, [r4, #84]
 3783              	.L264:
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3784              		.loc 1 2152 7 is_stmt 1 view .LVU1347
 3785 00e4 2268     		ldr	r2, [r4]
 3786 00e6 1368     		ldr	r3, [r2]
 3787 00e8 23F04003 		bic	r3, r3, #64
 3788 00ec 1360     		str	r3, [r2]
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 3789              		.loc 1 2155 7 view .LVU1348
 3790 00ee 2268     		ldr	r2, [r4]
 3791 00f0 5368     		ldr	r3, [r2, #4]
 3792 00f2 23F00103 		bic	r3, r3, #1
 3793 00f6 5360     		str	r3, [r2, #4]
 3794              	.L263:
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3795              		.loc 1 2159 3 view .LVU1349
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3796              		.loc 1 2159 21 is_stmt 0 view .LVU1350
 3797 00f8 0023     		movs	r3, #0
 3798 00fa E387     		strh	r3, [r4, #62]	@ movhi
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3799              		.loc 1 2160 3 is_stmt 1 view .LVU1351
ARM GAS  /tmp/ccA9MgmD.s 			page 160


2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3800              		.loc 1 2160 21 is_stmt 0 view .LVU1352
 3801 00fc E386     		strh	r3, [r4, #54]	@ movhi
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3802              		.loc 1 2163 3 is_stmt 1 view .LVU1353
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3803              		.loc 1 2163 11 is_stmt 0 view .LVU1354
 3804 00fe 636D     		ldr	r3, [r4, #84]
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3805              		.loc 1 2163 6 view .LVU1355
 3806 0100 402B     		cmp	r3, #64
 3807 0102 0ED0     		beq	.L266
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3808              		.loc 1 2171 5 is_stmt 1 view .LVU1356
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3809              		.loc 1 2171 21 is_stmt 0 view .LVU1357
 3810 0104 0020     		movs	r0, #0
 3811 0106 6065     		str	r0, [r4, #84]
 3812              	.L265:
 3813              	.LVL209:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3814              		.loc 1 2175 3 is_stmt 1 view .LVU1358
 3815              	.LBB4:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3816              		.loc 1 2175 3 view .LVU1359
 3817 0108 0023     		movs	r3, #0
 3818 010a 0193     		str	r3, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3819              		.loc 1 2175 3 view .LVU1360
 3820 010c 2368     		ldr	r3, [r4]
 3821 010e DA68     		ldr	r2, [r3, #12]
 3822 0110 0192     		str	r2, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3823              		.loc 1 2175 3 view .LVU1361
 3824 0112 9B68     		ldr	r3, [r3, #8]
 3825 0114 0193     		str	r3, [sp, #4]
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3826              		.loc 1 2175 3 view .LVU1362
 3827 0116 019B     		ldr	r3, [sp, #4]
 3828              	.LBE4:
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3829              		.loc 1 2175 3 view .LVU1363
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3830              		.loc 1 2178 3 view .LVU1364
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3831              		.loc 1 2178 15 is_stmt 0 view .LVU1365
 3832 0118 0123     		movs	r3, #1
 3833 011a 84F85130 		strb	r3, [r4, #81]
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3834              		.loc 1 2180 3 is_stmt 1 view .LVU1366
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3835              		.loc 1 2181 1 is_stmt 0 view .LVU1367
 3836 011e 04B0     		add	sp, sp, #16
 3837              	.LCFI43:
 3838              		.cfi_remember_state
 3839              		.cfi_def_cfa_offset 8
 3840              		@ sp needed
ARM GAS  /tmp/ccA9MgmD.s 			page 161


 3841 0120 10BD     		pop	{r4, pc}
 3842              	.LVL210:
 3843              	.L266:
 3844              	.LCFI44:
 3845              		.cfi_restore_state
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 3846              		.loc 1 2166 15 view .LVU1368
 3847 0122 0120     		movs	r0, #1
 3848 0124 F0E7     		b	.L265
 3849              	.L272:
 3850 0126 00BF     		.align	2
 3851              	.L271:
 3852 0128 00000000 		.word	SystemCoreClock
 3853 012c F1197605 		.word	91625969
 3854 0130 00000000 		.word	SPI_AbortTx_ISR
 3855 0134 00000000 		.word	SPI_AbortRx_ISR
 3856              		.cfi_endproc
 3857              	.LFE78:
 3859              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 3860              		.align	1
 3861              		.global	HAL_SPI_DMAPause
 3862              		.syntax unified
 3863              		.thumb
 3864              		.thumb_func
 3866              	HAL_SPI_DMAPause:
 3867              	.LVL211:
 3868              	.LFB80:
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 3869              		.loc 1 2359 1 is_stmt 1 view -0
 3870              		.cfi_startproc
 3871              		@ args = 0, pretend = 0, frame = 0
 3872              		@ frame_needed = 0, uses_anonymous_args = 0
 3873              		@ link register save eliminated.
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3874              		.loc 1 2361 3 view .LVU1370
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3875              		.loc 1 2361 3 view .LVU1371
 3876 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3877 0004 012B     		cmp	r3, #1
 3878 0006 0CD0     		beq	.L275
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3879              		.loc 1 2361 3 discriminator 2 view .LVU1372
 3880 0008 0123     		movs	r3, #1
 3881 000a 80F85030 		strb	r3, [r0, #80]
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3882              		.loc 1 2361 3 view .LVU1373
2364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3883              		.loc 1 2364 3 view .LVU1374
 3884 000e 0268     		ldr	r2, [r0]
 3885 0010 5368     		ldr	r3, [r2, #4]
 3886 0012 23F00303 		bic	r3, r3, #3
 3887 0016 5360     		str	r3, [r2, #4]
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3888              		.loc 1 2367 3 view .LVU1375
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3889              		.loc 1 2367 3 view .LVU1376
 3890 0018 0023     		movs	r3, #0
ARM GAS  /tmp/ccA9MgmD.s 			page 162


 3891 001a 80F85030 		strb	r3, [r0, #80]
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3892              		.loc 1 2367 3 view .LVU1377
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3893              		.loc 1 2369 3 view .LVU1378
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3894              		.loc 1 2369 10 is_stmt 0 view .LVU1379
 3895 001e 1846     		mov	r0, r3
 3896              	.LVL212:
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3897              		.loc 1 2369 10 view .LVU1380
 3898 0020 7047     		bx	lr
 3899              	.LVL213:
 3900              	.L275:
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3901              		.loc 1 2361 3 discriminator 1 view .LVU1381
 3902 0022 0220     		movs	r0, #2
 3903              	.LVL214:
2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3904              		.loc 1 2370 1 view .LVU1382
 3905 0024 7047     		bx	lr
 3906              		.cfi_endproc
 3907              	.LFE80:
 3909              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 3910              		.align	1
 3911              		.global	HAL_SPI_DMAResume
 3912              		.syntax unified
 3913              		.thumb
 3914              		.thumb_func
 3916              	HAL_SPI_DMAResume:
 3917              	.LVL215:
 3918              	.LFB81:
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Process Locked */
 3919              		.loc 1 2379 1 is_stmt 1 view -0
 3920              		.cfi_startproc
 3921              		@ args = 0, pretend = 0, frame = 0
 3922              		@ frame_needed = 0, uses_anonymous_args = 0
 3923              		@ link register save eliminated.
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3924              		.loc 1 2381 3 view .LVU1384
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3925              		.loc 1 2381 3 view .LVU1385
 3926 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3927 0004 012B     		cmp	r3, #1
 3928 0006 0CD0     		beq	.L278
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3929              		.loc 1 2381 3 discriminator 2 view .LVU1386
 3930 0008 0123     		movs	r3, #1
 3931 000a 80F85030 		strb	r3, [r0, #80]
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3932              		.loc 1 2381 3 view .LVU1387
2384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3933              		.loc 1 2384 3 view .LVU1388
 3934 000e 0268     		ldr	r2, [r0]
 3935 0010 5368     		ldr	r3, [r2, #4]
 3936 0012 43F00303 		orr	r3, r3, #3
 3937 0016 5360     		str	r3, [r2, #4]
ARM GAS  /tmp/ccA9MgmD.s 			page 163


2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3938              		.loc 1 2387 3 view .LVU1389
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3939              		.loc 1 2387 3 view .LVU1390
 3940 0018 0023     		movs	r3, #0
 3941 001a 80F85030 		strb	r3, [r0, #80]
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3942              		.loc 1 2387 3 view .LVU1391
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3943              		.loc 1 2389 3 view .LVU1392
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3944              		.loc 1 2389 10 is_stmt 0 view .LVU1393
 3945 001e 1846     		mov	r0, r3
 3946              	.LVL216:
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 3947              		.loc 1 2389 10 view .LVU1394
 3948 0020 7047     		bx	lr
 3949              	.LVL217:
 3950              	.L278:
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3951              		.loc 1 2381 3 discriminator 1 view .LVU1395
 3952 0022 0220     		movs	r0, #2
 3953              	.LVL218:
2390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 3954              		.loc 1 2390 1 view .LVU1396
 3955 0024 7047     		bx	lr
 3956              		.cfi_endproc
 3957              	.LFE81:
 3959              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 3960              		.align	1
 3961              		.global	HAL_SPI_DMAStop
 3962              		.syntax unified
 3963              		.thumb
 3964              		.thumb_func
 3966              	HAL_SPI_DMAStop:
 3967              	.LVL219:
 3968              	.LFB82:
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3969              		.loc 1 2399 1 is_stmt 1 view -0
 3970              		.cfi_startproc
 3971              		@ args = 0, pretend = 0, frame = 0
 3972              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3973              		.loc 1 2399 1 is_stmt 0 view .LVU1398
 3974 0000 38B5     		push	{r3, r4, r5, lr}
 3975              	.LCFI45:
 3976              		.cfi_def_cfa_offset 16
 3977              		.cfi_offset 3, -16
 3978              		.cfi_offset 4, -12
 3979              		.cfi_offset 5, -8
 3980              		.cfi_offset 14, -4
 3981 0002 0446     		mov	r4, r0
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 3982              		.loc 1 2400 3 is_stmt 1 view .LVU1399
 3983              	.LVL220:
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3984              		.loc 1 2410 3 view .LVU1400
ARM GAS  /tmp/ccA9MgmD.s 			page 164


2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3985              		.loc 1 2410 11 is_stmt 0 view .LVU1401
 3986 0004 806C     		ldr	r0, [r0, #72]
 3987              	.LVL221:
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 3988              		.loc 1 2410 6 view .LVU1402
 3989 0006 48B1     		cbz	r0, .L282
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3990              		.loc 1 2412 5 is_stmt 1 view .LVU1403
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3991              		.loc 1 2412 19 is_stmt 0 view .LVU1404
 3992 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 3993              	.LVL222:
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 3994              		.loc 1 2412 8 discriminator 1 view .LVU1405
 3995 000c 0546     		mov	r5, r0
 3996 000e 30B1     		cbz	r0, .L280
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
 3997              		.loc 1 2414 7 is_stmt 1 view .LVU1406
 3998 0010 636D     		ldr	r3, [r4, #84]
 3999 0012 43F01003 		orr	r3, r3, #16
 4000 0016 6365     		str	r3, [r4, #84]
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4001              		.loc 1 2415 7 view .LVU1407
 4002              	.LVL223:
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4003              		.loc 1 2415 17 is_stmt 0 view .LVU1408
 4004 0018 0125     		movs	r5, #1
 4005 001a 00E0     		b	.L280
 4006              	.LVL224:
 4007              	.L282:
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 4008              		.loc 1 2400 21 view .LVU1409
 4009 001c 0025     		movs	r5, #0
 4010              	.LVL225:
 4011              	.L280:
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4012              		.loc 1 2419 3 is_stmt 1 view .LVU1410
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4013              		.loc 1 2419 11 is_stmt 0 view .LVU1411
 4014 001e E06C     		ldr	r0, [r4, #76]
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4015              		.loc 1 2419 6 view .LVU1412
 4016 0020 38B1     		cbz	r0, .L281
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4017              		.loc 1 2421 5 is_stmt 1 view .LVU1413
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4018              		.loc 1 2421 19 is_stmt 0 view .LVU1414
 4019 0022 FFF7FEFF 		bl	HAL_DMA_Abort
 4020              	.LVL226:
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4021              		.loc 1 2421 8 discriminator 1 view .LVU1415
 4022 0026 20B1     		cbz	r0, .L281
2423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4023              		.loc 1 2423 7 is_stmt 1 view .LVU1416
 4024 0028 636D     		ldr	r3, [r4, #84]
 4025 002a 43F01003 		orr	r3, r3, #16
ARM GAS  /tmp/ccA9MgmD.s 			page 165


 4026 002e 6365     		str	r3, [r4, #84]
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4027              		.loc 1 2424 7 view .LVU1417
 4028              	.LVL227:
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4029              		.loc 1 2424 17 is_stmt 0 view .LVU1418
 4030 0030 0125     		movs	r5, #1
 4031              	.LVL228:
 4032              	.L281:
2429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 4033              		.loc 1 2429 3 is_stmt 1 view .LVU1419
 4034 0032 2268     		ldr	r2, [r4]
 4035 0034 5368     		ldr	r3, [r2, #4]
 4036 0036 23F00303 		bic	r3, r3, #3
 4037 003a 5360     		str	r3, [r2, #4]
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4038              		.loc 1 2430 3 view .LVU1420
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   return errorcode;
 4039              		.loc 1 2430 15 is_stmt 0 view .LVU1421
 4040 003c 0123     		movs	r3, #1
 4041 003e 84F85130 		strb	r3, [r4, #81]
2431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 4042              		.loc 1 2431 3 is_stmt 1 view .LVU1422
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4043              		.loc 1 2432 1 is_stmt 0 view .LVU1423
 4044 0042 2846     		mov	r0, r5
 4045 0044 38BD     		pop	{r3, r4, r5, pc}
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4046              		.loc 1 2432 1 view .LVU1424
 4047              		.cfi_endproc
 4048              	.LFE82:
 4050              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 4051              		.align	1
 4052              		.weak	HAL_SPI_TxCpltCallback
 4053              		.syntax unified
 4054              		.thumb
 4055              		.thumb_func
 4057              	HAL_SPI_TxCpltCallback:
 4058              	.LVL229:
 4059              	.LFB84:
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4060              		.loc 1 2543 1 is_stmt 1 view -0
 4061              		.cfi_startproc
 4062              		@ args = 0, pretend = 0, frame = 0
 4063              		@ frame_needed = 0, uses_anonymous_args = 0
 4064              		@ link register save eliminated.
2545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4065              		.loc 1 2545 3 view .LVU1426
2550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4066              		.loc 1 2550 1 is_stmt 0 view .LVU1427
 4067 0000 7047     		bx	lr
 4068              		.cfi_endproc
 4069              	.LFE84:
 4071              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 4072              		.align	1
 4073              		.weak	HAL_SPI_RxCpltCallback
 4074              		.syntax unified
ARM GAS  /tmp/ccA9MgmD.s 			page 166


 4075              		.thumb
 4076              		.thumb_func
 4078              	HAL_SPI_RxCpltCallback:
 4079              	.LVL230:
 4080              	.LFB85:
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4081              		.loc 1 2559 1 is_stmt 1 view -0
 4082              		.cfi_startproc
 4083              		@ args = 0, pretend = 0, frame = 0
 4084              		@ frame_needed = 0, uses_anonymous_args = 0
 4085              		@ link register save eliminated.
2561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4086              		.loc 1 2561 3 view .LVU1429
2566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4087              		.loc 1 2566 1 is_stmt 0 view .LVU1430
 4088 0000 7047     		bx	lr
 4089              		.cfi_endproc
 4090              	.LFE85:
 4092              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 4093              		.align	1
 4094              		.weak	HAL_SPI_TxRxCpltCallback
 4095              		.syntax unified
 4096              		.thumb
 4097              		.thumb_func
 4099              	HAL_SPI_TxRxCpltCallback:
 4100              	.LVL231:
 4101              	.LFB86:
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4102              		.loc 1 2575 1 is_stmt 1 view -0
 4103              		.cfi_startproc
 4104              		@ args = 0, pretend = 0, frame = 0
 4105              		@ frame_needed = 0, uses_anonymous_args = 0
 4106              		@ link register save eliminated.
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4107              		.loc 1 2577 3 view .LVU1432
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4108              		.loc 1 2582 1 is_stmt 0 view .LVU1433
 4109 0000 7047     		bx	lr
 4110              		.cfi_endproc
 4111              	.LFE86:
 4113              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 4114              		.align	1
 4115              		.weak	HAL_SPI_TxHalfCpltCallback
 4116              		.syntax unified
 4117              		.thumb
 4118              		.thumb_func
 4120              	HAL_SPI_TxHalfCpltCallback:
 4121              	.LVL232:
 4122              	.LFB87:
2591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4123              		.loc 1 2591 1 is_stmt 1 view -0
 4124              		.cfi_startproc
 4125              		@ args = 0, pretend = 0, frame = 0
 4126              		@ frame_needed = 0, uses_anonymous_args = 0
 4127              		@ link register save eliminated.
2593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4128              		.loc 1 2593 3 view .LVU1435
ARM GAS  /tmp/ccA9MgmD.s 			page 167


2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4129              		.loc 1 2598 1 is_stmt 0 view .LVU1436
 4130 0000 7047     		bx	lr
 4131              		.cfi_endproc
 4132              	.LFE87:
 4134              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 4135              		.align	1
 4136              		.syntax unified
 4137              		.thumb
 4138              		.thumb_func
 4140              	SPI_DMAHalfTransmitCplt:
 4141              	.LVL233:
 4142              	.LFB97:
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4143              		.loc 1 2975 1 is_stmt 1 view -0
 4144              		.cfi_startproc
 4145              		@ args = 0, pretend = 0, frame = 0
 4146              		@ frame_needed = 0, uses_anonymous_args = 0
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4147              		.loc 1 2975 1 is_stmt 0 view .LVU1438
 4148 0000 08B5     		push	{r3, lr}
 4149              	.LCFI46:
 4150              		.cfi_def_cfa_offset 8
 4151              		.cfi_offset 3, -8
 4152              		.cfi_offset 14, -4
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4153              		.loc 1 2976 3 is_stmt 1 view .LVU1439
 4154              	.LVL234:
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4155              		.loc 1 2982 3 view .LVU1440
 4156 0002 406A     		ldr	r0, [r0, #36]
 4157              	.LVL235:
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4158              		.loc 1 2982 3 is_stmt 0 view .LVU1441
 4159 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 4160              	.LVL236:
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4161              		.loc 1 2984 1 view .LVU1442
 4162 0008 08BD     		pop	{r3, pc}
 4163              		.cfi_endproc
 4164              	.LFE97:
 4166              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 4167              		.align	1
 4168              		.weak	HAL_SPI_RxHalfCpltCallback
 4169              		.syntax unified
 4170              		.thumb
 4171              		.thumb_func
 4173              	HAL_SPI_RxHalfCpltCallback:
 4174              	.LVL237:
 4175              	.LFB88:
2607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4176              		.loc 1 2607 1 is_stmt 1 view -0
 4177              		.cfi_startproc
 4178              		@ args = 0, pretend = 0, frame = 0
 4179              		@ frame_needed = 0, uses_anonymous_args = 0
 4180              		@ link register save eliminated.
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 168


 4181              		.loc 1 2609 3 view .LVU1444
2614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4182              		.loc 1 2614 1 is_stmt 0 view .LVU1445
 4183 0000 7047     		bx	lr
 4184              		.cfi_endproc
 4185              	.LFE88:
 4187              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 4188              		.align	1
 4189              		.syntax unified
 4190              		.thumb
 4191              		.thumb_func
 4193              	SPI_DMAHalfReceiveCplt:
 4194              	.LVL238:
 4195              	.LFB98:
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4196              		.loc 1 2993 1 is_stmt 1 view -0
 4197              		.cfi_startproc
 4198              		@ args = 0, pretend = 0, frame = 0
 4199              		@ frame_needed = 0, uses_anonymous_args = 0
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4200              		.loc 1 2993 1 is_stmt 0 view .LVU1447
 4201 0000 08B5     		push	{r3, lr}
 4202              	.LCFI47:
 4203              		.cfi_def_cfa_offset 8
 4204              		.cfi_offset 3, -8
 4205              		.cfi_offset 14, -4
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4206              		.loc 1 2994 3 is_stmt 1 view .LVU1448
 4207              	.LVL239:
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4208              		.loc 1 3000 3 view .LVU1449
 4209 0002 406A     		ldr	r0, [r0, #36]
 4210              	.LVL240:
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4211              		.loc 1 3000 3 is_stmt 0 view .LVU1450
 4212 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 4213              	.LVL241:
3002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4214              		.loc 1 3002 1 view .LVU1451
 4215 0008 08BD     		pop	{r3, pc}
 4216              		.cfi_endproc
 4217              	.LFE98:
 4219              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 4220              		.align	1
 4221              		.weak	HAL_SPI_TxRxHalfCpltCallback
 4222              		.syntax unified
 4223              		.thumb
 4224              		.thumb_func
 4226              	HAL_SPI_TxRxHalfCpltCallback:
 4227              	.LVL242:
 4228              	.LFB89:
2623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4229              		.loc 1 2623 1 is_stmt 1 view -0
 4230              		.cfi_startproc
 4231              		@ args = 0, pretend = 0, frame = 0
 4232              		@ frame_needed = 0, uses_anonymous_args = 0
 4233              		@ link register save eliminated.
ARM GAS  /tmp/ccA9MgmD.s 			page 169


2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4234              		.loc 1 2625 3 view .LVU1453
2630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4235              		.loc 1 2630 1 is_stmt 0 view .LVU1454
 4236 0000 7047     		bx	lr
 4237              		.cfi_endproc
 4238              	.LFE89:
 4240              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 4241              		.align	1
 4242              		.syntax unified
 4243              		.thumb
 4244              		.thumb_func
 4246              	SPI_DMAHalfTransmitReceiveCplt:
 4247              	.LVL243:
 4248              	.LFB99:
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4249              		.loc 1 3011 1 is_stmt 1 view -0
 4250              		.cfi_startproc
 4251              		@ args = 0, pretend = 0, frame = 0
 4252              		@ frame_needed = 0, uses_anonymous_args = 0
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 4253              		.loc 1 3011 1 is_stmt 0 view .LVU1456
 4254 0000 08B5     		push	{r3, lr}
 4255              	.LCFI48:
 4256              		.cfi_def_cfa_offset 8
 4257              		.cfi_offset 3, -8
 4258              		.cfi_offset 14, -4
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4259              		.loc 1 3012 3 is_stmt 1 view .LVU1457
 4260              	.LVL244:
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4261              		.loc 1 3018 3 view .LVU1458
 4262 0002 406A     		ldr	r0, [r0, #36]
 4263              	.LVL245:
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4264              		.loc 1 3018 3 is_stmt 0 view .LVU1459
 4265 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 4266              	.LVL246:
3020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4267              		.loc 1 3020 1 view .LVU1460
 4268 0008 08BD     		pop	{r3, pc}
 4269              		.cfi_endproc
 4270              	.LFE99:
 4272              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 4273              		.align	1
 4274              		.weak	HAL_SPI_ErrorCallback
 4275              		.syntax unified
 4276              		.thumb
 4277              		.thumb_func
 4279              	HAL_SPI_ErrorCallback:
 4280              	.LVL247:
 4281              	.LFB90:
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4282              		.loc 1 2639 1 is_stmt 1 view -0
 4283              		.cfi_startproc
 4284              		@ args = 0, pretend = 0, frame = 0
 4285              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccA9MgmD.s 			page 170


 4286              		@ link register save eliminated.
2641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4287              		.loc 1 2641 3 view .LVU1462
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4288              		.loc 1 2649 1 is_stmt 0 view .LVU1463
 4289 0000 7047     		bx	lr
 4290              		.cfi_endproc
 4291              	.LFE90:
 4293              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 4294              		.align	1
 4295              		.syntax unified
 4296              		.thumb
 4297              		.thumb_func
 4299              	SPI_CloseTx_ISR:
 4300              	.LVL248:
 4301              	.LFB117:
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4302              		.loc 1 3877 1 is_stmt 1 view -0
 4303              		.cfi_startproc
 4304              		@ args = 0, pretend = 0, frame = 8
 4305              		@ frame_needed = 0, uses_anonymous_args = 0
3877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4306              		.loc 1 3877 1 is_stmt 0 view .LVU1465
 4307 0000 10B5     		push	{r4, lr}
 4308              	.LCFI49:
 4309              		.cfi_def_cfa_offset 8
 4310              		.cfi_offset 4, -8
 4311              		.cfi_offset 14, -4
 4312 0002 82B0     		sub	sp, sp, #8
 4313              	.LCFI50:
 4314              		.cfi_def_cfa_offset 16
 4315 0004 0446     		mov	r4, r0
3878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4316              		.loc 1 3878 3 is_stmt 1 view .LVU1466
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4317              		.loc 1 3879 3 view .LVU1467
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4318              		.loc 1 3879 70 is_stmt 0 view .LVU1468
 4319 0006 204B     		ldr	r3, .L307
 4320 0008 1B68     		ldr	r3, [r3]
 4321 000a 204A     		ldr	r2, .L307+4
 4322 000c A2FB0323 		umull	r2, r3, r2, r3
 4323 0010 5B0A     		lsrs	r3, r3, #9
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4324              		.loc 1 3879 45 view .LVU1469
 4325 0012 6422     		movs	r2, #100
 4326 0014 02FB03F3 		mul	r3, r2, r3
3879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4327              		.loc 1 3879 17 view .LVU1470
 4328 0018 0193     		str	r3, [sp, #4]
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4329              		.loc 1 3882 3 is_stmt 1 view .LVU1471
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4330              		.loc 1 3882 15 is_stmt 0 view .LVU1472
 4331 001a FFF7FEFF 		bl	HAL_GetTick
 4332              	.LVL249:
3882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 171


 4333              		.loc 1 3882 15 view .LVU1473
 4334 001e 0246     		mov	r2, r0
 4335              	.LVL250:
 4336              	.L300:
3885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4337              		.loc 1 3885 3 is_stmt 1 view .LVU1474
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4338              		.loc 1 3887 5 view .LVU1475
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4339              		.loc 1 3887 15 is_stmt 0 view .LVU1476
 4340 0020 019B     		ldr	r3, [sp, #4]
3887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4341              		.loc 1 3887 8 view .LVU1477
 4342 0022 43B1     		cbz	r3, .L306
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4343              		.loc 1 3892 5 is_stmt 1 view .LVU1478
3892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4344              		.loc 1 3892 10 is_stmt 0 view .LVU1479
 4345 0024 019B     		ldr	r3, [sp, #4]
 4346 0026 013B     		subs	r3, r3, #1
 4347 0028 0193     		str	r3, [sp, #4]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4348              		.loc 1 3893 48 is_stmt 1 view .LVU1480
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4349              		.loc 1 3893 17 is_stmt 0 view .LVU1481
 4350 002a 2368     		ldr	r3, [r4]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4351              		.loc 1 3893 27 view .LVU1482
 4352 002c 9B68     		ldr	r3, [r3, #8]
3893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4353              		.loc 1 3893 48 view .LVU1483
 4354 002e 13F0020F 		tst	r3, #2
 4355 0032 F5D0     		beq	.L300
 4356 0034 03E0     		b	.L299
 4357              	.L306:
3889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 4358              		.loc 1 3889 7 is_stmt 1 view .LVU1484
 4359 0036 636D     		ldr	r3, [r4, #84]
 4360 0038 43F02003 		orr	r3, r3, #32
 4361 003c 6365     		str	r3, [r4, #84]
3890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 4362              		.loc 1 3890 7 view .LVU1485
 4363              	.L299:
3896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4364              		.loc 1 3896 3 view .LVU1486
 4365 003e 2168     		ldr	r1, [r4]
 4366 0040 4B68     		ldr	r3, [r1, #4]
 4367 0042 23F0A003 		bic	r3, r3, #160
 4368 0046 4B60     		str	r3, [r1, #4]
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4369              		.loc 1 3899 3 view .LVU1487
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4370              		.loc 1 3899 7 is_stmt 0 view .LVU1488
 4371 0048 6421     		movs	r1, #100
 4372 004a 2046     		mov	r0, r4
 4373              	.LVL251:
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 172


 4374              		.loc 1 3899 7 view .LVU1489
 4375 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4376              	.LVL252:
3899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4377              		.loc 1 3899 6 discriminator 1 view .LVU1490
 4378 0050 18B1     		cbz	r0, .L301
3901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4379              		.loc 1 3901 5 is_stmt 1 view .LVU1491
 4380 0052 636D     		ldr	r3, [r4, #84]
 4381 0054 43F02003 		orr	r3, r3, #32
 4382 0058 6365     		str	r3, [r4, #84]
 4383              	.L301:
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4384              		.loc 1 3905 3 view .LVU1492
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4385              		.loc 1 3905 17 is_stmt 0 view .LVU1493
 4386 005a A368     		ldr	r3, [r4, #8]
3905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4387              		.loc 1 3905 6 view .LVU1494
 4388 005c 33B9     		cbnz	r3, .L302
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4389              		.loc 1 3907 5 is_stmt 1 view .LVU1495
 4390              	.LBB5:
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4391              		.loc 1 3907 5 view .LVU1496
 4392 005e 0093     		str	r3, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4393              		.loc 1 3907 5 view .LVU1497
 4394 0060 2368     		ldr	r3, [r4]
 4395 0062 DA68     		ldr	r2, [r3, #12]
 4396 0064 0092     		str	r2, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4397              		.loc 1 3907 5 view .LVU1498
 4398 0066 9B68     		ldr	r3, [r3, #8]
 4399 0068 0093     		str	r3, [sp]
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4400              		.loc 1 3907 5 view .LVU1499
 4401 006a 009B     		ldr	r3, [sp]
 4402              	.L302:
 4403              	.LBE5:
3907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4404              		.loc 1 3907 5 discriminator 1 view .LVU1500
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4405              		.loc 1 3910 3 view .LVU1501
3910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 4406              		.loc 1 3910 15 is_stmt 0 view .LVU1502
 4407 006c 0123     		movs	r3, #1
 4408 006e 84F85130 		strb	r3, [r4, #81]
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4409              		.loc 1 3911 3 is_stmt 1 view .LVU1503
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4410              		.loc 1 3911 11 is_stmt 0 view .LVU1504
 4411 0072 636D     		ldr	r3, [r4, #84]
3911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4412              		.loc 1 3911 6 view .LVU1505
 4413 0074 23B1     		cbz	r3, .L303
3917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
ARM GAS  /tmp/ccA9MgmD.s 			page 173


 4414              		.loc 1 3917 5 is_stmt 1 view .LVU1506
 4415 0076 2046     		mov	r0, r4
 4416 0078 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4417              	.LVL253:
 4418              	.L297:
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4419              		.loc 1 3929 1 is_stmt 0 view .LVU1507
 4420 007c 02B0     		add	sp, sp, #8
 4421              	.LCFI51:
 4422              		.cfi_remember_state
 4423              		.cfi_def_cfa_offset 8
 4424              		@ sp needed
 4425 007e 10BD     		pop	{r4, pc}
 4426              	.LVL254:
 4427              	.L303:
 4428              	.LCFI52:
 4429              		.cfi_restore_state
3926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4430              		.loc 1 3926 5 is_stmt 1 view .LVU1508
 4431 0080 2046     		mov	r0, r4
 4432 0082 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 4433              	.LVL255:
3929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4434              		.loc 1 3929 1 is_stmt 0 view .LVU1509
 4435 0086 F9E7     		b	.L297
 4436              	.L308:
 4437              		.align	2
 4438              	.L307:
 4439 0088 00000000 		.word	SystemCoreClock
 4440 008c F1197605 		.word	91625969
 4441              		.cfi_endproc
 4442              	.LFE117:
 4444              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 4445              		.align	1
 4446              		.syntax unified
 4447              		.thumb
 4448              		.thumb_func
 4450              	SPI_TxISR_8BIT:
 4451              	.LVL256:
 4452              	.LFB110:
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4453              		.loc 1 3514 1 is_stmt 1 view -0
 4454              		.cfi_startproc
 4455              		@ args = 0, pretend = 0, frame = 0
 4456              		@ frame_needed = 0, uses_anonymous_args = 0
3514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4457              		.loc 1 3514 1 is_stmt 0 view .LVU1511
 4458 0000 08B5     		push	{r3, lr}
 4459              	.LCFI53:
 4460              		.cfi_def_cfa_offset 8
 4461              		.cfi_offset 3, -8
 4462              		.cfi_offset 14, -4
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4463              		.loc 1 3515 3 is_stmt 1 view .LVU1512
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4464              		.loc 1 3515 65 is_stmt 0 view .LVU1513
 4465 0002 026B     		ldr	r2, [r0, #48]
ARM GAS  /tmp/ccA9MgmD.s 			page 174


3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4466              		.loc 1 3515 25 view .LVU1514
 4467 0004 0368     		ldr	r3, [r0]
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4468              		.loc 1 3515 42 view .LVU1515
 4469 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4470              		.loc 1 3515 40 view .LVU1516
 4471 0008 1A73     		strb	r2, [r3, #12]
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4472              		.loc 1 3516 3 is_stmt 1 view .LVU1517
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4473              		.loc 1 3516 7 is_stmt 0 view .LVU1518
 4474 000a 036B     		ldr	r3, [r0, #48]
3516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4475              		.loc 1 3516 19 view .LVU1519
 4476 000c 0133     		adds	r3, r3, #1
 4477 000e 0363     		str	r3, [r0, #48]
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4478              		.loc 1 3517 3 is_stmt 1 view .LVU1520
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4479              		.loc 1 3517 7 is_stmt 0 view .LVU1521
 4480 0010 C38E     		ldrh	r3, [r0, #54]
 4481 0012 9BB2     		uxth	r3, r3
3517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4482              		.loc 1 3517 20 view .LVU1522
 4483 0014 013B     		subs	r3, r3, #1
 4484 0016 9BB2     		uxth	r3, r3
 4485 0018 C386     		strh	r3, [r0, #54]	@ movhi
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4486              		.loc 1 3519 3 is_stmt 1 view .LVU1523
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4487              		.loc 1 3519 11 is_stmt 0 view .LVU1524
 4488 001a C38E     		ldrh	r3, [r0, #54]
 4489 001c 9BB2     		uxth	r3, r3
3519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4490              		.loc 1 3519 6 view .LVU1525
 4491 001e 03B1     		cbz	r3, .L312
 4492              	.LVL257:
 4493              	.L309:
3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4494              		.loc 1 3530 1 view .LVU1526
 4495 0020 08BD     		pop	{r3, pc}
 4496              	.LVL258:
 4497              	.L312:
3528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4498              		.loc 1 3528 5 is_stmt 1 view .LVU1527
 4499 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 4500              	.LVL259:
3530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4501              		.loc 1 3530 1 is_stmt 0 view .LVU1528
 4502 0026 FBE7     		b	.L309
 4503              		.cfi_endproc
 4504              	.LFE110:
 4506              		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 4507              		.align	1
 4508              		.syntax unified
ARM GAS  /tmp/ccA9MgmD.s 			page 175


 4509              		.thumb
 4510              		.thumb_func
 4512              	SPI_TxISR_16BIT:
 4513              	.LVL260:
 4514              	.LFB111:
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 4515              		.loc 1 3539 1 is_stmt 1 view -0
 4516              		.cfi_startproc
 4517              		@ args = 0, pretend = 0, frame = 0
 4518              		@ frame_needed = 0, uses_anonymous_args = 0
3539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 4519              		.loc 1 3539 1 is_stmt 0 view .LVU1530
 4520 0000 08B5     		push	{r3, lr}
 4521              	.LCFI54:
 4522              		.cfi_def_cfa_offset 8
 4523              		.cfi_offset 3, -8
 4524              		.cfi_offset 14, -4
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4525              		.loc 1 3541 3 is_stmt 1 view .LVU1531
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4526              		.loc 1 3541 48 is_stmt 0 view .LVU1532
 4527 0002 026B     		ldr	r2, [r0, #48]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4528              		.loc 1 3541 7 view .LVU1533
 4529 0004 0368     		ldr	r3, [r0]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4530              		.loc 1 3541 24 view .LVU1534
 4531 0006 1288     		ldrh	r2, [r2]
3541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4532              		.loc 1 3541 22 view .LVU1535
 4533 0008 DA60     		str	r2, [r3, #12]
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4534              		.loc 1 3542 3 is_stmt 1 view .LVU1536
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4535              		.loc 1 3542 7 is_stmt 0 view .LVU1537
 4536 000a 036B     		ldr	r3, [r0, #48]
3542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4537              		.loc 1 3542 20 view .LVU1538
 4538 000c 0233     		adds	r3, r3, #2
 4539 000e 0363     		str	r3, [r0, #48]
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4540              		.loc 1 3543 3 is_stmt 1 view .LVU1539
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4541              		.loc 1 3543 7 is_stmt 0 view .LVU1540
 4542 0010 C38E     		ldrh	r3, [r0, #54]
 4543 0012 9BB2     		uxth	r3, r3
3543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4544              		.loc 1 3543 20 view .LVU1541
 4545 0014 013B     		subs	r3, r3, #1
 4546 0016 9BB2     		uxth	r3, r3
 4547 0018 C386     		strh	r3, [r0, #54]	@ movhi
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4548              		.loc 1 3545 3 is_stmt 1 view .LVU1542
3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4549              		.loc 1 3545 11 is_stmt 0 view .LVU1543
 4550 001a C38E     		ldrh	r3, [r0, #54]
 4551 001c 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccA9MgmD.s 			page 176


3545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4552              		.loc 1 3545 6 view .LVU1544
 4553 001e 03B1     		cbz	r3, .L316
 4554              	.LVL261:
 4555              	.L313:
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4556              		.loc 1 3556 1 view .LVU1545
 4557 0020 08BD     		pop	{r3, pc}
 4558              	.LVL262:
 4559              	.L316:
3554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4560              		.loc 1 3554 5 is_stmt 1 view .LVU1546
 4561 0022 FFF7FEFF 		bl	SPI_CloseTx_ISR
 4562              	.LVL263:
3556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4563              		.loc 1 3556 1 is_stmt 0 view .LVU1547
 4564 0026 FBE7     		b	.L313
 4565              		.cfi_endproc
 4566              	.LFE111:
 4568              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 4569              		.align	1
 4570              		.syntax unified
 4571              		.thumb
 4572              		.thumb_func
 4574              	SPI_CloseRx_ISR:
 4575              	.LVL264:
 4576              	.LFB116:
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 4577              		.loc 1 3803 1 is_stmt 1 view -0
 4578              		.cfi_startproc
 4579              		@ args = 0, pretend = 0, frame = 8
 4580              		@ frame_needed = 0, uses_anonymous_args = 0
3803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 4581              		.loc 1 3803 1 is_stmt 0 view .LVU1549
 4582 0000 10B5     		push	{r4, lr}
 4583              	.LCFI55:
 4584              		.cfi_def_cfa_offset 8
 4585              		.cfi_offset 4, -8
 4586              		.cfi_offset 14, -4
 4587 0002 82B0     		sub	sp, sp, #8
 4588              	.LCFI56:
 4589              		.cfi_def_cfa_offset 16
 4590 0004 0446     		mov	r4, r0
3805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4591              		.loc 1 3805 3 is_stmt 1 view .LVU1550
 4592 0006 0268     		ldr	r2, [r0]
 4593 0008 5368     		ldr	r3, [r2, #4]
 4594 000a 23F06003 		bic	r3, r3, #96
 4595 000e 5360     		str	r3, [r2, #4]
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4596              		.loc 1 3808 3 view .LVU1551
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4597              		.loc 1 3808 7 is_stmt 0 view .LVU1552
 4598 0010 FFF7FEFF 		bl	HAL_GetTick
 4599              	.LVL265:
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4600              		.loc 1 3808 7 view .LVU1553
ARM GAS  /tmp/ccA9MgmD.s 			page 177


 4601 0014 0246     		mov	r2, r0
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4602              		.loc 1 3808 7 discriminator 1 view .LVU1554
 4603 0016 6421     		movs	r1, #100
 4604 0018 2046     		mov	r0, r4
 4605 001a FFF7FEFF 		bl	SPI_EndRxTransaction
 4606              	.LVL266:
3808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4607              		.loc 1 3808 6 discriminator 2 view .LVU1555
 4608 001e 18B1     		cbz	r0, .L318
3810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4609              		.loc 1 3810 5 is_stmt 1 view .LVU1556
 4610 0020 636D     		ldr	r3, [r4, #84]
 4611 0022 43F02003 		orr	r3, r3, #32
 4612 0026 6365     		str	r3, [r4, #84]
 4613              	.L318:
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4614              		.loc 1 3814 3 view .LVU1557
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4615              		.loc 1 3814 17 is_stmt 0 view .LVU1558
 4616 0028 A368     		ldr	r3, [r4, #8]
3814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4617              		.loc 1 3814 6 view .LVU1559
 4618 002a 33B9     		cbnz	r3, .L319
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4619              		.loc 1 3816 5 is_stmt 1 view .LVU1560
 4620              	.LBB6:
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4621              		.loc 1 3816 5 view .LVU1561
 4622 002c 0193     		str	r3, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4623              		.loc 1 3816 5 view .LVU1562
 4624 002e 2368     		ldr	r3, [r4]
 4625 0030 DA68     		ldr	r2, [r3, #12]
 4626 0032 0192     		str	r2, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4627              		.loc 1 3816 5 view .LVU1563
 4628 0034 9B68     		ldr	r3, [r3, #8]
 4629 0036 0193     		str	r3, [sp, #4]
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4630              		.loc 1 3816 5 view .LVU1564
 4631 0038 019B     		ldr	r3, [sp, #4]
 4632              	.L319:
 4633              	.LBE6:
3816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4634              		.loc 1 3816 5 discriminator 1 view .LVU1565
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4635              		.loc 1 3818 3 view .LVU1566
3818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4636              		.loc 1 3818 15 is_stmt 0 view .LVU1567
 4637 003a 0123     		movs	r3, #1
 4638 003c 84F85130 		strb	r3, [r4, #81]
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4639              		.loc 1 3847 5 is_stmt 1 view .LVU1568
3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4640              		.loc 1 3847 13 is_stmt 0 view .LVU1569
 4641 0040 636D     		ldr	r3, [r4, #84]
ARM GAS  /tmp/ccA9MgmD.s 			page 178


3847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4642              		.loc 1 3847 8 view .LVU1570
 4643 0042 23B9     		cbnz	r3, .L320
3853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4644              		.loc 1 3853 7 is_stmt 1 view .LVU1571
 4645 0044 2046     		mov	r0, r4
 4646 0046 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4647              	.LVL267:
 4648              	.L317:
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4649              		.loc 1 3868 1 is_stmt 0 view .LVU1572
 4650 004a 02B0     		add	sp, sp, #8
 4651              	.LCFI57:
 4652              		.cfi_remember_state
 4653              		.cfi_def_cfa_offset 8
 4654              		@ sp needed
 4655 004c 10BD     		pop	{r4, pc}
 4656              	.LVL268:
 4657              	.L320:
 4658              	.LCFI58:
 4659              		.cfi_restore_state
3862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4660              		.loc 1 3862 7 is_stmt 1 view .LVU1573
 4661 004e 2046     		mov	r0, r4
 4662 0050 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4663              	.LVL269:
3868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4664              		.loc 1 3868 1 is_stmt 0 view .LVU1574
 4665 0054 F9E7     		b	.L317
 4666              		.cfi_endproc
 4667              	.LFE116:
 4669              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 4670              		.align	1
 4671              		.syntax unified
 4672              		.thumb
 4673              		.thumb_func
 4675              	SPI_RxISR_8BIT:
 4676              	.LVL270:
 4677              	.LFB108:
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 4678              		.loc 1 3411 1 is_stmt 1 view -0
 4679              		.cfi_startproc
 4680              		@ args = 0, pretend = 0, frame = 0
 4681              		@ frame_needed = 0, uses_anonymous_args = 0
3411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 4682              		.loc 1 3411 1 is_stmt 0 view .LVU1576
 4683 0000 08B5     		push	{r3, lr}
 4684              	.LCFI59:
 4685              		.cfi_def_cfa_offset 8
 4686              		.cfi_offset 3, -8
 4687              		.cfi_offset 14, -4
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4688              		.loc 1 3412 3 is_stmt 1 view .LVU1577
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4689              		.loc 1 3412 46 is_stmt 0 view .LVU1578
 4690 0002 0268     		ldr	r2, [r0]
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
ARM GAS  /tmp/ccA9MgmD.s 			page 179


 4691              		.loc 1 3412 8 view .LVU1579
 4692 0004 836B     		ldr	r3, [r0, #56]
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4693              		.loc 1 3412 24 view .LVU1580
 4694 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4695              		.loc 1 3412 21 view .LVU1581
 4696 0008 1A70     		strb	r2, [r3]
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4697              		.loc 1 3413 3 is_stmt 1 view .LVU1582
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4698              		.loc 1 3413 7 is_stmt 0 view .LVU1583
 4699 000a 836B     		ldr	r3, [r0, #56]
3413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4700              		.loc 1 3413 19 view .LVU1584
 4701 000c 0133     		adds	r3, r3, #1
 4702 000e 8363     		str	r3, [r0, #56]
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4703              		.loc 1 3414 3 is_stmt 1 view .LVU1585
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4704              		.loc 1 3414 7 is_stmt 0 view .LVU1586
 4705 0010 C38F     		ldrh	r3, [r0, #62]
 4706 0012 9BB2     		uxth	r3, r3
3414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4707              		.loc 1 3414 20 view .LVU1587
 4708 0014 013B     		subs	r3, r3, #1
 4709 0016 9BB2     		uxth	r3, r3
 4710 0018 C387     		strh	r3, [r0, #62]	@ movhi
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4711              		.loc 1 3431 3 is_stmt 1 view .LVU1588
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4712              		.loc 1 3431 11 is_stmt 0 view .LVU1589
 4713 001a C38F     		ldrh	r3, [r0, #62]
 4714 001c 9BB2     		uxth	r3, r3
3431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4715              		.loc 1 3431 6 view .LVU1590
 4716 001e 03B1     		cbz	r3, .L326
 4717              	.LVL271:
 4718              	.L323:
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4719              		.loc 1 3442 1 view .LVU1591
 4720 0020 08BD     		pop	{r3, pc}
 4721              	.LVL272:
 4722              	.L326:
3440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4723              		.loc 1 3440 5 is_stmt 1 view .LVU1592
 4724 0022 FFF7FEFF 		bl	SPI_CloseRx_ISR
 4725              	.LVL273:
3442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4726              		.loc 1 3442 1 is_stmt 0 view .LVU1593
 4727 0026 FBE7     		b	.L323
 4728              		.cfi_endproc
 4729              	.LFE108:
 4731              		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 4732              		.align	1
 4733              		.syntax unified
 4734              		.thumb
ARM GAS  /tmp/ccA9MgmD.s 			page 180


 4735              		.thumb_func
 4737              	SPI_RxISR_16BIT:
 4738              	.LVL274:
 4739              	.LFB109:
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 4740              		.loc 1 3474 1 is_stmt 1 view -0
 4741              		.cfi_startproc
 4742              		@ args = 0, pretend = 0, frame = 0
 4743              		@ frame_needed = 0, uses_anonymous_args = 0
3474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 4744              		.loc 1 3474 1 is_stmt 0 view .LVU1595
 4745 0000 08B5     		push	{r3, lr}
 4746              	.LCFI60:
 4747              		.cfi_def_cfa_offset 8
 4748              		.cfi_offset 3, -8
 4749              		.cfi_offset 14, -4
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4750              		.loc 1 3475 3 is_stmt 1 view .LVU1596
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4751              		.loc 1 3475 52 is_stmt 0 view .LVU1597
 4752 0002 0368     		ldr	r3, [r0]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4753              		.loc 1 3475 62 view .LVU1598
 4754 0004 DA68     		ldr	r2, [r3, #12]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4755              		.loc 1 3475 21 view .LVU1599
 4756 0006 836B     		ldr	r3, [r0, #56]
3475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4757              		.loc 1 3475 35 view .LVU1600
 4758 0008 1A80     		strh	r2, [r3]	@ movhi
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4759              		.loc 1 3476 3 is_stmt 1 view .LVU1601
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4760              		.loc 1 3476 7 is_stmt 0 view .LVU1602
 4761 000a 836B     		ldr	r3, [r0, #56]
3476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 4762              		.loc 1 3476 20 view .LVU1603
 4763 000c 0233     		adds	r3, r3, #2
 4764 000e 8363     		str	r3, [r0, #56]
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4765              		.loc 1 3477 3 is_stmt 1 view .LVU1604
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4766              		.loc 1 3477 7 is_stmt 0 view .LVU1605
 4767 0010 C38F     		ldrh	r3, [r0, #62]
 4768 0012 9BB2     		uxth	r3, r3
3477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4769              		.loc 1 3477 20 view .LVU1606
 4770 0014 013B     		subs	r3, r3, #1
 4771 0016 9BB2     		uxth	r3, r3
 4772 0018 C387     		strh	r3, [r0, #62]	@ movhi
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4773              		.loc 1 3494 3 is_stmt 1 view .LVU1607
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4774              		.loc 1 3494 11 is_stmt 0 view .LVU1608
 4775 001a C38F     		ldrh	r3, [r0, #62]
 4776 001c 9BB2     		uxth	r3, r3
3494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 181


 4777              		.loc 1 3494 6 view .LVU1609
 4778 001e 03B1     		cbz	r3, .L330
 4779              	.LVL275:
 4780              	.L327:
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4781              		.loc 1 3505 1 view .LVU1610
 4782 0020 08BD     		pop	{r3, pc}
 4783              	.LVL276:
 4784              	.L330:
3503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4785              		.loc 1 3503 5 is_stmt 1 view .LVU1611
 4786 0022 FFF7FEFF 		bl	SPI_CloseRx_ISR
 4787              	.LVL277:
3505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4788              		.loc 1 3505 1 is_stmt 0 view .LVU1612
 4789 0026 FBE7     		b	.L327
 4790              		.cfi_endproc
 4791              	.LFE109:
 4793              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 4794              		.align	1
 4795              		.syntax unified
 4796              		.thumb
 4797              		.thumb_func
 4799              	SPI_CloseRxTx_ISR:
 4800              	.LVL278:
 4801              	.LFB115:
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4802              		.loc 1 3697 1 is_stmt 1 view -0
 4803              		.cfi_startproc
 4804              		@ args = 0, pretend = 0, frame = 8
 4805              		@ frame_needed = 0, uses_anonymous_args = 0
3697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 4806              		.loc 1 3697 1 is_stmt 0 view .LVU1614
 4807 0000 10B5     		push	{r4, lr}
 4808              	.LCFI61:
 4809              		.cfi_def_cfa_offset 8
 4810              		.cfi_offset 4, -8
 4811              		.cfi_offset 14, -4
 4812 0002 82B0     		sub	sp, sp, #8
 4813              	.LCFI62:
 4814              		.cfi_def_cfa_offset 16
 4815 0004 0446     		mov	r4, r0
3698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4816              		.loc 1 3698 3 is_stmt 1 view .LVU1615
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4817              		.loc 1 3699 3 view .LVU1616
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4818              		.loc 1 3699 70 is_stmt 0 view .LVU1617
 4819 0006 274B     		ldr	r3, .L343
 4820 0008 1B68     		ldr	r3, [r3]
 4821 000a 274A     		ldr	r2, .L343+4
 4822 000c A2FB0323 		umull	r2, r3, r2, r3
 4823 0010 5B0A     		lsrs	r3, r3, #9
3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4824              		.loc 1 3699 45 view .LVU1618
 4825 0012 6422     		movs	r2, #100
 4826 0014 02FB03F3 		mul	r3, r2, r3
ARM GAS  /tmp/ccA9MgmD.s 			page 182


3699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4827              		.loc 1 3699 17 view .LVU1619
 4828 0018 0193     		str	r3, [sp, #4]
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4829              		.loc 1 3702 3 is_stmt 1 view .LVU1620
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4830              		.loc 1 3702 15 is_stmt 0 view .LVU1621
 4831 001a FFF7FEFF 		bl	HAL_GetTick
 4832              	.LVL279:
3702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4833              		.loc 1 3702 15 view .LVU1622
 4834 001e 0246     		mov	r2, r0
 4835              	.LVL280:
3705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4836              		.loc 1 3705 3 is_stmt 1 view .LVU1623
 4837 0020 2168     		ldr	r1, [r4]
 4838 0022 4B68     		ldr	r3, [r1, #4]
 4839 0024 23F02003 		bic	r3, r3, #32
 4840 0028 4B60     		str	r3, [r1, #4]
 4841              	.L334:
3708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4842              		.loc 1 3708 3 view .LVU1624
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4843              		.loc 1 3710 5 view .LVU1625
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4844              		.loc 1 3710 15 is_stmt 0 view .LVU1626
 4845 002a 019B     		ldr	r3, [sp, #4]
3710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4846              		.loc 1 3710 8 view .LVU1627
 4847 002c 43B1     		cbz	r3, .L341
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4848              		.loc 1 3715 5 is_stmt 1 view .LVU1628
3715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 4849              		.loc 1 3715 10 is_stmt 0 view .LVU1629
 4850 002e 019B     		ldr	r3, [sp, #4]
 4851 0030 013B     		subs	r3, r3, #1
 4852 0032 0193     		str	r3, [sp, #4]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4853              		.loc 1 3716 48 is_stmt 1 view .LVU1630
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4854              		.loc 1 3716 17 is_stmt 0 view .LVU1631
 4855 0034 2368     		ldr	r3, [r4]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4856              		.loc 1 3716 27 view .LVU1632
 4857 0036 9B68     		ldr	r3, [r3, #8]
3716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4858              		.loc 1 3716 48 view .LVU1633
 4859 0038 13F0020F 		tst	r3, #2
 4860 003c F5D0     		beq	.L334
 4861 003e 03E0     		b	.L333
 4862              	.L341:
3712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 4863              		.loc 1 3712 7 is_stmt 1 view .LVU1634
 4864 0040 636D     		ldr	r3, [r4, #84]
 4865 0042 43F02003 		orr	r3, r3, #32
 4866 0046 6365     		str	r3, [r4, #84]
3713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
ARM GAS  /tmp/ccA9MgmD.s 			page 183


 4867              		.loc 1 3713 7 view .LVU1635
 4868              	.L333:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4869              		.loc 1 3719 3 view .LVU1636
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4870              		.loc 1 3719 7 is_stmt 0 view .LVU1637
 4871 0048 6421     		movs	r1, #100
 4872 004a 2046     		mov	r0, r4
 4873              	.LVL281:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4874              		.loc 1 3719 7 view .LVU1638
 4875 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4876              	.LVL282:
3719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4877              		.loc 1 3719 6 discriminator 1 view .LVU1639
 4878 0050 18B1     		cbz	r0, .L335
3721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4879              		.loc 1 3721 5 is_stmt 1 view .LVU1640
 4880 0052 636D     		ldr	r3, [r4, #84]
 4881 0054 43F02003 		orr	r3, r3, #32
 4882 0058 6365     		str	r3, [r4, #84]
 4883              	.L335:
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4884              		.loc 1 3725 3 view .LVU1641
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4885              		.loc 1 3725 17 is_stmt 0 view .LVU1642
 4886 005a A368     		ldr	r3, [r4, #8]
3725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 4887              		.loc 1 3725 6 view .LVU1643
 4888 005c 33B9     		cbnz	r3, .L336
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4889              		.loc 1 3727 5 is_stmt 1 view .LVU1644
 4890              	.LBB7:
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4891              		.loc 1 3727 5 view .LVU1645
 4892 005e 0093     		str	r3, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4893              		.loc 1 3727 5 view .LVU1646
 4894 0060 2368     		ldr	r3, [r4]
 4895 0062 DA68     		ldr	r2, [r3, #12]
 4896 0064 0092     		str	r2, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4897              		.loc 1 3727 5 view .LVU1647
 4898 0066 9B68     		ldr	r3, [r3, #8]
 4899 0068 0093     		str	r3, [sp]
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4900              		.loc 1 3727 5 view .LVU1648
 4901 006a 009B     		ldr	r3, [sp]
 4902              	.L336:
 4903              	.LBE7:
3727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 4904              		.loc 1 3727 5 discriminator 1 view .LVU1649
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4905              		.loc 1 3758 5 view .LVU1650
3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4906              		.loc 1 3758 13 is_stmt 0 view .LVU1651
 4907 006c 636D     		ldr	r3, [r4, #84]
ARM GAS  /tmp/ccA9MgmD.s 			page 184


3758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 4908              		.loc 1 3758 8 view .LVU1652
 4909 006e 93B9     		cbnz	r3, .L337
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4910              		.loc 1 3760 7 is_stmt 1 view .LVU1653
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4911              		.loc 1 3760 15 is_stmt 0 view .LVU1654
 4912 0070 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
3760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 4913              		.loc 1 3760 10 view .LVU1655
 4914 0074 042B     		cmp	r3, #4
 4915 0076 07D0     		beq	.L342
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
 4916              		.loc 1 3772 9 is_stmt 1 view .LVU1656
3772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user TxRx complete callback */
 4917              		.loc 1 3772 21 is_stmt 0 view .LVU1657
 4918 0078 0123     		movs	r3, #1
 4919 007a 84F85130 		strb	r3, [r4, #81]
3777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4920              		.loc 1 3777 9 is_stmt 1 view .LVU1658
 4921 007e 2046     		mov	r0, r4
 4922 0080 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 4923              	.LVL283:
 4924              	.L331:
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4925              		.loc 1 3794 1 is_stmt 0 view .LVU1659
 4926 0084 02B0     		add	sp, sp, #8
 4927              	.LCFI63:
 4928              		.cfi_remember_state
 4929              		.cfi_def_cfa_offset 8
 4930              		@ sp needed
 4931 0086 10BD     		pop	{r4, pc}
 4932              	.LVL284:
 4933              	.L342:
 4934              	.LCFI64:
 4935              		.cfi_restore_state
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
 4936              		.loc 1 3762 9 is_stmt 1 view .LVU1660
3762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         /* Call user Rx complete callback */
 4937              		.loc 1 3762 21 is_stmt 0 view .LVU1661
 4938 0088 0123     		movs	r3, #1
 4939 008a 84F85130 		strb	r3, [r4, #81]
3767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4940              		.loc 1 3767 9 is_stmt 1 view .LVU1662
 4941 008e 2046     		mov	r0, r4
 4942 0090 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4943              	.LVL285:
 4944 0094 F6E7     		b	.L331
 4945              	.L337:
3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
 4946              		.loc 1 3783 7 view .LVU1663
3783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Call user error callback */
 4947              		.loc 1 3783 19 is_stmt 0 view .LVU1664
 4948 0096 0123     		movs	r3, #1
 4949 0098 84F85130 		strb	r3, [r4, #81]
3788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4950              		.loc 1 3788 7 is_stmt 1 view .LVU1665
ARM GAS  /tmp/ccA9MgmD.s 			page 185


 4951 009c 2046     		mov	r0, r4
 4952 009e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4953              	.LVL286:
3794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4954              		.loc 1 3794 1 is_stmt 0 view .LVU1666
 4955 00a2 EFE7     		b	.L331
 4956              	.L344:
 4957              		.align	2
 4958              	.L343:
 4959 00a4 00000000 		.word	SystemCoreClock
 4960 00a8 F1197605 		.word	91625969
 4961              		.cfi_endproc
 4962              	.LFE115:
 4964              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 4965              		.align	1
 4966              		.syntax unified
 4967              		.thumb
 4968              		.thumb_func
 4970              	SPI_2linesTxISR_8BIT:
 4971              	.LVL287:
 4972              	.LFB105:
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4973              		.loc 1 3259 1 is_stmt 1 view -0
 4974              		.cfi_startproc
 4975              		@ args = 0, pretend = 0, frame = 0
 4976              		@ frame_needed = 0, uses_anonymous_args = 0
3259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 4977              		.loc 1 3259 1 is_stmt 0 view .LVU1668
 4978 0000 08B5     		push	{r3, lr}
 4979              	.LCFI65:
 4980              		.cfi_def_cfa_offset 8
 4981              		.cfi_offset 3, -8
 4982              		.cfi_offset 14, -4
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4983              		.loc 1 3260 3 is_stmt 1 view .LVU1669
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4984              		.loc 1 3260 65 is_stmt 0 view .LVU1670
 4985 0002 026B     		ldr	r2, [r0, #48]
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4986              		.loc 1 3260 25 view .LVU1671
 4987 0004 0368     		ldr	r3, [r0]
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4988              		.loc 1 3260 42 view .LVU1672
 4989 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4990              		.loc 1 3260 40 view .LVU1673
 4991 0008 1A73     		strb	r2, [r3, #12]
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4992              		.loc 1 3261 3 is_stmt 1 view .LVU1674
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4993              		.loc 1 3261 7 is_stmt 0 view .LVU1675
 4994 000a 036B     		ldr	r3, [r0, #48]
3261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 4995              		.loc 1 3261 19 view .LVU1676
 4996 000c 0133     		adds	r3, r3, #1
 4997 000e 0363     		str	r3, [r0, #48]
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 186


 4998              		.loc 1 3262 3 is_stmt 1 view .LVU1677
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 4999              		.loc 1 3262 7 is_stmt 0 view .LVU1678
 5000 0010 C38E     		ldrh	r3, [r0, #54]
 5001 0012 9BB2     		uxth	r3, r3
3262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5002              		.loc 1 3262 20 view .LVU1679
 5003 0014 013B     		subs	r3, r3, #1
 5004 0016 9BB2     		uxth	r3, r3
 5005 0018 C386     		strh	r3, [r0, #54]	@ movhi
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5006              		.loc 1 3265 3 is_stmt 1 view .LVU1680
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5007              		.loc 1 3265 11 is_stmt 0 view .LVU1681
 5008 001a C38E     		ldrh	r3, [r0, #54]
 5009 001c 9BB2     		uxth	r3, r3
3265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5010              		.loc 1 3265 6 view .LVU1682
 5011 001e 3BB9     		cbnz	r3, .L345
3279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5012              		.loc 1 3279 5 is_stmt 1 view .LVU1683
 5013 0020 0268     		ldr	r2, [r0]
 5014 0022 5368     		ldr	r3, [r2, #4]
 5015 0024 23F08003 		bic	r3, r3, #128
 5016 0028 5360     		str	r3, [r2, #4]
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5017              		.loc 1 3281 5 view .LVU1684
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5018              		.loc 1 3281 13 is_stmt 0 view .LVU1685
 5019 002a C38F     		ldrh	r3, [r0, #62]
 5020 002c 9BB2     		uxth	r3, r3
3281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5021              		.loc 1 3281 8 view .LVU1686
 5022 002e 03B1     		cbz	r3, .L348
 5023              	.LVL288:
 5024              	.L345:
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5025              		.loc 1 3286 1 view .LVU1687
 5026 0030 08BD     		pop	{r3, pc}
 5027              	.LVL289:
 5028              	.L348:
3283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5029              		.loc 1 3283 7 is_stmt 1 view .LVU1688
 5030 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5031              	.LVL290:
3286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5032              		.loc 1 3286 1 is_stmt 0 view .LVU1689
 5033 0036 FBE7     		b	.L345
 5034              		.cfi_endproc
 5035              	.LFE105:
 5037              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 5038              		.align	1
 5039              		.syntax unified
 5040              		.thumb
 5041              		.thumb_func
 5043              	SPI_2linesRxISR_8BIT:
 5044              	.LVL291:
ARM GAS  /tmp/ccA9MgmD.s 			page 187


 5045              	.LFB104:
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
 5046              		.loc 1 3196 1 is_stmt 1 view -0
 5047              		.cfi_startproc
 5048              		@ args = 0, pretend = 0, frame = 0
 5049              		@ frame_needed = 0, uses_anonymous_args = 0
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 8bit mode */
 5050              		.loc 1 3196 1 is_stmt 0 view .LVU1691
 5051 0000 08B5     		push	{r3, lr}
 5052              	.LCFI66:
 5053              		.cfi_def_cfa_offset 8
 5054              		.cfi_offset 3, -8
 5055              		.cfi_offset 14, -4
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5056              		.loc 1 3198 3 is_stmt 1 view .LVU1692
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5057              		.loc 1 3198 46 is_stmt 0 view .LVU1693
 5058 0002 0268     		ldr	r2, [r0]
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5059              		.loc 1 3198 8 view .LVU1694
 5060 0004 836B     		ldr	r3, [r0, #56]
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5061              		.loc 1 3198 23 view .LVU1695
 5062 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 5063              		.loc 1 3198 21 view .LVU1696
 5064 0008 1A70     		strb	r2, [r3]
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5065              		.loc 1 3199 3 is_stmt 1 view .LVU1697
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5066              		.loc 1 3199 7 is_stmt 0 view .LVU1698
 5067 000a 836B     		ldr	r3, [r0, #56]
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5068              		.loc 1 3199 19 view .LVU1699
 5069 000c 0133     		adds	r3, r3, #1
 5070 000e 8363     		str	r3, [r0, #56]
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5071              		.loc 1 3200 3 is_stmt 1 view .LVU1700
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5072              		.loc 1 3200 7 is_stmt 0 view .LVU1701
 5073 0010 C38F     		ldrh	r3, [r0, #62]
 5074 0012 9BB2     		uxth	r3, r3
3200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5075              		.loc 1 3200 20 view .LVU1702
 5076 0014 013B     		subs	r3, r3, #1
 5077 0016 9BB2     		uxth	r3, r3
 5078 0018 C387     		strh	r3, [r0, #62]	@ movhi
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5079              		.loc 1 3203 3 is_stmt 1 view .LVU1703
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5080              		.loc 1 3203 11 is_stmt 0 view .LVU1704
 5081 001a C38F     		ldrh	r3, [r0, #62]
 5082 001c 9BB2     		uxth	r3, r3
3203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5083              		.loc 1 3203 6 view .LVU1705
 5084 001e 3BB9     		cbnz	r3, .L349
3214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 188


 5085              		.loc 1 3214 5 is_stmt 1 view .LVU1706
 5086 0020 0268     		ldr	r2, [r0]
 5087 0022 5368     		ldr	r3, [r2, #4]
 5088 0024 23F06003 		bic	r3, r3, #96
 5089 0028 5360     		str	r3, [r2, #4]
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5090              		.loc 1 3216 5 view .LVU1707
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5091              		.loc 1 3216 13 is_stmt 0 view .LVU1708
 5092 002a C38E     		ldrh	r3, [r0, #54]
 5093 002c 9BB2     		uxth	r3, r3
3216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5094              		.loc 1 3216 8 view .LVU1709
 5095 002e 03B1     		cbz	r3, .L352
 5096              	.LVL292:
 5097              	.L349:
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5098              		.loc 1 3221 1 view .LVU1710
 5099 0030 08BD     		pop	{r3, pc}
 5100              	.LVL293:
 5101              	.L352:
3218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5102              		.loc 1 3218 7 is_stmt 1 view .LVU1711
 5103 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5104              	.LVL294:
3221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5105              		.loc 1 3221 1 is_stmt 0 view .LVU1712
 5106 0036 FBE7     		b	.L349
 5107              		.cfi_endproc
 5108              	.LFE104:
 5110              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 5111              		.align	1
 5112              		.syntax unified
 5113              		.thumb
 5114              		.thumb_func
 5116              	SPI_2linesTxISR_16BIT:
 5117              	.LVL295:
 5118              	.LFB107:
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5119              		.loc 1 3351 1 is_stmt 1 view -0
 5120              		.cfi_startproc
 5121              		@ args = 0, pretend = 0, frame = 0
 5122              		@ frame_needed = 0, uses_anonymous_args = 0
3351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 5123              		.loc 1 3351 1 is_stmt 0 view .LVU1714
 5124 0000 08B5     		push	{r3, lr}
 5125              	.LCFI67:
 5126              		.cfi_def_cfa_offset 8
 5127              		.cfi_offset 3, -8
 5128              		.cfi_offset 14, -4
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5129              		.loc 1 3353 3 is_stmt 1 view .LVU1715
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5130              		.loc 1 3353 48 is_stmt 0 view .LVU1716
 5131 0002 026B     		ldr	r2, [r0, #48]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5132              		.loc 1 3353 7 view .LVU1717
ARM GAS  /tmp/ccA9MgmD.s 			page 189


 5133 0004 0368     		ldr	r3, [r0]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5134              		.loc 1 3353 24 view .LVU1718
 5135 0006 1288     		ldrh	r2, [r2]
3353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 5136              		.loc 1 3353 22 view .LVU1719
 5137 0008 DA60     		str	r2, [r3, #12]
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5138              		.loc 1 3354 3 is_stmt 1 view .LVU1720
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5139              		.loc 1 3354 7 is_stmt 0 view .LVU1721
 5140 000a 036B     		ldr	r3, [r0, #48]
3354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount--;
 5141              		.loc 1 3354 20 view .LVU1722
 5142 000c 0233     		adds	r3, r3, #2
 5143 000e 0363     		str	r3, [r0, #48]
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5144              		.loc 1 3355 3 is_stmt 1 view .LVU1723
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5145              		.loc 1 3355 7 is_stmt 0 view .LVU1724
 5146 0010 C38E     		ldrh	r3, [r0, #54]
 5147 0012 9BB2     		uxth	r3, r3
3355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5148              		.loc 1 3355 20 view .LVU1725
 5149 0014 013B     		subs	r3, r3, #1
 5150 0016 9BB2     		uxth	r3, r3
 5151 0018 C386     		strh	r3, [r0, #54]	@ movhi
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5152              		.loc 1 3358 3 is_stmt 1 view .LVU1726
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5153              		.loc 1 3358 11 is_stmt 0 view .LVU1727
 5154 001a C38E     		ldrh	r3, [r0, #54]
 5155 001c 9BB2     		uxth	r3, r3
3358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5156              		.loc 1 3358 6 view .LVU1728
 5157 001e 3BB9     		cbnz	r3, .L353
3372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5158              		.loc 1 3372 5 is_stmt 1 view .LVU1729
 5159 0020 0268     		ldr	r2, [r0]
 5160 0022 5368     		ldr	r3, [r2, #4]
 5161 0024 23F08003 		bic	r3, r3, #128
 5162 0028 5360     		str	r3, [r2, #4]
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5163              		.loc 1 3374 5 view .LVU1730
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5164              		.loc 1 3374 13 is_stmt 0 view .LVU1731
 5165 002a C38F     		ldrh	r3, [r0, #62]
 5166 002c 9BB2     		uxth	r3, r3
3374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5167              		.loc 1 3374 8 view .LVU1732
 5168 002e 03B1     		cbz	r3, .L356
 5169              	.LVL296:
 5170              	.L353:
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5171              		.loc 1 3379 1 view .LVU1733
 5172 0030 08BD     		pop	{r3, pc}
 5173              	.LVL297:
ARM GAS  /tmp/ccA9MgmD.s 			page 190


 5174              	.L356:
3376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5175              		.loc 1 3376 7 is_stmt 1 view .LVU1734
 5176 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5177              	.LVL298:
3379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5178              		.loc 1 3379 1 is_stmt 0 view .LVU1735
 5179 0036 FBE7     		b	.L353
 5180              		.cfi_endproc
 5181              	.LFE107:
 5183              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 5184              		.align	1
 5185              		.syntax unified
 5186              		.thumb
 5187              		.thumb_func
 5189              	SPI_2linesRxISR_16BIT:
 5190              	.LVL299:
 5191              	.LFB106:
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 5192              		.loc 1 3295 1 is_stmt 1 view -0
 5193              		.cfi_startproc
 5194              		@ args = 0, pretend = 0, frame = 0
 5195              		@ frame_needed = 0, uses_anonymous_args = 0
3295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 5196              		.loc 1 3295 1 is_stmt 0 view .LVU1737
 5197 0000 08B5     		push	{r3, lr}
 5198              	.LCFI68:
 5199              		.cfi_def_cfa_offset 8
 5200              		.cfi_offset 3, -8
 5201              		.cfi_offset 14, -4
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5202              		.loc 1 3297 3 is_stmt 1 view .LVU1738
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5203              		.loc 1 3297 52 is_stmt 0 view .LVU1739
 5204 0002 0368     		ldr	r3, [r0]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5205              		.loc 1 3297 62 view .LVU1740
 5206 0004 DA68     		ldr	r2, [r3, #12]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5207              		.loc 1 3297 21 view .LVU1741
 5208 0006 836B     		ldr	r3, [r0, #56]
3297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 5209              		.loc 1 3297 35 view .LVU1742
 5210 0008 1A80     		strh	r2, [r3]	@ movhi
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5211              		.loc 1 3298 3 is_stmt 1 view .LVU1743
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5212              		.loc 1 3298 7 is_stmt 0 view .LVU1744
 5213 000a 836B     		ldr	r3, [r0, #56]
3298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount--;
 5214              		.loc 1 3298 20 view .LVU1745
 5215 000c 0233     		adds	r3, r3, #2
 5216 000e 8363     		str	r3, [r0, #56]
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5217              		.loc 1 3299 3 is_stmt 1 view .LVU1746
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5218              		.loc 1 3299 7 is_stmt 0 view .LVU1747
ARM GAS  /tmp/ccA9MgmD.s 			page 191


 5219 0010 C38F     		ldrh	r3, [r0, #62]
 5220 0012 9BB2     		uxth	r3, r3
3299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5221              		.loc 1 3299 20 view .LVU1748
 5222 0014 013B     		subs	r3, r3, #1
 5223 0016 9BB2     		uxth	r3, r3
 5224 0018 C387     		strh	r3, [r0, #62]	@ movhi
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5225              		.loc 1 3301 3 is_stmt 1 view .LVU1749
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5226              		.loc 1 3301 11 is_stmt 0 view .LVU1750
 5227 001a C38F     		ldrh	r3, [r0, #62]
 5228 001c 9BB2     		uxth	r3, r3
3301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5229              		.loc 1 3301 6 view .LVU1751
 5230 001e 3BB9     		cbnz	r3, .L357
3312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5231              		.loc 1 3312 5 is_stmt 1 view .LVU1752
 5232 0020 0268     		ldr	r2, [r0]
 5233 0022 5368     		ldr	r3, [r2, #4]
 5234 0024 23F04003 		bic	r3, r3, #64
 5235 0028 5360     		str	r3, [r2, #4]
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5236              		.loc 1 3314 5 view .LVU1753
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5237              		.loc 1 3314 13 is_stmt 0 view .LVU1754
 5238 002a C38E     		ldrh	r3, [r0, #54]
 5239 002c 9BB2     		uxth	r3, r3
3314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5240              		.loc 1 3314 8 view .LVU1755
 5241 002e 03B1     		cbz	r3, .L360
 5242              	.LVL300:
 5243              	.L357:
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5244              		.loc 1 3319 1 view .LVU1756
 5245 0030 08BD     		pop	{r3, pc}
 5246              	.LVL301:
 5247              	.L360:
3316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5248              		.loc 1 3316 7 is_stmt 1 view .LVU1757
 5249 0032 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 5250              	.LVL302:
3319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5251              		.loc 1 3319 1 is_stmt 0 view .LVU1758
 5252 0036 FBE7     		b	.L357
 5253              		.cfi_endproc
 5254              	.LFE106:
 5256              		.section	.text.SPI_DMAError,"ax",%progbits
 5257              		.align	1
 5258              		.syntax unified
 5259              		.thumb
 5260              		.thumb_func
 5262              	SPI_DMAError:
 5263              	.LVL303:
 5264              	.LFB100:
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5265              		.loc 1 3029 1 is_stmt 1 view -0
ARM GAS  /tmp/ccA9MgmD.s 			page 192


 5266              		.cfi_startproc
 5267              		@ args = 0, pretend = 0, frame = 0
 5268              		@ frame_needed = 0, uses_anonymous_args = 0
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5269              		.loc 1 3029 1 is_stmt 0 view .LVU1760
 5270 0000 08B5     		push	{r3, lr}
 5271              	.LCFI69:
 5272              		.cfi_def_cfa_offset 8
 5273              		.cfi_offset 3, -8
 5274              		.cfi_offset 14, -4
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5275              		.loc 1 3030 3 is_stmt 1 view .LVU1761
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5276              		.loc 1 3030 22 is_stmt 0 view .LVU1762
 5277 0002 406A     		ldr	r0, [r0, #36]
 5278              	.LVL304:
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5279              		.loc 1 3033 3 is_stmt 1 view .LVU1763
 5280 0004 0268     		ldr	r2, [r0]
 5281 0006 5368     		ldr	r3, [r2, #4]
 5282 0008 23F00303 		bic	r3, r3, #3
 5283 000c 5360     		str	r3, [r2, #4]
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5284              		.loc 1 3035 3 view .LVU1764
 5285 000e 436D     		ldr	r3, [r0, #84]
 5286 0010 43F01003 		orr	r3, r3, #16
 5287 0014 4365     		str	r3, [r0, #84]
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
 5288              		.loc 1 3036 3 view .LVU1765
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Call user error callback */
 5289              		.loc 1 3036 15 is_stmt 0 view .LVU1766
 5290 0016 0123     		movs	r3, #1
 5291 0018 80F85130 		strb	r3, [r0, #81]
3041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5292              		.loc 1 3041 3 is_stmt 1 view .LVU1767
 5293 001c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5294              	.LVL305:
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5295              		.loc 1 3043 1 is_stmt 0 view .LVU1768
 5296 0020 08BD     		pop	{r3, pc}
 5297              		.cfi_endproc
 5298              	.LFE100:
 5300              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 5301              		.align	1
 5302              		.syntax unified
 5303              		.thumb
 5304              		.thumb_func
 5306              	SPI_DMATransmitCplt:
 5307              	.LVL306:
 5308              	.LFB94:
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5309              		.loc 1 2729 1 is_stmt 1 view -0
 5310              		.cfi_startproc
 5311              		@ args = 0, pretend = 0, frame = 8
 5312              		@ frame_needed = 0, uses_anonymous_args = 0
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5313              		.loc 1 2729 1 is_stmt 0 view .LVU1770
ARM GAS  /tmp/ccA9MgmD.s 			page 193


 5314 0000 30B5     		push	{r4, r5, lr}
 5315              	.LCFI70:
 5316              		.cfi_def_cfa_offset 12
 5317              		.cfi_offset 4, -12
 5318              		.cfi_offset 5, -8
 5319              		.cfi_offset 14, -4
 5320 0002 83B0     		sub	sp, sp, #12
 5321              	.LCFI71:
 5322              		.cfi_def_cfa_offset 24
 5323 0004 0546     		mov	r5, r0
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5324              		.loc 1 2730 3 is_stmt 1 view .LVU1771
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5325              		.loc 1 2730 22 is_stmt 0 view .LVU1772
 5326 0006 446A     		ldr	r4, [r0, #36]
 5327              	.LVL307:
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5328              		.loc 1 2731 3 is_stmt 1 view .LVU1773
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5329              		.loc 1 2734 3 view .LVU1774
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5330              		.loc 1 2734 15 is_stmt 0 view .LVU1775
 5331 0008 FFF7FEFF 		bl	HAL_GetTick
 5332              	.LVL308:
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5333              		.loc 1 2737 3 is_stmt 1 view .LVU1776
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5334              		.loc 1 2737 12 is_stmt 0 view .LVU1777
 5335 000c 2B68     		ldr	r3, [r5]
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5336              		.loc 1 2737 22 view .LVU1778
 5337 000e 1B68     		ldr	r3, [r3]
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5338              		.loc 1 2737 6 view .LVU1779
 5339 0010 13F0200F 		tst	r3, #32
 5340 0014 23D1     		bne	.L364
 5341 0016 0246     		mov	r2, r0
2740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5342              		.loc 1 2740 5 is_stmt 1 view .LVU1780
 5343 0018 2168     		ldr	r1, [r4]
 5344 001a 4B68     		ldr	r3, [r1, #4]
 5345 001c 23F02003 		bic	r3, r3, #32
 5346 0020 4B60     		str	r3, [r1, #4]
2743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5347              		.loc 1 2743 5 view .LVU1781
 5348 0022 2168     		ldr	r1, [r4]
 5349 0024 4B68     		ldr	r3, [r1, #4]
 5350 0026 23F00203 		bic	r3, r3, #2
 5351 002a 4B60     		str	r3, [r1, #4]
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5352              		.loc 1 2746 5 view .LVU1782
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5353              		.loc 1 2746 9 is_stmt 0 view .LVU1783
 5354 002c 6421     		movs	r1, #100
 5355 002e 2046     		mov	r0, r4
 5356              	.LVL309:
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 194


 5357              		.loc 1 2746 9 view .LVU1784
 5358 0030 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5359              	.LVL310:
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5360              		.loc 1 2746 8 discriminator 1 view .LVU1785
 5361 0034 18B1     		cbz	r0, .L365
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5362              		.loc 1 2748 7 is_stmt 1 view .LVU1786
 5363 0036 636D     		ldr	r3, [r4, #84]
 5364 0038 43F02003 		orr	r3, r3, #32
 5365 003c 6365     		str	r3, [r4, #84]
 5366              	.L365:
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5367              		.loc 1 2752 5 view .LVU1787
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5368              		.loc 1 2752 19 is_stmt 0 view .LVU1788
 5369 003e A368     		ldr	r3, [r4, #8]
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5370              		.loc 1 2752 8 view .LVU1789
 5371 0040 33B9     		cbnz	r3, .L366
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5372              		.loc 1 2754 7 is_stmt 1 view .LVU1790
 5373              	.LBB8:
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5374              		.loc 1 2754 7 view .LVU1791
 5375 0042 0193     		str	r3, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5376              		.loc 1 2754 7 view .LVU1792
 5377 0044 2368     		ldr	r3, [r4]
 5378 0046 DA68     		ldr	r2, [r3, #12]
 5379 0048 0192     		str	r2, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5380              		.loc 1 2754 7 view .LVU1793
 5381 004a 9B68     		ldr	r3, [r3, #8]
 5382 004c 0193     		str	r3, [sp, #4]
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5383              		.loc 1 2754 7 view .LVU1794
 5384 004e 019B     		ldr	r3, [sp, #4]
 5385              	.L366:
 5386              	.LBE8:
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5387              		.loc 1 2754 7 discriminator 1 view .LVU1795
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5388              		.loc 1 2757 5 view .LVU1796
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5389              		.loc 1 2757 23 is_stmt 0 view .LVU1797
 5390 0050 0023     		movs	r3, #0
 5391 0052 E386     		strh	r3, [r4, #54]	@ movhi
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5392              		.loc 1 2758 5 is_stmt 1 view .LVU1798
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5393              		.loc 1 2758 17 is_stmt 0 view .LVU1799
 5394 0054 0123     		movs	r3, #1
 5395 0056 84F85130 		strb	r3, [r4, #81]
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5396              		.loc 1 2760 5 is_stmt 1 view .LVU1800
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 195


 5397              		.loc 1 2760 13 is_stmt 0 view .LVU1801
 5398 005a 636D     		ldr	r3, [r4, #84]
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5399              		.loc 1 2760 8 view .LVU1802
 5400 005c 23B9     		cbnz	r3, .L369
 5401              	.L364:
2775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5402              		.loc 1 2775 3 is_stmt 1 view .LVU1803
 5403 005e 2046     		mov	r0, r4
 5404 0060 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 5405              	.LVL311:
 5406              	.L363:
2777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5407              		.loc 1 2777 1 is_stmt 0 view .LVU1804
 5408 0064 03B0     		add	sp, sp, #12
 5409              	.LCFI72:
 5410              		.cfi_remember_state
 5411              		.cfi_def_cfa_offset 12
 5412              		@ sp needed
 5413 0066 30BD     		pop	{r4, r5, pc}
 5414              	.LVL312:
 5415              	.L369:
 5416              	.LCFI73:
 5417              		.cfi_restore_state
2766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5418              		.loc 1 2766 7 is_stmt 1 view .LVU1805
 5419 0068 2046     		mov	r0, r4
 5420 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5421              	.LVL313:
2768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5422              		.loc 1 2768 7 view .LVU1806
 5423 006e F9E7     		b	.L363
 5424              		.cfi_endproc
 5425              	.LFE94:
 5427              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 5428              		.align	1
 5429              		.syntax unified
 5430              		.thumb
 5431              		.thumb_func
 5433              	SPI_DMAReceiveCplt:
 5434              	.LVL314:
 5435              	.LFB95:
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5436              		.loc 1 2786 1 view -0
 5437              		.cfi_startproc
 5438              		@ args = 0, pretend = 0, frame = 0
 5439              		@ frame_needed = 0, uses_anonymous_args = 0
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5440              		.loc 1 2786 1 is_stmt 0 view .LVU1808
 5441 0000 38B5     		push	{r3, r4, r5, lr}
 5442              	.LCFI74:
 5443              		.cfi_def_cfa_offset 16
 5444              		.cfi_offset 3, -16
 5445              		.cfi_offset 4, -12
 5446              		.cfi_offset 5, -8
 5447              		.cfi_offset 14, -4
 5448 0002 0546     		mov	r5, r0
ARM GAS  /tmp/ccA9MgmD.s 			page 196


2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5449              		.loc 1 2787 3 is_stmt 1 view .LVU1809
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5450              		.loc 1 2787 22 is_stmt 0 view .LVU1810
 5451 0004 446A     		ldr	r4, [r0, #36]
 5452              	.LVL315:
2788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 5453              		.loc 1 2788 3 is_stmt 1 view .LVU1811
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5454              		.loc 1 2794 3 view .LVU1812
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5455              		.loc 1 2794 15 is_stmt 0 view .LVU1813
 5456 0006 FFF7FEFF 		bl	HAL_GetTick
 5457              	.LVL316:
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5458              		.loc 1 2797 3 is_stmt 1 view .LVU1814
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5459              		.loc 1 2797 12 is_stmt 0 view .LVU1815
 5460 000a 2B68     		ldr	r3, [r5]
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5461              		.loc 1 2797 22 view .LVU1816
 5462 000c 1B68     		ldr	r3, [r3]
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5463              		.loc 1 2797 6 view .LVU1817
 5464 000e 13F0200F 		tst	r3, #32
 5465 0012 1ED1     		bne	.L371
 5466 0014 0246     		mov	r2, r0
2800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5467              		.loc 1 2800 5 is_stmt 1 view .LVU1818
 5468 0016 2168     		ldr	r1, [r4]
 5469 0018 4B68     		ldr	r3, [r1, #4]
 5470 001a 23F02003 		bic	r3, r3, #32
 5471 001e 4B60     		str	r3, [r1, #4]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5472              		.loc 1 2820 5 view .LVU1819
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5473              		.loc 1 2820 20 is_stmt 0 view .LVU1820
 5474 0020 A368     		ldr	r3, [r4, #8]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5475              		.loc 1 2820 8 view .LVU1821
 5476 0022 1BB9     		cbnz	r3, .L372
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5477              		.loc 1 2820 70 discriminator 1 view .LVU1822
 5478 0024 6368     		ldr	r3, [r4, #4]
2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5479              		.loc 1 2820 56 discriminator 1 view .LVU1823
 5480 0026 B3F5827F 		cmp	r3, #260
 5481 002a 16D0     		beq	.L377
 5482              	.L372:
2828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5483              		.loc 1 2828 7 is_stmt 1 view .LVU1824
 5484 002c 2168     		ldr	r1, [r4]
 5485 002e 4B68     		ldr	r3, [r1, #4]
 5486 0030 23F00103 		bic	r3, r3, #1
 5487 0034 4B60     		str	r3, [r1, #4]
 5488              	.L373:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 197


 5489              		.loc 1 2832 5 view .LVU1825
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5490              		.loc 1 2832 9 is_stmt 0 view .LVU1826
 5491 0036 6421     		movs	r1, #100
 5492 0038 2046     		mov	r0, r4
 5493              	.LVL317:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5494              		.loc 1 2832 9 view .LVU1827
 5495 003a FFF7FEFF 		bl	SPI_EndRxTransaction
 5496              	.LVL318:
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5497              		.loc 1 2832 8 discriminator 1 view .LVU1828
 5498 003e 08B1     		cbz	r0, .L374
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5499              		.loc 1 2834 7 is_stmt 1 view .LVU1829
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5500              		.loc 1 2834 23 is_stmt 0 view .LVU1830
 5501 0040 2023     		movs	r3, #32
 5502 0042 6365     		str	r3, [r4, #84]
 5503              	.L374:
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5504              		.loc 1 2837 5 is_stmt 1 view .LVU1831
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5505              		.loc 1 2837 23 is_stmt 0 view .LVU1832
 5506 0044 0023     		movs	r3, #0
 5507 0046 E387     		strh	r3, [r4, #62]	@ movhi
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5508              		.loc 1 2838 5 is_stmt 1 view .LVU1833
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5509              		.loc 1 2838 17 is_stmt 0 view .LVU1834
 5510 0048 0123     		movs	r3, #1
 5511 004a 84F85130 		strb	r3, [r4, #81]
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5512              		.loc 1 2859 5 is_stmt 1 view .LVU1835
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5513              		.loc 1 2859 13 is_stmt 0 view .LVU1836
 5514 004e 636D     		ldr	r3, [r4, #84]
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5515              		.loc 1 2859 8 view .LVU1837
 5516 0050 4BB9     		cbnz	r3, .L378
 5517              	.L371:
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5518              		.loc 1 2874 3 is_stmt 1 view .LVU1838
 5519 0052 2046     		mov	r0, r4
 5520 0054 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 5521              	.LVL319:
 5522              	.L370:
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5523              		.loc 1 2876 1 is_stmt 0 view .LVU1839
 5524 0058 38BD     		pop	{r3, r4, r5, pc}
 5525              	.LVL320:
 5526              	.L377:
2823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5527              		.loc 1 2823 7 is_stmt 1 view .LVU1840
 5528 005a 2168     		ldr	r1, [r4]
 5529 005c 4B68     		ldr	r3, [r1, #4]
 5530 005e 23F00303 		bic	r3, r3, #3
ARM GAS  /tmp/ccA9MgmD.s 			page 198


 5531 0062 4B60     		str	r3, [r1, #4]
 5532 0064 E7E7     		b	.L373
 5533              	.LVL321:
 5534              	.L378:
2865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5535              		.loc 1 2865 7 view .LVU1841
 5536 0066 2046     		mov	r0, r4
 5537 0068 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5538              	.LVL322:
2867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5539              		.loc 1 2867 7 view .LVU1842
 5540 006c F4E7     		b	.L370
 5541              		.cfi_endproc
 5542              	.LFE95:
 5544              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 5545              		.align	1
 5546              		.syntax unified
 5547              		.thumb
 5548              		.thumb_func
 5550              	SPI_DMATransmitReceiveCplt:
 5551              	.LVL323:
 5552              	.LFB96:
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5553              		.loc 1 2885 1 view -0
 5554              		.cfi_startproc
 5555              		@ args = 0, pretend = 0, frame = 0
 5556              		@ frame_needed = 0, uses_anonymous_args = 0
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5557              		.loc 1 2885 1 is_stmt 0 view .LVU1844
 5558 0000 38B5     		push	{r3, r4, r5, lr}
 5559              	.LCFI75:
 5560              		.cfi_def_cfa_offset 16
 5561              		.cfi_offset 3, -16
 5562              		.cfi_offset 4, -12
 5563              		.cfi_offset 5, -8
 5564              		.cfi_offset 14, -4
 5565 0002 0546     		mov	r5, r0
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5566              		.loc 1 2886 3 is_stmt 1 view .LVU1845
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t tickstart;
 5567              		.loc 1 2886 22 is_stmt 0 view .LVU1846
 5568 0004 446A     		ldr	r4, [r0, #36]
 5569              	.LVL324:
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 5570              		.loc 1 2887 3 is_stmt 1 view .LVU1847
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5571              		.loc 1 2893 3 view .LVU1848
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5572              		.loc 1 2893 15 is_stmt 0 view .LVU1849
 5573 0006 FFF7FEFF 		bl	HAL_GetTick
 5574              	.LVL325:
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5575              		.loc 1 2896 3 is_stmt 1 view .LVU1850
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5576              		.loc 1 2896 12 is_stmt 0 view .LVU1851
 5577 000a 2B68     		ldr	r3, [r5]
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
ARM GAS  /tmp/ccA9MgmD.s 			page 199


 5578              		.loc 1 2896 22 view .LVU1852
 5579 000c 1B68     		ldr	r3, [r3]
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5580              		.loc 1 2896 6 view .LVU1853
 5581 000e 13F0200F 		tst	r3, #32
 5582 0012 1BD1     		bne	.L380
 5583 0014 0246     		mov	r2, r0
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5584              		.loc 1 2899 5 is_stmt 1 view .LVU1854
 5585 0016 2168     		ldr	r1, [r4]
 5586 0018 4B68     		ldr	r3, [r1, #4]
 5587 001a 23F02003 		bic	r3, r3, #32
 5588 001e 4B60     		str	r3, [r1, #4]
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5589              		.loc 1 2918 5 view .LVU1855
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5590              		.loc 1 2918 9 is_stmt 0 view .LVU1856
 5591 0020 6421     		movs	r1, #100
 5592 0022 2046     		mov	r0, r4
 5593              	.LVL326:
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5594              		.loc 1 2918 9 view .LVU1857
 5595 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5596              	.LVL327:
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5597              		.loc 1 2918 8 discriminator 1 view .LVU1858
 5598 0028 18B1     		cbz	r0, .L381
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5599              		.loc 1 2920 7 is_stmt 1 view .LVU1859
 5600 002a 636D     		ldr	r3, [r4, #84]
 5601 002c 43F02003 		orr	r3, r3, #32
 5602 0030 6365     		str	r3, [r4, #84]
 5603              	.L381:
2924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5604              		.loc 1 2924 5 view .LVU1860
 5605 0032 2268     		ldr	r2, [r4]
 5606 0034 5368     		ldr	r3, [r2, #4]
 5607 0036 23F00303 		bic	r3, r3, #3
 5608 003a 5360     		str	r3, [r2, #4]
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 5609              		.loc 1 2926 5 view .LVU1861
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 5610              		.loc 1 2926 23 is_stmt 0 view .LVU1862
 5611 003c 0023     		movs	r3, #0
 5612 003e E386     		strh	r3, [r4, #54]	@ movhi
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5613              		.loc 1 2927 5 is_stmt 1 view .LVU1863
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5614              		.loc 1 2927 23 is_stmt 0 view .LVU1864
 5615 0040 E387     		strh	r3, [r4, #62]	@ movhi
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5616              		.loc 1 2928 5 is_stmt 1 view .LVU1865
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5617              		.loc 1 2928 17 is_stmt 0 view .LVU1866
 5618 0042 0123     		movs	r3, #1
 5619 0044 84F85130 		strb	r3, [r4, #81]
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 200


 5620              		.loc 1 2949 5 is_stmt 1 view .LVU1867
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5621              		.loc 1 2949 13 is_stmt 0 view .LVU1868
 5622 0048 636D     		ldr	r3, [r4, #84]
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5623              		.loc 1 2949 8 view .LVU1869
 5624 004a 1BB9     		cbnz	r3, .L384
 5625              	.L380:
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5626              		.loc 1 2964 3 is_stmt 1 view .LVU1870
 5627 004c 2046     		mov	r0, r4
 5628 004e FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 5629              	.LVL328:
 5630              	.L379:
2966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5631              		.loc 1 2966 1 is_stmt 0 view .LVU1871
 5632 0052 38BD     		pop	{r3, r4, r5, pc}
 5633              	.LVL329:
 5634              	.L384:
2955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5635              		.loc 1 2955 7 is_stmt 1 view .LVU1872
 5636 0054 2046     		mov	r0, r4
 5637 0056 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5638              	.LVL330:
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5639              		.loc 1 2957 7 view .LVU1873
 5640 005a FAE7     		b	.L379
 5641              		.cfi_endproc
 5642              	.LFE96:
 5644              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 5645              		.align	1
 5646              		.global	HAL_SPI_IRQHandler
 5647              		.syntax unified
 5648              		.thumb
 5649              		.thumb_func
 5651              	HAL_SPI_IRQHandler:
 5652              	.LVL331:
 5653              	.LFB83:
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 5654              		.loc 1 2441 1 view -0
 5655              		.cfi_startproc
 5656              		@ args = 0, pretend = 0, frame = 16
 5657              		@ frame_needed = 0, uses_anonymous_args = 0
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 5658              		.loc 1 2441 1 is_stmt 0 view .LVU1875
 5659 0000 30B5     		push	{r4, r5, lr}
 5660              	.LCFI76:
 5661              		.cfi_def_cfa_offset 12
 5662              		.cfi_offset 4, -12
 5663              		.cfi_offset 5, -8
 5664              		.cfi_offset 14, -4
 5665 0002 85B0     		sub	sp, sp, #20
 5666              	.LCFI77:
 5667              		.cfi_def_cfa_offset 32
 5668 0004 0446     		mov	r4, r0
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5669              		.loc 1 2442 3 is_stmt 1 view .LVU1876
ARM GAS  /tmp/ccA9MgmD.s 			page 201


2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5670              		.loc 1 2442 27 is_stmt 0 view .LVU1877
 5671 0006 0268     		ldr	r2, [r0]
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5672              		.loc 1 2442 12 view .LVU1878
 5673 0008 5168     		ldr	r1, [r2, #4]
 5674              	.LVL332:
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5675              		.loc 1 2443 3 is_stmt 1 view .LVU1879
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5676              		.loc 1 2443 12 is_stmt 0 view .LVU1880
 5677 000a 9368     		ldr	r3, [r2, #8]
 5678              	.LVL333:
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5679              		.loc 1 2446 3 is_stmt 1 view .LVU1881
 5680 000c C3F38010 		ubfx	r0, r3, #6, #1
 5681              	.LVL334:
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5682              		.loc 1 2446 6 is_stmt 0 view .LVU1882
 5683 0010 13F0400F 		tst	r3, #64
 5684 0014 05D1     		bne	.L386
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5685              		.loc 1 2446 55 discriminator 1 view .LVU1883
 5686 0016 13F0010F 		tst	r3, #1
 5687 001a 02D0     		beq	.L386
2447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5688              		.loc 1 2447 56 view .LVU1884
 5689 001c 11F0400F 		tst	r1, #64
 5690 0020 59D1     		bne	.L397
 5691              	.L386:
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5692              		.loc 1 2454 3 is_stmt 1 view .LVU1885
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5693              		.loc 1 2454 6 is_stmt 0 view .LVU1886
 5694 0022 13F0020F 		tst	r3, #2
 5695 0026 02D0     		beq	.L388
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5696              		.loc 1 2454 55 discriminator 1 view .LVU1887
 5697 0028 11F0800F 		tst	r1, #128
 5698 002c 57D1     		bne	.L398
 5699              	.L388:
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5700              		.loc 1 2461 3 is_stmt 1 view .LVU1888
 5701 002e C3F34015 		ubfx	r5, r3, #5, #1
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5702              		.loc 1 2461 6 is_stmt 0 view .LVU1889
 5703 0032 13F0200F 		tst	r3, #32
 5704 0036 01D1     		bne	.L389
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_ERR) != RESET))
 5705              		.loc 1 2461 57 discriminator 1 view .LVU1890
 5706 0038 0028     		cmp	r0, #0
 5707 003a 53D0     		beq	.L385
 5708              	.L389:
2462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 5709              		.loc 1 2462 7 view .LVU1891
 5710 003c 11F0200F 		tst	r1, #32
 5711 0040 50D0     		beq	.L385
ARM GAS  /tmp/ccA9MgmD.s 			page 202


2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5712              		.loc 1 2465 5 is_stmt 1 view .LVU1892
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5713              		.loc 1 2465 8 is_stmt 0 view .LVU1893
 5714 0042 70B1     		cbz	r0, .L390
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5715              		.loc 1 2467 7 is_stmt 1 view .LVU1894
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5716              		.loc 1 2467 15 is_stmt 0 view .LVU1895
 5717 0044 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 5718              	.LVL335:
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5719              		.loc 1 2467 10 view .LVU1896
 5720 0048 032B     		cmp	r3, #3
 5721 004a 4DD0     		beq	.L391
2469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5722              		.loc 1 2469 9 is_stmt 1 view .LVU1897
 5723 004c 636D     		ldr	r3, [r4, #84]
 5724 004e 43F00403 		orr	r3, r3, #4
 5725 0052 6365     		str	r3, [r4, #84]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5726              		.loc 1 2470 9 view .LVU1898
 5727              	.LBB9:
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5728              		.loc 1 2470 9 view .LVU1899
 5729 0054 0023     		movs	r3, #0
 5730 0056 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5731              		.loc 1 2470 9 view .LVU1900
 5732 0058 D368     		ldr	r3, [r2, #12]
 5733 005a 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5734              		.loc 1 2470 9 view .LVU1901
 5735 005c 9368     		ldr	r3, [r2, #8]
 5736 005e 0193     		str	r3, [sp, #4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5737              		.loc 1 2470 9 view .LVU1902
 5738 0060 019B     		ldr	r3, [sp, #4]
 5739              	.LBE9:
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5740              		.loc 1 2470 9 view .LVU1903
 5741              	.L390:
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5742              		.loc 1 2480 5 view .LVU1904
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5743              		.loc 1 2480 8 is_stmt 0 view .LVU1905
 5744 0062 65B1     		cbz	r5, .L392
2482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 5745              		.loc 1 2482 7 is_stmt 1 view .LVU1906
 5746 0064 636D     		ldr	r3, [r4, #84]
 5747 0066 43F00103 		orr	r3, r3, #1
 5748 006a 6365     		str	r3, [r4, #84]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5749              		.loc 1 2483 7 view .LVU1907
 5750              	.LBB10:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5751              		.loc 1 2483 7 view .LVU1908
ARM GAS  /tmp/ccA9MgmD.s 			page 203


 5752 006c 0023     		movs	r3, #0
 5753 006e 0393     		str	r3, [sp, #12]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5754              		.loc 1 2483 7 view .LVU1909
 5755 0070 9368     		ldr	r3, [r2, #8]
 5756 0072 0393     		str	r3, [sp, #12]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5757              		.loc 1 2483 7 view .LVU1910
 5758 0074 1368     		ldr	r3, [r2]
 5759 0076 23F04003 		bic	r3, r3, #64
 5760 007a 1360     		str	r3, [r2]
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5761              		.loc 1 2483 7 view .LVU1911
 5762 007c 039B     		ldr	r3, [sp, #12]
 5763              	.L392:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5764              		.loc 1 2483 7 is_stmt 0 view .LVU1912
 5765              	.LBE10:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 5766              		.loc 1 2483 7 is_stmt 1 discriminator 1 view .LVU1913
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5767              		.loc 1 2488 5 view .LVU1914
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5768              		.loc 1 2488 13 is_stmt 0 view .LVU1915
 5769 007e 636D     		ldr	r3, [r4, #84]
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 5770              		.loc 1 2488 8 view .LVU1916
 5771 0080 002B     		cmp	r3, #0
 5772 0082 2FD0     		beq	.L385
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5773              		.loc 1 2491 7 is_stmt 1 view .LVU1917
 5774 0084 2268     		ldr	r2, [r4]
 5775 0086 5368     		ldr	r3, [r2, #4]
 5776 0088 23F0E003 		bic	r3, r3, #224
 5777 008c 5360     		str	r3, [r2, #4]
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 5778              		.loc 1 2493 7 view .LVU1918
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 5779              		.loc 1 2493 19 is_stmt 0 view .LVU1919
 5780 008e 0123     		movs	r3, #1
 5781 0090 84F85130 		strb	r3, [r4, #81]
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5782              		.loc 1 2495 7 is_stmt 1 view .LVU1920
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 5783              		.loc 1 2495 10 is_stmt 0 view .LVU1921
 5784 0094 11F0030F 		tst	r1, #3
 5785 0098 2ED0     		beq	.L394
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5786              		.loc 1 2497 9 is_stmt 1 view .LVU1922
 5787 009a 2268     		ldr	r2, [r4]
 5788 009c 5368     		ldr	r3, [r2, #4]
 5789 009e 23F00303 		bic	r3, r3, #3
 5790 00a2 5360     		str	r3, [r2, #4]
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5791              		.loc 1 2500 9 view .LVU1923
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5792              		.loc 1 2500 17 is_stmt 0 view .LVU1924
ARM GAS  /tmp/ccA9MgmD.s 			page 204


 5793 00a4 E36C     		ldr	r3, [r4, #76]
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5794              		.loc 1 2500 12 view .LVU1925
 5795 00a6 4BB1     		cbz	r3, .L395
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 5796              		.loc 1 2504 11 is_stmt 1 view .LVU1926
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 5797              		.loc 1 2504 43 is_stmt 0 view .LVU1927
 5798 00a8 154A     		ldr	r2, .L399
 5799 00aa 5A63     		str	r2, [r3, #52]
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5800              		.loc 1 2505 11 is_stmt 1 view .LVU1928
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5801              		.loc 1 2505 25 is_stmt 0 view .LVU1929
 5802 00ac E06C     		ldr	r0, [r4, #76]
 5803 00ae FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5804              	.LVL336:
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5805              		.loc 1 2505 14 discriminator 1 view .LVU1930
 5806 00b2 18B1     		cbz	r0, .L395
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
 5807              		.loc 1 2507 13 is_stmt 1 view .LVU1931
 5808 00b4 636D     		ldr	r3, [r4, #84]
 5809 00b6 43F04003 		orr	r3, r3, #64
 5810 00ba 6365     		str	r3, [r4, #84]
 5811              	.L395:
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5812              		.loc 1 2511 9 view .LVU1932
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5813              		.loc 1 2511 17 is_stmt 0 view .LVU1933
 5814 00bc A36C     		ldr	r3, [r4, #72]
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         {
 5815              		.loc 1 2511 12 view .LVU1934
 5816 00be 8BB1     		cbz	r3, .L385
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 5817              		.loc 1 2515 11 is_stmt 1 view .LVU1935
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 5818              		.loc 1 2515 43 is_stmt 0 view .LVU1936
 5819 00c0 0F4A     		ldr	r2, .L399
 5820 00c2 5A63     		str	r2, [r3, #52]
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5821              		.loc 1 2516 11 is_stmt 1 view .LVU1937
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5822              		.loc 1 2516 25 is_stmt 0 view .LVU1938
 5823 00c4 A06C     		ldr	r0, [r4, #72]
 5824 00c6 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5825              	.LVL337:
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           {
 5826              		.loc 1 2516 14 discriminator 1 view .LVU1939
 5827 00ca 58B1     		cbz	r0, .L385
2518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****           }
 5828              		.loc 1 2518 13 is_stmt 1 view .LVU1940
 5829 00cc 636D     		ldr	r3, [r4, #84]
 5830 00ce 43F04003 		orr	r3, r3, #64
 5831 00d2 6365     		str	r3, [r4, #84]
 5832 00d4 06E0     		b	.L385
 5833              	.LVL338:
ARM GAS  /tmp/ccA9MgmD.s 			page 205


 5834              	.L397:
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5835              		.loc 1 2449 5 view .LVU1941
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5836              		.loc 1 2449 9 is_stmt 0 view .LVU1942
 5837 00d6 236C     		ldr	r3, [r4, #64]
 5838              	.LVL339:
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5839              		.loc 1 2449 5 view .LVU1943
 5840 00d8 2046     		mov	r0, r4
 5841 00da 9847     		blx	r3
 5842              	.LVL340:
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5843              		.loc 1 2450 5 is_stmt 1 view .LVU1944
 5844 00dc 02E0     		b	.L385
 5845              	.LVL341:
 5846              	.L398:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5847              		.loc 1 2456 5 view .LVU1945
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5848              		.loc 1 2456 9 is_stmt 0 view .LVU1946
 5849 00de 636C     		ldr	r3, [r4, #68]
 5850              	.LVL342:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     return;
 5851              		.loc 1 2456 5 view .LVU1947
 5852 00e0 2046     		mov	r0, r4
 5853 00e2 9847     		blx	r3
 5854              	.LVL343:
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5855              		.loc 1 2457 5 is_stmt 1 view .LVU1948
 5856              	.L385:
2534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5857              		.loc 1 2534 1 is_stmt 0 view .LVU1949
 5858 00e4 05B0     		add	sp, sp, #20
 5859              	.LCFI78:
 5860              		.cfi_remember_state
 5861              		.cfi_def_cfa_offset 12
 5862              		@ sp needed
 5863 00e6 30BD     		pop	{r4, r5, pc}
 5864              	.LVL344:
 5865              	.L391:
 5866              	.LCFI79:
 5867              		.cfi_restore_state
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5868              		.loc 1 2474 9 is_stmt 1 view .LVU1950
 5869              	.LBB11:
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5870              		.loc 1 2474 9 view .LVU1951
 5871 00e8 0023     		movs	r3, #0
 5872 00ea 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5873              		.loc 1 2474 9 view .LVU1952
 5874 00ec D368     		ldr	r3, [r2, #12]
 5875 00ee 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5876              		.loc 1 2474 9 view .LVU1953
 5877 00f0 9368     		ldr	r3, [r2, #8]
ARM GAS  /tmp/ccA9MgmD.s 			page 206


 5878 00f2 0293     		str	r3, [sp, #8]
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5879              		.loc 1 2474 9 view .LVU1954
 5880 00f4 029B     		ldr	r3, [sp, #8]
 5881              	.LBE11:
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         return;
 5882              		.loc 1 2474 9 view .LVU1955
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 5883              		.loc 1 2475 9 view .LVU1956
 5884 00f6 F5E7     		b	.L385
 5885              	.L394:
2528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5886              		.loc 1 2528 9 view .LVU1957
 5887 00f8 2046     		mov	r0, r4
 5888 00fa FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5889              	.LVL345:
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 5890              		.loc 1 2532 5 view .LVU1958
 5891 00fe F1E7     		b	.L385
 5892              	.L400:
 5893              		.align	2
 5894              	.L399:
 5895 0100 00000000 		.word	SPI_DMAAbortOnError
 5896              		.cfi_endproc
 5897              	.LFE83:
 5899              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 5900              		.align	1
 5901              		.syntax unified
 5902              		.thumb
 5903              		.thumb_func
 5905              	SPI_DMAAbortOnError:
 5906              	.LVL346:
 5907              	.LFB101:
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5908              		.loc 1 3052 1 view -0
 5909              		.cfi_startproc
 5910              		@ args = 0, pretend = 0, frame = 0
 5911              		@ frame_needed = 0, uses_anonymous_args = 0
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 5912              		.loc 1 3052 1 is_stmt 0 view .LVU1960
 5913 0000 08B5     		push	{r3, lr}
 5914              	.LCFI80:
 5915              		.cfi_def_cfa_offset 8
 5916              		.cfi_offset 3, -8
 5917              		.cfi_offset 14, -4
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5918              		.loc 1 3053 3 is_stmt 1 view .LVU1961
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5919              		.loc 1 3053 22 is_stmt 0 view .LVU1962
 5920 0002 406A     		ldr	r0, [r0, #36]
 5921              	.LVL347:
3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5922              		.loc 1 3054 3 is_stmt 1 view .LVU1963
3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5923              		.loc 1 3054 21 is_stmt 0 view .LVU1964
 5924 0004 0023     		movs	r3, #0
 5925 0006 C387     		strh	r3, [r0, #62]	@ movhi
ARM GAS  /tmp/ccA9MgmD.s 			page 207


3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5926              		.loc 1 3055 3 is_stmt 1 view .LVU1965
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5927              		.loc 1 3055 21 is_stmt 0 view .LVU1966
 5928 0008 C386     		strh	r3, [r0, #54]	@ movhi
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5929              		.loc 1 3061 3 is_stmt 1 view .LVU1967
 5930 000a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 5931              	.LVL348:
3063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5932              		.loc 1 3063 1 is_stmt 0 view .LVU1968
 5933 000e 08BD     		pop	{r3, pc}
 5934              		.cfi_endproc
 5935              	.LFE101:
 5937              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 5938              		.align	1
 5939              		.weak	HAL_SPI_AbortCpltCallback
 5940              		.syntax unified
 5941              		.thumb
 5942              		.thumb_func
 5944              	HAL_SPI_AbortCpltCallback:
 5945              	.LVL349:
 5946              	.LFB91:
2657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 5947              		.loc 1 2657 1 is_stmt 1 view -0
 5948              		.cfi_startproc
 5949              		@ args = 0, pretend = 0, frame = 0
 5950              		@ frame_needed = 0, uses_anonymous_args = 0
 5951              		@ link register save eliminated.
2659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5952              		.loc 1 2659 3 view .LVU1970
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5953              		.loc 1 2664 1 is_stmt 0 view .LVU1971
 5954 0000 7047     		bx	lr
 5955              		.cfi_endproc
 5956              	.LFE91:
 5958              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 5959              		.align	1
 5960              		.global	HAL_SPI_Abort_IT
 5961              		.syntax unified
 5962              		.thumb
 5963              		.thumb_func
 5965              	HAL_SPI_Abort_IT:
 5966              	.LVL350:
 5967              	.LFB79:
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 5968              		.loc 1 2199 1 is_stmt 1 view -0
 5969              		.cfi_startproc
 5970              		@ args = 0, pretend = 0, frame = 16
 5971              		@ frame_needed = 0, uses_anonymous_args = 0
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 5972              		.loc 1 2199 1 is_stmt 0 view .LVU1973
 5973 0000 70B5     		push	{r4, r5, r6, lr}
 5974              	.LCFI81:
 5975              		.cfi_def_cfa_offset 16
 5976              		.cfi_offset 4, -16
 5977              		.cfi_offset 5, -12
ARM GAS  /tmp/ccA9MgmD.s 			page 208


 5978              		.cfi_offset 6, -8
 5979              		.cfi_offset 14, -4
 5980 0002 84B0     		sub	sp, sp, #16
 5981              	.LCFI82:
 5982              		.cfi_def_cfa_offset 32
 5983 0004 0446     		mov	r4, r0
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   uint32_t abortcplt ;
 5984              		.loc 1 2200 3 is_stmt 1 view .LVU1974
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 5985              		.loc 1 2201 3 view .LVU1975
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t resetcount;
 5986              		.loc 1 2202 3 view .LVU1976
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 5987              		.loc 1 2203 3 view .LVU1977
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
 5988              		.loc 1 2206 3 view .LVU1978
 5989              	.LVL351:
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 5990              		.loc 1 2207 3 view .LVU1979
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 5991              		.loc 1 2208 3 view .LVU1980
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 5992              		.loc 1 2208 61 is_stmt 0 view .LVU1981
 5993 0006 4C4B     		ldr	r3, .L430
 5994 0008 1B68     		ldr	r3, [r3]
 5995 000a 4C4A     		ldr	r2, .L430+4
 5996 000c A2FB0323 		umull	r2, r3, r2, r3
 5997 0010 5B0A     		lsrs	r3, r3, #9
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 5998              		.loc 1 2208 36 view .LVU1982
 5999 0012 6422     		movs	r2, #100
 6000 0014 02FB03F3 		mul	r3, r2, r3
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = resetcount;
 6001              		.loc 1 2208 14 view .LVU1983
 6002 0018 0293     		str	r3, [sp, #8]
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6003              		.loc 1 2209 3 is_stmt 1 view .LVU1984
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6004              		.loc 1 2209 9 is_stmt 0 view .LVU1985
 6005 001a 029B     		ldr	r3, [sp, #8]
 6006 001c 0393     		str	r3, [sp, #12]
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6007              		.loc 1 2212 3 is_stmt 1 view .LVU1986
 6008 001e 0268     		ldr	r2, [r0]
 6009 0020 5368     		ldr	r3, [r2, #4]
 6010 0022 23F02003 		bic	r3, r3, #32
 6011 0026 5360     		str	r3, [r2, #4]
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6012              		.loc 1 2215 3 view .LVU1987
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6013              		.loc 1 2215 7 is_stmt 0 view .LVU1988
 6014 0028 0268     		ldr	r2, [r0]
 6015 002a 5368     		ldr	r3, [r2, #4]
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6016              		.loc 1 2215 6 view .LVU1989
 6017 002c 13F0800F 		tst	r3, #128
 6018 0030 11D0     		beq	.L405
ARM GAS  /tmp/ccA9MgmD.s 			page 209


2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6019              		.loc 1 2217 5 is_stmt 1 view .LVU1990
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6020              		.loc 1 2217 17 is_stmt 0 view .LVU1991
 6021 0032 434B     		ldr	r3, .L430+8
 6022 0034 4364     		str	r3, [r0, #68]
 6023              	.L408:
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6024              		.loc 1 2219 5 is_stmt 1 view .LVU1992
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6025              		.loc 1 2221 7 view .LVU1993
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6026              		.loc 1 2221 17 is_stmt 0 view .LVU1994
 6027 0036 039B     		ldr	r3, [sp, #12]
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6028              		.loc 1 2221 10 view .LVU1995
 6029 0038 3BB1     		cbz	r3, .L427
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6030              		.loc 1 2226 7 is_stmt 1 view .LVU1996
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6031              		.loc 1 2226 12 is_stmt 0 view .LVU1997
 6032 003a 039B     		ldr	r3, [sp, #12]
 6033 003c 013B     		subs	r3, r3, #1
 6034 003e 0393     		str	r3, [sp, #12]
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6035              		.loc 1 2227 26 is_stmt 1 view .LVU1998
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6036              		.loc 1 2227 18 is_stmt 0 view .LVU1999
 6037 0040 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6038              		.loc 1 2227 26 view .LVU2000
 6039 0044 072B     		cmp	r3, #7
 6040 0046 F6D1     		bne	.L408
 6041 0048 03E0     		b	.L407
 6042              	.L427:
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 6043              		.loc 1 2223 9 is_stmt 1 view .LVU2001
 6044 004a 636D     		ldr	r3, [r4, #84]
 6045 004c 43F04003 		orr	r3, r3, #64
 6046 0050 6365     		str	r3, [r4, #84]
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6047              		.loc 1 2224 9 view .LVU2002
 6048              	.L407:
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6049              		.loc 1 2229 5 view .LVU2003
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6050              		.loc 1 2229 11 is_stmt 0 view .LVU2004
 6051 0052 029B     		ldr	r3, [sp, #8]
 6052 0054 0393     		str	r3, [sp, #12]
 6053              	.L405:
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6054              		.loc 1 2232 3 is_stmt 1 view .LVU2005
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6055              		.loc 1 2232 7 is_stmt 0 view .LVU2006
 6056 0056 5368     		ldr	r3, [r2, #4]
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6057              		.loc 1 2232 6 view .LVU2007
ARM GAS  /tmp/ccA9MgmD.s 			page 210


 6058 0058 13F0400F 		tst	r3, #64
 6059 005c 11D0     		beq	.L409
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6060              		.loc 1 2234 5 is_stmt 1 view .LVU2008
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 6061              		.loc 1 2234 17 is_stmt 0 view .LVU2009
 6062 005e 394B     		ldr	r3, .L430+12
 6063 0060 2364     		str	r3, [r4, #64]
 6064              	.L412:
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6065              		.loc 1 2236 5 is_stmt 1 view .LVU2010
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6066              		.loc 1 2238 7 view .LVU2011
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6067              		.loc 1 2238 17 is_stmt 0 view .LVU2012
 6068 0062 039B     		ldr	r3, [sp, #12]
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6069              		.loc 1 2238 10 view .LVU2013
 6070 0064 3BB1     		cbz	r3, .L428
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6071              		.loc 1 2243 7 is_stmt 1 view .LVU2014
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 6072              		.loc 1 2243 12 is_stmt 0 view .LVU2015
 6073 0066 039B     		ldr	r3, [sp, #12]
 6074 0068 013B     		subs	r3, r3, #1
 6075 006a 0393     		str	r3, [sp, #12]
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6076              		.loc 1 2244 26 is_stmt 1 view .LVU2016
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6077              		.loc 1 2244 18 is_stmt 0 view .LVU2017
 6078 006c 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     /* Reset Timeout Counter */
 6079              		.loc 1 2244 26 view .LVU2018
 6080 0070 072B     		cmp	r3, #7
 6081 0072 F6D1     		bne	.L412
 6082 0074 03E0     		b	.L411
 6083              	.L428:
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         break;
 6084              		.loc 1 2240 9 is_stmt 1 view .LVU2019
 6085 0076 636D     		ldr	r3, [r4, #84]
 6086 0078 43F04003 		orr	r3, r3, #64
 6087 007c 6365     		str	r3, [r4, #84]
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6088              		.loc 1 2241 9 view .LVU2020
 6089              	.L411:
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6090              		.loc 1 2246 5 view .LVU2021
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6091              		.loc 1 2246 11 is_stmt 0 view .LVU2022
 6092 007e 029B     		ldr	r3, [sp, #8]
 6093 0080 0393     		str	r3, [sp, #12]
 6094              	.L409:
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6095              		.loc 1 2252 3 is_stmt 1 view .LVU2023
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6096              		.loc 1 2252 11 is_stmt 0 view .LVU2024
 6097 0082 A36C     		ldr	r3, [r4, #72]
ARM GAS  /tmp/ccA9MgmD.s 			page 211


2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6098              		.loc 1 2252 6 view .LVU2025
 6099 0084 2BB1     		cbz	r3, .L413
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6100              		.loc 1 2256 5 is_stmt 1 view .LVU2026
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6101              		.loc 1 2256 9 is_stmt 0 view .LVU2027
 6102 0086 5268     		ldr	r2, [r2, #4]
2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6103              		.loc 1 2256 8 view .LVU2028
 6104 0088 12F0020F 		tst	r2, #2
 6105 008c 1BD0     		beq	.L414
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6106              		.loc 1 2258 7 is_stmt 1 view .LVU2029
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6107              		.loc 1 2258 39 is_stmt 0 view .LVU2030
 6108 008e 2E4A     		ldr	r2, .L430+16
 6109 0090 5A63     		str	r2, [r3, #52]
 6110              	.L413:
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6111              		.loc 1 2266 3 is_stmt 1 view .LVU2031
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6112              		.loc 1 2266 11 is_stmt 0 view .LVU2032
 6113 0092 E36C     		ldr	r3, [r4, #76]
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6114              		.loc 1 2266 6 view .LVU2033
 6115 0094 33B1     		cbz	r3, .L415
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6116              		.loc 1 2270 5 is_stmt 1 view .LVU2034
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6117              		.loc 1 2270 9 is_stmt 0 view .LVU2035
 6118 0096 2268     		ldr	r2, [r4]
 6119 0098 5268     		ldr	r2, [r2, #4]
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6120              		.loc 1 2270 8 view .LVU2036
 6121 009a 12F0010F 		tst	r2, #1
 6122 009e 15D0     		beq	.L416
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6123              		.loc 1 2272 7 is_stmt 1 view .LVU2037
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6124              		.loc 1 2272 39 is_stmt 0 view .LVU2038
 6125 00a0 2A4A     		ldr	r2, .L430+20
 6126 00a2 5A63     		str	r2, [r3, #52]
 6127              	.L415:
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6128              		.loc 1 2281 3 is_stmt 1 view .LVU2039
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6129              		.loc 1 2281 7 is_stmt 0 view .LVU2040
 6130 00a4 2368     		ldr	r3, [r4]
 6131 00a6 5B68     		ldr	r3, [r3, #4]
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6132              		.loc 1 2281 6 view .LVU2041
 6133 00a8 13F0020F 		tst	r3, #2
 6134 00ac 11D0     		beq	.L421
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6135              		.loc 1 2284 5 is_stmt 1 view .LVU2042
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
ARM GAS  /tmp/ccA9MgmD.s 			page 212


 6136              		.loc 1 2284 13 is_stmt 0 view .LVU2043
 6137 00ae A06C     		ldr	r0, [r4, #72]
 6138              	.LVL352:
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6139              		.loc 1 2284 8 view .LVU2044
 6140 00b0 28B3     		cbz	r0, .L422
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6141              		.loc 1 2287 7 is_stmt 1 view .LVU2045
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6142              		.loc 1 2287 11 is_stmt 0 view .LVU2046
 6143 00b2 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6144              	.LVL353:
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6145              		.loc 1 2287 10 discriminator 1 view .LVU2047
 6146 00b6 20B3     		cbz	r0, .L423
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6147              		.loc 1 2289 9 is_stmt 1 view .LVU2048
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6148              		.loc 1 2289 13 is_stmt 0 view .LVU2049
 6149 00b8 A36C     		ldr	r3, [r4, #72]
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6150              		.loc 1 2289 41 view .LVU2050
 6151 00ba 0022     		movs	r2, #0
 6152 00bc 5A63     		str	r2, [r3, #52]
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6153              		.loc 1 2290 9 is_stmt 1 view .LVU2051
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6154              		.loc 1 2290 25 is_stmt 0 view .LVU2052
 6155 00be 4023     		movs	r3, #64
 6156 00c0 6365     		str	r3, [r4, #84]
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6157              		.loc 1 2207 13 view .LVU2053
 6158 00c2 0126     		movs	r6, #1
 6159 00c4 06E0     		b	.L417
 6160              	.LVL354:
 6161              	.L414:
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6162              		.loc 1 2262 7 is_stmt 1 view .LVU2054
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6163              		.loc 1 2262 39 is_stmt 0 view .LVU2055
 6164 00c6 0022     		movs	r2, #0
 6165 00c8 5A63     		str	r2, [r3, #52]
 6166 00ca E2E7     		b	.L413
 6167              	.L416:
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6168              		.loc 1 2276 7 is_stmt 1 view .LVU2056
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6169              		.loc 1 2276 39 is_stmt 0 view .LVU2057
 6170 00cc 0022     		movs	r2, #0
 6171 00ce 5A63     		str	r2, [r3, #52]
 6172 00d0 E8E7     		b	.L415
 6173              	.L421:
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6174              		.loc 1 2207 13 view .LVU2058
 6175 00d2 0126     		movs	r6, #1
 6176              	.LVL355:
 6177              	.L417:
ARM GAS  /tmp/ccA9MgmD.s 			page 213


2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6178              		.loc 1 2299 3 is_stmt 1 view .LVU2059
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6179              		.loc 1 2299 7 is_stmt 0 view .LVU2060
 6180 00d4 2368     		ldr	r3, [r4]
 6181 00d6 5B68     		ldr	r3, [r3, #4]
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6182              		.loc 1 2299 6 view .LVU2061
 6183 00d8 13F0010F 		tst	r3, #1
 6184 00dc 0AD0     		beq	.L418
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6185              		.loc 1 2302 5 is_stmt 1 view .LVU2062
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6186              		.loc 1 2302 13 is_stmt 0 view .LVU2063
 6187 00de E06C     		ldr	r0, [r4, #76]
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6188              		.loc 1 2302 8 view .LVU2064
 6189 00e0 40B1     		cbz	r0, .L418
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6190              		.loc 1 2305 7 is_stmt 1 view .LVU2065
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6191              		.loc 1 2305 11 is_stmt 0 view .LVU2066
 6192 00e2 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6193              	.LVL356:
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       {
 6194              		.loc 1 2305 10 discriminator 1 view .LVU2067
 6195 00e6 0546     		mov	r5, r0
 6196 00e8 30B1     		cbz	r0, .L419
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6197              		.loc 1 2307 9 is_stmt 1 view .LVU2068
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6198              		.loc 1 2307 13 is_stmt 0 view .LVU2069
 6199 00ea E36C     		ldr	r3, [r4, #76]
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6200              		.loc 1 2307 41 view .LVU2070
 6201 00ec 0022     		movs	r2, #0
 6202 00ee 5A63     		str	r2, [r3, #52]
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6203              		.loc 1 2308 9 is_stmt 1 view .LVU2071
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6204              		.loc 1 2308 25 is_stmt 0 view .LVU2072
 6205 00f0 4023     		movs	r3, #64
 6206 00f2 6365     		str	r3, [r4, #84]
 6207              	.L418:
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6208              		.loc 1 2317 3 is_stmt 1 view .LVU2073
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6209              		.loc 1 2317 6 is_stmt 0 view .LVU2074
 6210 00f4 3EB9     		cbnz	r6, .L429
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   abortcplt = 1U;
 6211              		.loc 1 2206 13 view .LVU2075
 6212 00f6 0025     		movs	r5, #0
 6213              	.LVL357:
 6214              	.L419:
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6215              		.loc 1 2349 3 is_stmt 1 view .LVU2076
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 214


 6216              		.loc 1 2350 1 is_stmt 0 view .LVU2077
 6217 00f8 2846     		mov	r0, r5
 6218 00fa 04B0     		add	sp, sp, #16
 6219              	.LCFI83:
 6220              		.cfi_remember_state
 6221              		.cfi_def_cfa_offset 16
 6222              		@ sp needed
 6223 00fc 70BD     		pop	{r4, r5, r6, pc}
 6224              	.LVL358:
 6225              	.L422:
 6226              	.LCFI84:
 6227              		.cfi_restore_state
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6228              		.loc 1 2207 13 view .LVU2078
 6229 00fe 0126     		movs	r6, #1
 6230 0100 E8E7     		b	.L417
 6231              	.L423:
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       }
 6232              		.loc 1 2294 19 view .LVU2079
 6233 0102 0026     		movs	r6, #0
 6234 0104 E6E7     		b	.L417
 6235              	.LVL359:
 6236              	.L429:
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6237              		.loc 1 2320 5 is_stmt 1 view .LVU2080
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6238              		.loc 1 2320 23 is_stmt 0 view .LVU2081
 6239 0106 0023     		movs	r3, #0
 6240 0108 E387     		strh	r3, [r4, #62]	@ movhi
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6241              		.loc 1 2321 5 is_stmt 1 view .LVU2082
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6242              		.loc 1 2321 23 is_stmt 0 view .LVU2083
 6243 010a E386     		strh	r3, [r4, #54]	@ movhi
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6244              		.loc 1 2324 5 is_stmt 1 view .LVU2084
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6245              		.loc 1 2324 13 is_stmt 0 view .LVU2085
 6246 010c 636D     		ldr	r3, [r4, #84]
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6247              		.loc 1 2324 8 view .LVU2086
 6248 010e 402B     		cmp	r3, #64
 6249 0110 10D0     		beq	.L425
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6250              		.loc 1 2332 7 is_stmt 1 view .LVU2087
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6251              		.loc 1 2332 23 is_stmt 0 view .LVU2088
 6252 0112 0025     		movs	r5, #0
 6253 0114 6565     		str	r5, [r4, #84]
 6254              	.L420:
 6255              	.LVL360:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6256              		.loc 1 2336 5 is_stmt 1 view .LVU2089
 6257              	.LBB12:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6258              		.loc 1 2336 5 view .LVU2090
 6259 0116 0023     		movs	r3, #0
ARM GAS  /tmp/ccA9MgmD.s 			page 215


 6260 0118 0193     		str	r3, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6261              		.loc 1 2336 5 view .LVU2091
 6262 011a 2368     		ldr	r3, [r4]
 6263 011c DA68     		ldr	r2, [r3, #12]
 6264 011e 0192     		str	r2, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6265              		.loc 1 2336 5 view .LVU2092
 6266 0120 9B68     		ldr	r3, [r3, #8]
 6267 0122 0193     		str	r3, [sp, #4]
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6268              		.loc 1 2336 5 view .LVU2093
 6269 0124 019B     		ldr	r3, [sp, #4]
 6270              	.LBE12:
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6271              		.loc 1 2336 5 view .LVU2094
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6272              		.loc 1 2339 5 view .LVU2095
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6273              		.loc 1 2339 17 is_stmt 0 view .LVU2096
 6274 0126 0123     		movs	r3, #1
 6275 0128 84F85130 		strb	r3, [r4, #81]
2345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6276              		.loc 1 2345 5 is_stmt 1 view .LVU2097
 6277 012c 2046     		mov	r0, r4
 6278 012e FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6279              	.LVL361:
 6280 0132 E1E7     		b	.L419
 6281              	.LVL362:
 6282              	.L425:
2327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6283              		.loc 1 2327 17 is_stmt 0 view .LVU2098
 6284 0134 0125     		movs	r5, #1
 6285 0136 EEE7     		b	.L420
 6286              	.L431:
 6287              		.align	2
 6288              	.L430:
 6289 0138 00000000 		.word	SystemCoreClock
 6290 013c F1197605 		.word	91625969
 6291 0140 00000000 		.word	SPI_AbortTx_ISR
 6292 0144 00000000 		.word	SPI_AbortRx_ISR
 6293 0148 00000000 		.word	SPI_DMATxAbortCallback
 6294 014c 00000000 		.word	SPI_DMARxAbortCallback
 6295              		.cfi_endproc
 6296              	.LFE79:
 6298              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 6299              		.align	1
 6300              		.syntax unified
 6301              		.thumb
 6302              		.thumb_func
 6304              	SPI_DMARxAbortCallback:
 6305              	.LVL363:
 6306              	.LFB103:
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6307              		.loc 1 3138 1 is_stmt 1 view -0
 6308              		.cfi_startproc
 6309              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccA9MgmD.s 			page 216


 6310              		@ frame_needed = 0, uses_anonymous_args = 0
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6311              		.loc 1 3138 1 is_stmt 0 view .LVU2100
 6312 0000 10B5     		push	{r4, lr}
 6313              	.LCFI85:
 6314              		.cfi_def_cfa_offset 8
 6315              		.cfi_offset 4, -8
 6316              		.cfi_offset 14, -4
 6317 0002 82B0     		sub	sp, sp, #8
 6318              	.LCFI86:
 6319              		.cfi_def_cfa_offset 16
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6320              		.loc 1 3139 3 is_stmt 1 view .LVU2101
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6321              		.loc 1 3139 22 is_stmt 0 view .LVU2102
 6322 0004 446A     		ldr	r4, [r0, #36]
 6323              	.LVL364:
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6324              		.loc 1 3142 3 is_stmt 1 view .LVU2103
 6325 0006 2268     		ldr	r2, [r4]
 6326 0008 1368     		ldr	r3, [r2]
 6327 000a 23F04003 		bic	r3, r3, #64
 6328 000e 1360     		str	r3, [r2]
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6329              		.loc 1 3144 3 view .LVU2104
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6330              		.loc 1 3144 7 is_stmt 0 view .LVU2105
 6331 0010 E36C     		ldr	r3, [r4, #76]
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6332              		.loc 1 3144 35 view .LVU2106
 6333 0012 0022     		movs	r2, #0
 6334 0014 5A63     		str	r2, [r3, #52]
3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6335              		.loc 1 3147 3 is_stmt 1 view .LVU2107
 6336 0016 2268     		ldr	r2, [r4]
 6337 0018 5368     		ldr	r3, [r2, #4]
 6338 001a 23F00103 		bic	r3, r3, #1
 6339 001e 5360     		str	r3, [r2, #4]
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6340              		.loc 1 3150 3 view .LVU2108
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6341              		.loc 1 3150 7 is_stmt 0 view .LVU2109
 6342 0020 FFF7FEFF 		bl	HAL_GetTick
 6343              	.LVL365:
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6344              		.loc 1 3150 7 view .LVU2110
 6345 0024 0246     		mov	r2, r0
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6346              		.loc 1 3150 7 discriminator 1 view .LVU2111
 6347 0026 6421     		movs	r1, #100
 6348 0028 2046     		mov	r0, r4
 6349 002a FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6350              	.LVL366:
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6351              		.loc 1 3150 6 discriminator 2 view .LVU2112
 6352 002e 18B1     		cbz	r0, .L433
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
ARM GAS  /tmp/ccA9MgmD.s 			page 217


 6353              		.loc 1 3152 5 is_stmt 1 view .LVU2113
 6354 0030 636D     		ldr	r3, [r4, #84]
 6355 0032 43F04003 		orr	r3, r3, #64
 6356 0036 6365     		str	r3, [r4, #84]
 6357              	.L433:
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6358              		.loc 1 3156 3 view .LVU2114
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6359              		.loc 1 3156 11 is_stmt 0 view .LVU2115
 6360 0038 A36C     		ldr	r3, [r4, #72]
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6361              		.loc 1 3156 6 view .LVU2116
 6362 003a 0BB1     		cbz	r3, .L434
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6363              		.loc 1 3158 5 is_stmt 1 view .LVU2117
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6364              		.loc 1 3158 21 is_stmt 0 view .LVU2118
 6365 003c 5B6B     		ldr	r3, [r3, #52]
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6366              		.loc 1 3158 8 view .LVU2119
 6367 003e ABB9     		cbnz	r3, .L432
 6368              	.L434:
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6369              		.loc 1 3165 3 is_stmt 1 view .LVU2120
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6370              		.loc 1 3165 21 is_stmt 0 view .LVU2121
 6371 0040 0023     		movs	r3, #0
 6372 0042 E387     		strh	r3, [r4, #62]	@ movhi
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6373              		.loc 1 3166 3 is_stmt 1 view .LVU2122
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6374              		.loc 1 3166 21 is_stmt 0 view .LVU2123
 6375 0044 E386     		strh	r3, [r4, #54]	@ movhi
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6376              		.loc 1 3169 3 is_stmt 1 view .LVU2124
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6377              		.loc 1 3169 11 is_stmt 0 view .LVU2125
 6378 0046 636D     		ldr	r3, [r4, #84]
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6379              		.loc 1 3169 6 view .LVU2126
 6380 0048 402B     		cmp	r3, #64
 6381 004a 01D0     		beq	.L436
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6382              		.loc 1 3172 5 is_stmt 1 view .LVU2127
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6383              		.loc 1 3172 21 is_stmt 0 view .LVU2128
 6384 004c 0023     		movs	r3, #0
 6385 004e 6365     		str	r3, [r4, #84]
 6386              	.L436:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6387              		.loc 1 3176 3 is_stmt 1 view .LVU2129
 6388              	.LBB13:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6389              		.loc 1 3176 3 view .LVU2130
 6390 0050 0023     		movs	r3, #0
 6391 0052 0193     		str	r3, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
ARM GAS  /tmp/ccA9MgmD.s 			page 218


 6392              		.loc 1 3176 3 view .LVU2131
 6393 0054 2368     		ldr	r3, [r4]
 6394 0056 DA68     		ldr	r2, [r3, #12]
 6395 0058 0192     		str	r2, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6396              		.loc 1 3176 3 view .LVU2132
 6397 005a 9B68     		ldr	r3, [r3, #8]
 6398 005c 0193     		str	r3, [sp, #4]
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6399              		.loc 1 3176 3 view .LVU2133
 6400 005e 019B     		ldr	r3, [sp, #4]
 6401              	.LBE13:
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6402              		.loc 1 3176 3 view .LVU2134
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6403              		.loc 1 3179 3 view .LVU2135
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6404              		.loc 1 3179 16 is_stmt 0 view .LVU2136
 6405 0060 0123     		movs	r3, #1
 6406 0062 84F85130 		strb	r3, [r4, #81]
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6407              		.loc 1 3185 3 is_stmt 1 view .LVU2137
 6408 0066 2046     		mov	r0, r4
 6409 0068 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6410              	.LVL367:
 6411              	.L432:
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6412              		.loc 1 3187 1 is_stmt 0 view .LVU2138
 6413 006c 02B0     		add	sp, sp, #8
 6414              	.LCFI87:
 6415              		.cfi_def_cfa_offset 8
 6416              		@ sp needed
 6417 006e 10BD     		pop	{r4, pc}
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6418              		.loc 1 3187 1 view .LVU2139
 6419              		.cfi_endproc
 6420              	.LFE103:
 6422              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 6423              		.align	1
 6424              		.syntax unified
 6425              		.thumb
 6426              		.thumb_func
 6428              	SPI_DMATxAbortCallback:
 6429              	.LVL368:
 6430              	.LFB102:
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6431              		.loc 1 3074 1 is_stmt 1 view -0
 6432              		.cfi_startproc
 6433              		@ args = 0, pretend = 0, frame = 8
 6434              		@ frame_needed = 0, uses_anonymous_args = 0
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6435              		.loc 1 3074 1 is_stmt 0 view .LVU2141
 6436 0000 00B5     		push	{lr}
 6437              	.LCFI88:
 6438              		.cfi_def_cfa_offset 4
 6439              		.cfi_offset 14, -4
 6440 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/ccA9MgmD.s 			page 219


 6441              	.LCFI89:
 6442              		.cfi_def_cfa_offset 16
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 6443              		.loc 1 3075 3 is_stmt 1 view .LVU2142
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   __IO uint32_t count;
 6444              		.loc 1 3075 22 is_stmt 0 view .LVU2143
 6445 0004 406A     		ldr	r0, [r0, #36]
 6446              	.LVL369:
3076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6447              		.loc 1 3076 3 is_stmt 1 view .LVU2144
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6448              		.loc 1 3078 3 view .LVU2145
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6449              		.loc 1 3078 7 is_stmt 0 view .LVU2146
 6450 0006 836C     		ldr	r3, [r0, #72]
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 6451              		.loc 1 3078 35 view .LVU2147
 6452 0008 0022     		movs	r2, #0
 6453 000a 5A63     		str	r2, [r3, #52]
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6454              		.loc 1 3079 3 is_stmt 1 view .LVU2148
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6455              		.loc 1 3079 56 is_stmt 0 view .LVU2149
 6456 000c 1C4B     		ldr	r3, .L447
 6457 000e 1B68     		ldr	r3, [r3]
 6458 0010 1C4A     		ldr	r2, .L447+4
 6459 0012 A2FB0323 		umull	r2, r3, r2, r3
 6460 0016 5B0A     		lsrs	r3, r3, #9
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6461              		.loc 1 3079 31 view .LVU2150
 6462 0018 6422     		movs	r2, #100
 6463 001a 02FB03F3 		mul	r3, r2, r3
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6464              		.loc 1 3079 9 view .LVU2151
 6465 001e 0193     		str	r3, [sp, #4]
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6466              		.loc 1 3082 3 is_stmt 1 view .LVU2152
 6467 0020 0268     		ldr	r2, [r0]
 6468 0022 5368     		ldr	r3, [r2, #4]
 6469 0024 23F00203 		bic	r3, r3, #2
 6470 0028 5360     		str	r3, [r2, #4]
 6471              	.L441:
3085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6472              		.loc 1 3085 3 view .LVU2153
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6473              		.loc 1 3087 5 view .LVU2154
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6474              		.loc 1 3087 15 is_stmt 0 view .LVU2155
 6475 002a 019B     		ldr	r3, [sp, #4]
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6476              		.loc 1 3087 8 view .LVU2156
 6477 002c 43B1     		cbz	r3, .L446
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6478              		.loc 1 3092 5 is_stmt 1 view .LVU2157
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 6479              		.loc 1 3092 10 is_stmt 0 view .LVU2158
 6480 002e 019B     		ldr	r3, [sp, #4]
ARM GAS  /tmp/ccA9MgmD.s 			page 220


 6481 0030 013B     		subs	r3, r3, #1
 6482 0032 0193     		str	r3, [sp, #4]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6483              		.loc 1 3093 48 is_stmt 1 view .LVU2159
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6484              		.loc 1 3093 17 is_stmt 0 view .LVU2160
 6485 0034 0368     		ldr	r3, [r0]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6486              		.loc 1 3093 27 view .LVU2161
 6487 0036 9B68     		ldr	r3, [r3, #8]
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6488              		.loc 1 3093 48 view .LVU2162
 6489 0038 13F0020F 		tst	r3, #2
 6490 003c F5D0     		beq	.L441
 6491 003e 03E0     		b	.L440
 6492              	.L446:
3089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****       break;
 6493              		.loc 1 3089 7 is_stmt 1 view .LVU2163
 6494 0040 436D     		ldr	r3, [r0, #84]
 6495 0042 43F04003 		orr	r3, r3, #64
 6496 0046 4365     		str	r3, [r0, #84]
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     }
 6497              		.loc 1 3090 7 view .LVU2164
 6498              	.L440:
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6499              		.loc 1 3096 3 view .LVU2165
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6500              		.loc 1 3096 11 is_stmt 0 view .LVU2166
 6501 0048 C36C     		ldr	r3, [r0, #76]
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6502              		.loc 1 3096 6 view .LVU2167
 6503 004a 0BB1     		cbz	r3, .L442
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6504              		.loc 1 3098 5 is_stmt 1 view .LVU2168
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6505              		.loc 1 3098 21 is_stmt 0 view .LVU2169
 6506 004c 5B6B     		ldr	r3, [r3, #52]
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****     {
 6507              		.loc 1 3098 8 view .LVU2170
 6508 004e A3B9     		cbnz	r3, .L438
 6509              	.L442:
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6510              		.loc 1 3105 3 is_stmt 1 view .LVU2171
3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6511              		.loc 1 3105 21 is_stmt 0 view .LVU2172
 6512 0050 0023     		movs	r3, #0
 6513 0052 C387     		strh	r3, [r0, #62]	@ movhi
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6514              		.loc 1 3106 3 is_stmt 1 view .LVU2173
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6515              		.loc 1 3106 21 is_stmt 0 view .LVU2174
 6516 0054 C386     		strh	r3, [r0, #54]	@ movhi
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6517              		.loc 1 3109 3 is_stmt 1 view .LVU2175
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6518              		.loc 1 3109 11 is_stmt 0 view .LVU2176
 6519 0056 436D     		ldr	r3, [r0, #84]
ARM GAS  /tmp/ccA9MgmD.s 			page 221


3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   {
 6520              		.loc 1 3109 6 view .LVU2177
 6521 0058 402B     		cmp	r3, #64
 6522 005a 01D0     		beq	.L444
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6523              		.loc 1 3112 5 is_stmt 1 view .LVU2178
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   }
 6524              		.loc 1 3112 21 is_stmt 0 view .LVU2179
 6525 005c 0023     		movs	r3, #0
 6526 005e 4365     		str	r3, [r0, #84]
 6527              	.L444:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6528              		.loc 1 3116 3 is_stmt 1 view .LVU2180
 6529              	.LBB14:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6530              		.loc 1 3116 3 view .LVU2181
 6531 0060 0023     		movs	r3, #0
 6532 0062 0093     		str	r3, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6533              		.loc 1 3116 3 view .LVU2182
 6534 0064 0368     		ldr	r3, [r0]
 6535 0066 DA68     		ldr	r2, [r3, #12]
 6536 0068 0092     		str	r2, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6537              		.loc 1 3116 3 view .LVU2183
 6538 006a 9B68     		ldr	r3, [r3, #8]
 6539 006c 0093     		str	r3, [sp]
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6540              		.loc 1 3116 3 view .LVU2184
 6541 006e 009B     		ldr	r3, [sp]
 6542              	.LBE14:
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6543              		.loc 1 3116 3 view .LVU2185
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6544              		.loc 1 3119 3 view .LVU2186
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6545              		.loc 1 3119 16 is_stmt 0 view .LVU2187
 6546 0070 0123     		movs	r3, #1
 6547 0072 80F85130 		strb	r3, [r0, #81]
3125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 6548              		.loc 1 3125 3 is_stmt 1 view .LVU2188
 6549 0076 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6550              	.LVL370:
 6551              	.L438:
3127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6552              		.loc 1 3127 1 is_stmt 0 view .LVU2189
 6553 007a 03B0     		add	sp, sp, #12
 6554              	.LCFI90:
 6555              		.cfi_def_cfa_offset 4
 6556              		@ sp needed
 6557 007c 5DF804FB 		ldr	pc, [sp], #4
 6558              	.L448:
 6559              		.align	2
 6560              	.L447:
 6561 0080 00000000 		.word	SystemCoreClock
 6562 0084 F1197605 		.word	91625969
 6563              		.cfi_endproc
ARM GAS  /tmp/ccA9MgmD.s 			page 222


 6564              	.LFE102:
 6566              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 6567              		.align	1
 6568              		.global	HAL_SPI_GetState
 6569              		.syntax unified
 6570              		.thumb
 6571              		.thumb_func
 6573              	HAL_SPI_GetState:
 6574              	.LVL371:
 6575              	.LFB92:
2692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI handle state */
 6576              		.loc 1 2692 1 is_stmt 1 view -0
 6577              		.cfi_startproc
 6578              		@ args = 0, pretend = 0, frame = 0
 6579              		@ frame_needed = 0, uses_anonymous_args = 0
 6580              		@ link register save eliminated.
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6581              		.loc 1 2694 3 view .LVU2191
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6582              		.loc 1 2694 14 is_stmt 0 view .LVU2192
 6583 0000 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 6584              	.LVL372:
2695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6585              		.loc 1 2695 1 view .LVU2193
 6586 0004 7047     		bx	lr
 6587              		.cfi_endproc
 6588              	.LFE92:
 6590              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 6591              		.align	1
 6592              		.global	HAL_SPI_GetError
 6593              		.syntax unified
 6594              		.thumb
 6595              		.thumb_func
 6597              	HAL_SPI_GetError:
 6598              	.LVL373:
 6599              	.LFB93:
2704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c ****   /* Return SPI ErrorCode */
 6600              		.loc 1 2704 1 is_stmt 1 view -0
 6601              		.cfi_startproc
 6602              		@ args = 0, pretend = 0, frame = 0
 6603              		@ frame_needed = 0, uses_anonymous_args = 0
 6604              		@ link register save eliminated.
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6605              		.loc 1 2706 3 view .LVU2195
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** }
 6606              		.loc 1 2706 14 is_stmt 0 view .LVU2196
 6607 0000 406D     		ldr	r0, [r0, #84]
 6608              	.LVL374:
2707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_spi.c **** 
 6609              		.loc 1 2707 1 view .LVU2197
 6610 0002 7047     		bx	lr
 6611              		.cfi_endproc
 6612              	.LFE93:
 6614              		.text
 6615              	.Letext0:
 6616              		.file 2 "/opt/gcc-arm/arm-none-eabi/include/machine/_default_types.h"
 6617              		.file 3 "/opt/gcc-arm/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccA9MgmD.s 			page 223


 6618              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 6619              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 6620              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 6621              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 6622              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 6623              		.file 9 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 6624              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  /tmp/ccA9MgmD.s 			page 224


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f1xx_hal_spi.c
     /tmp/ccA9MgmD.s:19     .text.SPI_AbortRx_ISR:00000000 $t
     /tmp/ccA9MgmD.s:24     .text.SPI_AbortRx_ISR:00000000 SPI_AbortRx_ISR
     /tmp/ccA9MgmD.s:111    .text.SPI_AbortRx_ISR:00000060 $d
     /tmp/ccA9MgmD.s:117    .text.SPI_AbortTx_ISR:00000000 $t
     /tmp/ccA9MgmD.s:122    .text.SPI_AbortTx_ISR:00000000 SPI_AbortTx_ISR
     /tmp/ccA9MgmD.s:150    .text.SPI_WaitFlagStateUntilTimeout:00000000 $t
     /tmp/ccA9MgmD.s:155    .text.SPI_WaitFlagStateUntilTimeout:00000000 SPI_WaitFlagStateUntilTimeout
     /tmp/ccA9MgmD.s:332    .text.SPI_WaitFlagStateUntilTimeout:000000c4 $d
     /tmp/ccA9MgmD.s:337    .text.SPI_EndRxTxTransaction:00000000 $t
     /tmp/ccA9MgmD.s:342    .text.SPI_EndRxTxTransaction:00000000 SPI_EndRxTxTransaction
     /tmp/ccA9MgmD.s:421    .text.SPI_EndRxTransaction:00000000 $t
     /tmp/ccA9MgmD.s:426    .text.SPI_EndRxTransaction:00000000 SPI_EndRxTransaction
     /tmp/ccA9MgmD.s:541    .text.HAL_SPI_MspInit:00000000 $t
     /tmp/ccA9MgmD.s:547    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
     /tmp/ccA9MgmD.s:562    .text.HAL_SPI_Init:00000000 $t
     /tmp/ccA9MgmD.s:568    .text.HAL_SPI_Init:00000000 HAL_SPI_Init
     /tmp/ccA9MgmD.s:720    .text.HAL_SPI_MspDeInit:00000000 $t
     /tmp/ccA9MgmD.s:726    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
     /tmp/ccA9MgmD.s:741    .text.HAL_SPI_DeInit:00000000 $t
     /tmp/ccA9MgmD.s:747    .text.HAL_SPI_DeInit:00000000 HAL_SPI_DeInit
     /tmp/ccA9MgmD.s:806    .text.HAL_SPI_Transmit:00000000 $t
     /tmp/ccA9MgmD.s:812    .text.HAL_SPI_Transmit:00000000 HAL_SPI_Transmit
     /tmp/ccA9MgmD.s:1218   .text.HAL_SPI_TransmitReceive:00000000 $t
     /tmp/ccA9MgmD.s:1224   .text.HAL_SPI_TransmitReceive:00000000 HAL_SPI_TransmitReceive
     /tmp/ccA9MgmD.s:1824   .text.HAL_SPI_Receive:00000000 $t
     /tmp/ccA9MgmD.s:1830   .text.HAL_SPI_Receive:00000000 HAL_SPI_Receive
     /tmp/ccA9MgmD.s:2178   .text.HAL_SPI_Transmit_IT:00000000 $t
     /tmp/ccA9MgmD.s:2184   .text.HAL_SPI_Transmit_IT:00000000 HAL_SPI_Transmit_IT
     /tmp/ccA9MgmD.s:2365   .text.HAL_SPI_Transmit_IT:0000009c $d
     /tmp/ccA9MgmD.s:4512   .text.SPI_TxISR_16BIT:00000000 SPI_TxISR_16BIT
     /tmp/ccA9MgmD.s:4450   .text.SPI_TxISR_8BIT:00000000 SPI_TxISR_8BIT
     /tmp/ccA9MgmD.s:2371   .text.HAL_SPI_TransmitReceive_IT:00000000 $t
     /tmp/ccA9MgmD.s:2377   .text.HAL_SPI_TransmitReceive_IT:00000000 HAL_SPI_TransmitReceive_IT
     /tmp/ccA9MgmD.s:2583   .text.HAL_SPI_TransmitReceive_IT:000000b4 $d
     /tmp/ccA9MgmD.s:5189   .text.SPI_2linesRxISR_16BIT:00000000 SPI_2linesRxISR_16BIT
     /tmp/ccA9MgmD.s:5116   .text.SPI_2linesTxISR_16BIT:00000000 SPI_2linesTxISR_16BIT
     /tmp/ccA9MgmD.s:5043   .text.SPI_2linesRxISR_8BIT:00000000 SPI_2linesRxISR_8BIT
     /tmp/ccA9MgmD.s:4970   .text.SPI_2linesTxISR_8BIT:00000000 SPI_2linesTxISR_8BIT
     /tmp/ccA9MgmD.s:2591   .text.HAL_SPI_Receive_IT:00000000 $t
     /tmp/ccA9MgmD.s:2597   .text.HAL_SPI_Receive_IT:00000000 HAL_SPI_Receive_IT
     /tmp/ccA9MgmD.s:2779   .text.HAL_SPI_Receive_IT:000000d0 $d
     /tmp/ccA9MgmD.s:4737   .text.SPI_RxISR_16BIT:00000000 SPI_RxISR_16BIT
     /tmp/ccA9MgmD.s:4675   .text.SPI_RxISR_8BIT:00000000 SPI_RxISR_8BIT
     /tmp/ccA9MgmD.s:2785   .text.HAL_SPI_Transmit_DMA:00000000 $t
     /tmp/ccA9MgmD.s:2791   .text.HAL_SPI_Transmit_DMA:00000000 HAL_SPI_Transmit_DMA
     /tmp/ccA9MgmD.s:2994   .text.HAL_SPI_Transmit_DMA:000000d4 $d
     /tmp/ccA9MgmD.s:4140   .text.SPI_DMAHalfTransmitCplt:00000000 SPI_DMAHalfTransmitCplt
     /tmp/ccA9MgmD.s:5306   .text.SPI_DMATransmitCplt:00000000 SPI_DMATransmitCplt
     /tmp/ccA9MgmD.s:5262   .text.SPI_DMAError:00000000 SPI_DMAError
     /tmp/ccA9MgmD.s:3001   .text.HAL_SPI_TransmitReceive_DMA:00000000 $t
     /tmp/ccA9MgmD.s:3007   .text.HAL_SPI_TransmitReceive_DMA:00000000 HAL_SPI_TransmitReceive_DMA
     /tmp/ccA9MgmD.s:3315   .text.HAL_SPI_TransmitReceive_DMA:00000148 $d
     /tmp/ccA9MgmD.s:4246   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 SPI_DMAHalfTransmitReceiveCplt
     /tmp/ccA9MgmD.s:5550   .text.SPI_DMATransmitReceiveCplt:00000000 SPI_DMATransmitReceiveCplt
     /tmp/ccA9MgmD.s:4193   .text.SPI_DMAHalfReceiveCplt:00000000 SPI_DMAHalfReceiveCplt
ARM GAS  /tmp/ccA9MgmD.s 			page 225


     /tmp/ccA9MgmD.s:5433   .text.SPI_DMAReceiveCplt:00000000 SPI_DMAReceiveCplt
     /tmp/ccA9MgmD.s:3324   .text.HAL_SPI_Receive_DMA:00000000 $t
     /tmp/ccA9MgmD.s:3330   .text.HAL_SPI_Receive_DMA:00000000 HAL_SPI_Receive_DMA
     /tmp/ccA9MgmD.s:3555   .text.HAL_SPI_Receive_DMA:000000f0 $d
     /tmp/ccA9MgmD.s:3562   .text.HAL_SPI_Abort:00000000 $t
     /tmp/ccA9MgmD.s:3568   .text.HAL_SPI_Abort:00000000 HAL_SPI_Abort
     /tmp/ccA9MgmD.s:3852   .text.HAL_SPI_Abort:00000128 $d
     /tmp/ccA9MgmD.s:3860   .text.HAL_SPI_DMAPause:00000000 $t
     /tmp/ccA9MgmD.s:3866   .text.HAL_SPI_DMAPause:00000000 HAL_SPI_DMAPause
     /tmp/ccA9MgmD.s:3910   .text.HAL_SPI_DMAResume:00000000 $t
     /tmp/ccA9MgmD.s:3916   .text.HAL_SPI_DMAResume:00000000 HAL_SPI_DMAResume
     /tmp/ccA9MgmD.s:3960   .text.HAL_SPI_DMAStop:00000000 $t
     /tmp/ccA9MgmD.s:3966   .text.HAL_SPI_DMAStop:00000000 HAL_SPI_DMAStop
     /tmp/ccA9MgmD.s:4051   .text.HAL_SPI_TxCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4057   .text.HAL_SPI_TxCpltCallback:00000000 HAL_SPI_TxCpltCallback
     /tmp/ccA9MgmD.s:4072   .text.HAL_SPI_RxCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4078   .text.HAL_SPI_RxCpltCallback:00000000 HAL_SPI_RxCpltCallback
     /tmp/ccA9MgmD.s:4093   .text.HAL_SPI_TxRxCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4099   .text.HAL_SPI_TxRxCpltCallback:00000000 HAL_SPI_TxRxCpltCallback
     /tmp/ccA9MgmD.s:4114   .text.HAL_SPI_TxHalfCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4120   .text.HAL_SPI_TxHalfCpltCallback:00000000 HAL_SPI_TxHalfCpltCallback
     /tmp/ccA9MgmD.s:4135   .text.SPI_DMAHalfTransmitCplt:00000000 $t
     /tmp/ccA9MgmD.s:4167   .text.HAL_SPI_RxHalfCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4173   .text.HAL_SPI_RxHalfCpltCallback:00000000 HAL_SPI_RxHalfCpltCallback
     /tmp/ccA9MgmD.s:4188   .text.SPI_DMAHalfReceiveCplt:00000000 $t
     /tmp/ccA9MgmD.s:4220   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:4226   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 HAL_SPI_TxRxHalfCpltCallback
     /tmp/ccA9MgmD.s:4241   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 $t
     /tmp/ccA9MgmD.s:4273   .text.HAL_SPI_ErrorCallback:00000000 $t
     /tmp/ccA9MgmD.s:4279   .text.HAL_SPI_ErrorCallback:00000000 HAL_SPI_ErrorCallback
     /tmp/ccA9MgmD.s:4294   .text.SPI_CloseTx_ISR:00000000 $t
     /tmp/ccA9MgmD.s:4299   .text.SPI_CloseTx_ISR:00000000 SPI_CloseTx_ISR
     /tmp/ccA9MgmD.s:4439   .text.SPI_CloseTx_ISR:00000088 $d
     /tmp/ccA9MgmD.s:4445   .text.SPI_TxISR_8BIT:00000000 $t
     /tmp/ccA9MgmD.s:4507   .text.SPI_TxISR_16BIT:00000000 $t
     /tmp/ccA9MgmD.s:4569   .text.SPI_CloseRx_ISR:00000000 $t
     /tmp/ccA9MgmD.s:4574   .text.SPI_CloseRx_ISR:00000000 SPI_CloseRx_ISR
     /tmp/ccA9MgmD.s:4670   .text.SPI_RxISR_8BIT:00000000 $t
     /tmp/ccA9MgmD.s:4732   .text.SPI_RxISR_16BIT:00000000 $t
     /tmp/ccA9MgmD.s:4794   .text.SPI_CloseRxTx_ISR:00000000 $t
     /tmp/ccA9MgmD.s:4799   .text.SPI_CloseRxTx_ISR:00000000 SPI_CloseRxTx_ISR
     /tmp/ccA9MgmD.s:4959   .text.SPI_CloseRxTx_ISR:000000a4 $d
     /tmp/ccA9MgmD.s:4965   .text.SPI_2linesTxISR_8BIT:00000000 $t
     /tmp/ccA9MgmD.s:5038   .text.SPI_2linesRxISR_8BIT:00000000 $t
     /tmp/ccA9MgmD.s:5111   .text.SPI_2linesTxISR_16BIT:00000000 $t
     /tmp/ccA9MgmD.s:5184   .text.SPI_2linesRxISR_16BIT:00000000 $t
     /tmp/ccA9MgmD.s:5257   .text.SPI_DMAError:00000000 $t
     /tmp/ccA9MgmD.s:5301   .text.SPI_DMATransmitCplt:00000000 $t
     /tmp/ccA9MgmD.s:5428   .text.SPI_DMAReceiveCplt:00000000 $t
     /tmp/ccA9MgmD.s:5545   .text.SPI_DMATransmitReceiveCplt:00000000 $t
     /tmp/ccA9MgmD.s:5645   .text.HAL_SPI_IRQHandler:00000000 $t
     /tmp/ccA9MgmD.s:5651   .text.HAL_SPI_IRQHandler:00000000 HAL_SPI_IRQHandler
     /tmp/ccA9MgmD.s:5895   .text.HAL_SPI_IRQHandler:00000100 $d
     /tmp/ccA9MgmD.s:5905   .text.SPI_DMAAbortOnError:00000000 SPI_DMAAbortOnError
     /tmp/ccA9MgmD.s:5900   .text.SPI_DMAAbortOnError:00000000 $t
     /tmp/ccA9MgmD.s:5938   .text.HAL_SPI_AbortCpltCallback:00000000 $t
     /tmp/ccA9MgmD.s:5944   .text.HAL_SPI_AbortCpltCallback:00000000 HAL_SPI_AbortCpltCallback
ARM GAS  /tmp/ccA9MgmD.s 			page 226


     /tmp/ccA9MgmD.s:5959   .text.HAL_SPI_Abort_IT:00000000 $t
     /tmp/ccA9MgmD.s:5965   .text.HAL_SPI_Abort_IT:00000000 HAL_SPI_Abort_IT
     /tmp/ccA9MgmD.s:6289   .text.HAL_SPI_Abort_IT:00000138 $d
     /tmp/ccA9MgmD.s:6428   .text.SPI_DMATxAbortCallback:00000000 SPI_DMATxAbortCallback
     /tmp/ccA9MgmD.s:6304   .text.SPI_DMARxAbortCallback:00000000 SPI_DMARxAbortCallback
     /tmp/ccA9MgmD.s:6299   .text.SPI_DMARxAbortCallback:00000000 $t
     /tmp/ccA9MgmD.s:6423   .text.SPI_DMATxAbortCallback:00000000 $t
     /tmp/ccA9MgmD.s:6561   .text.SPI_DMATxAbortCallback:00000080 $d
     /tmp/ccA9MgmD.s:6567   .text.HAL_SPI_GetState:00000000 $t
     /tmp/ccA9MgmD.s:6573   .text.HAL_SPI_GetState:00000000 HAL_SPI_GetState
     /tmp/ccA9MgmD.s:6591   .text.HAL_SPI_GetError:00000000 $t
     /tmp/ccA9MgmD.s:6597   .text.HAL_SPI_GetError:00000000 HAL_SPI_GetError

UNDEFINED SYMBOLS
SystemCoreClock
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
HAL_DMA_Abort_IT
