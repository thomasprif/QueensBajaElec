ARM GAS  /tmp/ccc896J6.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ff.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
  18              		.section	.text.mem_cpy,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	mem_cpy:
  25              	.LVL0:
  26              	.LFB65:
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - FAT file system module  R0.11                 (C)ChaN, 2015
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is a free software that opened under license policy of
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / following conditions.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2015, ChaN, all right reserved.
   8:Middlewares/Third_Party/FatFs/src/ff.c **** /
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  11:Middlewares/Third_Party/FatFs/src/ff.c **** /
  12:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  13:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 26,'06 R0.00  Prototype.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /
  19:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 29,'06 R0.01  First stable version.
  20:Middlewares/Third_Party/FatFs/src/ff.c **** /
  21:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 01,'06 R0.02  Added FAT12 support.
  22:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Removed unbuffered mode.
  23:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a problem on small (<32M) partition.
  24:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 10,'06 R0.02a Added a configuration option (_FS_MINIMUM).
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /
  26:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 22,'06 R0.03  Added f_rename().
  27:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option _FS_MINIMUM to _FS_MINIMIZE.
  28:Middlewares/Third_Party/FatFs/src/ff.c **** / Dec 11,'06 R0.03a Improved cluster scan algorithm to write files fast.
  29:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() creates incorrect directory on FAT32.
  30:Middlewares/Third_Party/FatFs/src/ff.c **** /
  31:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 04,'07 R0.04  Supported multiple drive system.
  32:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some interfaces for multiple drive system.
ARM GAS  /tmp/ccc896J6.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_mountdrv() to f_mount().
  34:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_mkfs().
  35:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'07 R0.04a Supported multiple partitions on a physical drive.
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a capability of extending file size to f_lseek().
  37:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added minimization level 3.
  38:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed an endian sensitive code in f_mkfs().
  39:Middlewares/Third_Party/FatFs/src/ff.c **** / May 05,'07 R0.04b Added a configuration option _USE_NTFLAG.
  40:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added FSINFO support.
  41:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed DBCS name can result FR_INVALID_NAME.
  42:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed short seek (<= csize) collapses the file object.
  43:Middlewares/Third_Party/FatFs/src/ff.c **** /
  44:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 25,'07 R0.05  Changed arguments of f_read(), f_write() and f_mkfs().
  45:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() on FAT32 creates incorrect FSINFO.
  46:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() on FAT32 creates incorrect directory.
  47:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 03,'08 R0.05a Added f_truncate() and f_utime().
  48:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed off by one error at FAT sub-type determination.
  49:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed btr in f_read() can be mistruncated.
  50:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed cached sector is not flushed when create and close without write.
  51:Middlewares/Third_Party/FatFs/src/ff.c **** /
  52:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'08 R0.06  Added fputc(), fputs(), fprintf() and fgets().
  53:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved performance of f_lseek() on moving to the same or following cluster.
  54:Middlewares/Third_Party/FatFs/src/ff.c **** /
  55:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'09 R0.07  Merged Tiny-FatFs as a configuration option. (_FS_TINY)
  56:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added long file name feature.
  57:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple code page feature.
  58:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added re-entrancy for multitask operation.
  59:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added auto cluster size selection to f_mkfs().
  60:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added rewind option to f_readdir().
  61:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed result code of critical errors.
  62:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Renamed string functions to avoid name collision.
  63:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 14,'09 R0.07a Separated out OS dependent code on reentrant cfg.
  64:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple sector size feature.
  65:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 21,'09 R0.07c Fixed f_unlink() can return FR_OK on error.
  66:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed wrong cache control in f_lseek().
  67:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added relative path feature.
  68:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_chdir() and f_chdrive().
  69:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added proper case conversion to extended character.
  70:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov 03,'09 R0.07e Separated out configuration options from ff.h to ffconf.h.
  71:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() fails to remove a sub-directory on _FS_RPATH.
  72:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed name matching error on the 13 character boundary.
  73:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option, _LFN_UNICODE.
  74:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_readdir() to return the SFN with always upper case on non-LFN cfg.
  75:Middlewares/Third_Party/FatFs/src/ff.c **** /
  76:Middlewares/Third_Party/FatFs/src/ff.c **** / May 15,'10 R0.08  Added a memory configuration option. (_USE_LFN = 3)
  77:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added file lock feature. (_FS_SHARE)
  78:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added fast seek feature. (_USE_FASTSEEK)
  79:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some types on the API, XCHAR->TCHAR.
  80:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed .fname in the FILINFO structure on Unicode cfg.
  81:Middlewares/Third_Party/FatFs/src/ff.c **** /                   String functions support UTF-8 encoding files on Unicode cfg.
  82:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 16,'10 R0.08a Added f_getcwd().
  83:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added sector erase feature. (_USE_ERASE)
  84:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Moved file lock semaphore table from fs object to the bss.
  85:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a wrong directory entry is created on non-LFN cfg when the given name con
  86:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() creates wrong FAT32 volume.
  87:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'11 R0.08b Fast seek feature is also applied to f_read() and f_write().
  88:Middlewares/Third_Party/FatFs/src/ff.c **** /                   f_lseek() reports required table size on creating CLMP.
  89:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Extended format syntax of f_printf().
ARM GAS  /tmp/ccc896J6.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Ignores duplicated directory separators in given path name.
  91:Middlewares/Third_Party/FatFs/src/ff.c **** /
  92:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 06,'11 R0.09  f_mkfs() supports multiple partition to complete the multiple partition feature
  93:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_fdisk().
  94:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 27,'12 R0.09a Changed f_open() and f_opendir() reject null object pointer to avoid crash.
  95:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option name _FS_SHARE to _FS_LOCK.
  96:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed assertion failure due to OS/2 EA on FAT12/16 volume.
  97:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 24,'13 R0.09b Added f_setlabel() and f_getlabel().
  98:Middlewares/Third_Party/FatFs/src/ff.c **** /
  99:Middlewares/Third_Party/FatFs/src/ff.c **** / Oct 02,'13 R0.10  Added selection of character encoding on the file. (_STRF_ENCODE)
 100:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_closedir().
 101:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced full FAT scan for f_getfree(). (_FS_NOFSINFO)
 102:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced mount feature with changes of f_mount().
 103:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved behavior of volume auto detection.
 104:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved write throughput of f_puts() and f_printf().
 105:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed argument of f_chdrive(), f_mkfs(), disk_read() and disk_write().
 106:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_write() can be truncated when the file size is close to 4GB.
 107:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_open(), f_mkdir() and f_setlabel() can return incorrect error code.
 108:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'14 R0.10a Added arbitrary strings as drive number in the path name. (_STR_VOLUME_ID)
 109:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option of minimum sector size. (_MIN_SS)
 110:Middlewares/Third_Party/FatFs/src/ff.c **** /                   2nd argument of f_rename() can have a drive number and it will be ignored.
 111:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mount() with forced mount fails when drive number is >= 1.
 112:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_close() invalidates the file object without volume lock.
 113:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_closedir() returns but the volume lock is left acquired.
 114:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed creation of an entry with LFN fails on too many SFN collisions.
 115:Middlewares/Third_Party/FatFs/src/ff.c **** / May 19,'14 R0.10b Fixed a hard error in the disk I/O layer can collapse the directory entry.
 116:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed LFN entry is not deleted on delete/rename an object with lossy converted 
 117:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov  9,'14 R0.10c Added a configuration option for the platforms without RTC. (_FS_NORTC)
 118:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed volume label created by Mac OS X cannot be retrieved with f_getlabel(). (
 119:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a potential problem of FAT access that can appear on disk error.
 120:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed null pointer dereference on attempting to delete the root direcotry. (app
 121:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 02,'15 R0.11  Added f_findfirst() and f_findnext(). (_USE_FIND)
 122:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() does not remove cluster chain of the file. (appeared at R0.10c
 123:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed _FS_NORTC option does not work properly. (appeared at R0.10c)
 124:Middlewares/Third_Party/FatFs/src/ff.c **** /---------------------------------------------------------------------------*/
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 
 126:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
 127:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of disk I/O functions */
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 130:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 132:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 134:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 
 136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 32020	/* Revision ID */
 137:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
 138:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** 
 141:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 143:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 144:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 146:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
ARM GAS  /tmp/ccc896J6.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 148:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 149:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 150:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 152:Middlewares/Third_Party/FatFs/src/ff.c **** 
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 
 156:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 157:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 158:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 159:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 160:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 161:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 
 167:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp feature */
 168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 169:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 170:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 171:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 172:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 178:Middlewares/Third_Party/FatFs/src/ff.c **** /* File access control feature */
 179:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 180:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 181:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 182:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 183:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 184:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, directory (0:root) */
 186:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD idx;		/* Object ID 3, directory index */
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 188:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 189:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 
 193:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS extend character conversion table */
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
 198:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
 199:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
 200:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
 201:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
 202:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
 203:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
ARM GAS  /tmp/ccc896J6.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 
 205:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 209:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 210:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
 211:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 
 213:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
 214:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 215:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 216:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
 220:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
 221:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 
 223:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
 224:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 225:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 226:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 227:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 230:Middlewares/Third_Party/FatFs/src/ff.c **** 
 231:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. (OEM) */
 232:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 233:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x9
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 238:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic (OEM) */
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x9
 241:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 
 245:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek (OEM) */
 246:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 247:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96,0xB0,0xB1,0xB2,
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 250:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic (OEM) */
 253:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 254:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x9
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xB5,0xB6,0xB7,
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 259:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Multilingual Latin 1 (OEM) */
 260:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
ARM GAS  /tmp/ccc896J6.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 262:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 263:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 264:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 265:Middlewares/Third_Party/FatFs/src/ff.c **** 
 266:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 (OEM) */
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x9
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF,0xB0,0xB1,0xB2,
 270:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic (OEM) */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x9
 276:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD3,
 278:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish (OEM) */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x9
 283:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 284:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,
 286:Middlewares/Third_Party/FatFs/src/ff.c **** 
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 858	/* Multilingual Latin 1 + Euro (OEM) */
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 290:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 292:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew (OEM) */
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 297:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian (OEM) */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0xB0,0xB1,0xB2,
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 306:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,
 307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 874	/* Thai (OEM, Windows) */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 310:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 312:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 313:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 314:Middlewares/Third_Party/FatFs/src/ff.c **** 
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1250 /* Central Europe (Windows) */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
ARM GAS  /tmp/ccc896J6.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 319:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 320:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 321:Middlewares/Third_Party/FatFs/src/ff.c **** 
 322:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1251 /* Cyrillic (Windows) */
 323:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 324:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x8
 325:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA2,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 326:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 327:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1252 /* Latin 1 (Windows) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 331:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 333:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 334:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1253 /* Greek (Windows) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 339:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 340:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 341:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1254 /* Turkish (Windows) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 346:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 347:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 348:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 349:Middlewares/Third_Party/FatFs/src/ff.c **** 
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1255 /* Hebrew (Windows) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 353:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 354:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 355:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1256 /* Arabic (Windows) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 360:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 361:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 362:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,
 363:Middlewares/Third_Party/FatFs/src/ff.c **** 
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1257 /* Baltic (Windows) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 367:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 368:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 369:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1258 /* Vietnam (OEM, Windows) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 374:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
ARM GAS  /tmp/ccc896J6.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 376:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 377:Middlewares/Third_Party/FatFs/src/ff.c **** 
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot use LFN feature without valid code page.
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 383:Middlewares/Third_Party/FatFs/src/ff.c **** 
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 388:Middlewares/Third_Party/FatFs/src/ff.c **** 
 389:Middlewares/Third_Party/FatFs/src/ff.c **** 
 390:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 392:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 394:Middlewares/Third_Party/FatFs/src/ff.c **** 
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S		/* Code page is DBCS */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** 
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 402:Middlewares/Third_Party/FatFs/src/ff.c **** 
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 408:Middlewares/Third_Party/FatFs/src/ff.c **** 
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** 
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 413:Middlewares/Third_Party/FatFs/src/ff.c **** 
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** 
 416:Middlewares/Third_Party/FatFs/src/ff.c **** 
 417:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of name status byte in fn[] */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** 
 426:Middlewares/Third_Party/FatFs/src/ff.c **** 
 427:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT sub-type boundaries (Differ from specs but correct for real DOS/Windows) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define MIN_FAT16	4086U	/* Minimum number of clusters as FAT16 */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MIN_FAT32	65526U	/* Minimum number of clusters as FAT32 */
 430:Middlewares/Third_Party/FatFs/src/ff.c **** 
 431:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the members in the FAT structures as byte array instead of
 433:Middlewares/Third_Party/FatFs/src/ff.c **** / structure member because the structure is not binary compatible between
 434:Middlewares/Third_Party/FatFs/src/ff.c **** / different platforms */
 435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_jmpBoot			0		/* x86 jump instruction (3) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (2) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (1) */
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (2) */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FAT copies (1) */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Number of root directory entries for FAT12/16 (2) */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size [sector] (2) */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor (1) */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size [sector] (2) */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size [sector] (2) */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads (2) */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Number of special hidden sectors (4) */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size [sector] (4) */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number (2) */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (1) */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (4) */
 453:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label (8) */
 454:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type (1) */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT size [sector] (4) */
 456:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags		40		/* Extended flags (2) */
 457:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer			42		/* File system version (2) */
 458:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus		44		/* Root directory first cluster (4) */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo			48		/* Offset of FSINFO sector (2) */
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec		50		/* Offset of backup boot sector (2) */
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* Physical drive number (2) */
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* Extended boot signature (1) */
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* Volume serial number (4) */
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* Volume label (8) */
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* File system type (1) */
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FSI: Leading signature (4) */
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FSI: Structure signature (4) */
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FSI: Number of free clusters (4) */
 469:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FSI: Last allocated cluster (4) */
 470:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Partition table offset (2) */
 471:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (2) */
 473:Middlewares/Third_Party/FatFs/src/ff.c **** 
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11) */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (1) */
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (1) */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTimeTenth	13		/* Created time sub-second (1) */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (2) */
 479:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtDate			16		/* Created date (2) */
 480:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (2) */
 481:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (2) */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtTime			22		/* Modified time (2) */
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtDate			24		/* Modified date (2) */
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (2) */
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (4) */
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN entry order and LLE flag (1) */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN attribute (1) */
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN type (1) */
ARM GAS  /tmp/ccc896J6.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* Sum of corresponding SFN entry */
 490:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* Must be zero (0) */
 491:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_DIRE				32		/* Size of a directory entry */
 492:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark at DIR_Name[0] */
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 495:Middlewares/Third_Party/FatFs/src/ff.c **** 
 496:Middlewares/Third_Party/FatFs/src/ff.c **** 
 497:Middlewares/Third_Party/FatFs/src/ff.c **** 
 498:Middlewares/Third_Party/FatFs/src/ff.c **** 
 499:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 500:Middlewares/Third_Party/FatFs/src/ff.c **** /* Module private work area                                   */
 501:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 502:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Uninitialized variables with static duration are
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /  guaranteed zero/null at start-up. If not, either the linker
 504:Middlewares/Third_Party/FatFs/src/ff.c **** /  or start-up routine being used is out of ANSI-C standard.
 505:Middlewares/Third_Party/FatFs/src/ff.c **** */
 506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 9
 508:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 509:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 510:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 
 513:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
 514:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 515:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 518:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 519:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 520:Middlewares/Third_Party/FatFs/src/ff.c **** 
 521:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0			/* Non LFN feature */
 522:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 523:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		(dobj).fn = sfn
 524:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 525:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 526:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 527:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN setting
 528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 529:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1			/* LFN feature with static working buffer */
 530:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = LfnBuf; }
 533:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 534:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 		/* LFN feature with dynamic working buffer on the stack */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR lbuf[_MAX_LFN + 1]
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = lbuf; }
 537:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 		/* LFN feature with dynamic working buffer on the heap */
 539:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR *lfn
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ lfn = ff_memalloc((_MAX_LFN + 1) * 2); if (!lfn) LEAVE_FF((dobj).fs, FR_N
 541:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()			ff_memfree(lfn)
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 543:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** 
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 548:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for extended characters */
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 550:Middlewares/Third_Party/FatFs/src/ff.c **** 
 551:Middlewares/Third_Party/FatFs/src/ff.c **** 
 552:Middlewares/Third_Party/FatFs/src/ff.c **** 
 553:Middlewares/Third_Party/FatFs/src/ff.c **** 
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** 
 556:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 557:Middlewares/Third_Party/FatFs/src/ff.c **** 
 558:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 559:Middlewares/Third_Party/FatFs/src/ff.c **** 
 560:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 561:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (FATFS* fs, DWORD clst);
 562:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (FATFS* fs,	DWORD clst);
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 565:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (FATFS* fs,	DWORD clst,	DWORD val);
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 567:Middlewares/Third_Party/FatFs/src/ff.c **** 
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 569:Middlewares/Third_Party/FatFs/src/ff.c **** static void gen_numname (BYTE* dst, const BYTE* src, const WCHAR* lfn, UINT seq);
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_USE_LFN */
 571:Middlewares/Third_Party/FatFs/src/ff.c **** 
 572:Middlewares/Third_Party/FatFs/src/ff.c **** 
 573:Middlewares/Third_Party/FatFs/src/ff.c **** 
 574:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 575:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 577:Middlewares/Third_Party/FatFs/src/ff.c **** 
 578:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 579:Middlewares/Third_Party/FatFs/src/ff.c **** static
 580:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
  27              		.loc 1 580 53 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 581:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  32              		.loc 1 581 2 view .LVU1
 582:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
  33              		.loc 1 582 2 view .LVU2
 583:Middlewares/Third_Party/FatFs/src/ff.c **** 
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #if _WORD_ACCESS == 1
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt >= sizeof (int)) {
 586:Middlewares/Third_Party/FatFs/src/ff.c **** 		*(int*)d = *(int*)s;
 587:Middlewares/Third_Party/FatFs/src/ff.c **** 		d += sizeof (int); s += sizeof (int);
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 		cnt -= sizeof (int);
 589:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  34              		.loc 1 591 2 view .LVU3
  35              		.loc 1 591 8 is_stmt 0 view .LVU4
  36 0000 04E0     		b	.L2
  37              	.LVL1:
ARM GAS  /tmp/ccc896J6.s 			page 12


  38              	.L3:
 592:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  39              		.loc 1 592 3 is_stmt 1 view .LVU5
  40              		.loc 1 592 10 is_stmt 0 view .LVU6
  41 0002 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
  42              	.LVL2:
  43              		.loc 1 592 8 view .LVU7
  44 0006 00F8012B 		strb	r2, [r0], #1
  45              	.LVL3:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  46              		.loc 1 591 12 view .LVU8
  47 000a 1A46     		mov	r2, r3
  48              	.LVL4:
  49              	.L2:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  50              		.loc 1 591 9 is_stmt 1 view .LVU9
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  51              		.loc 1 591 12 is_stmt 0 view .LVU10
  52 000c 531E     		subs	r3, r2, #1
  53              	.LVL5:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  54              		.loc 1 591 9 view .LVU11
  55 000e 002A     		cmp	r2, #0
  56 0010 F7D1     		bne	.L3
 593:Middlewares/Third_Party/FatFs/src/ff.c **** }
  57              		.loc 1 593 1 view .LVU12
  58 0012 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE65:
  62              		.section	.text.mem_set,"ax",%progbits
  63              		.align	1
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	mem_set:
  69              	.LVL6:
  70              	.LFB66:
 594:Middlewares/Third_Party/FatFs/src/ff.c **** 
 595:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory */
 596:Middlewares/Third_Party/FatFs/src/ff.c **** static
 597:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
  71              		.loc 1 597 45 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  76              		.loc 1 598 2 view .LVU14
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  77              		.loc 1 600 2 view .LVU15
  78              		.loc 1 600 8 is_stmt 0 view .LVU16
  79 0000 02E0     		b	.L5
  80              	.LVL7:
  81              	.L6:
 601:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  82              		.loc 1 601 3 is_stmt 1 view .LVU17
ARM GAS  /tmp/ccc896J6.s 			page 13


  83              		.loc 1 601 8 is_stmt 0 view .LVU18
  84 0002 00F8011B 		strb	r1, [r0], #1
  85              	.LVL8:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  86              		.loc 1 600 12 view .LVU19
  87 0006 1A46     		mov	r2, r3
  88              	.LVL9:
  89              	.L5:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  90              		.loc 1 600 9 is_stmt 1 view .LVU20
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  91              		.loc 1 600 12 is_stmt 0 view .LVU21
  92 0008 531E     		subs	r3, r2, #1
  93              	.LVL10:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  94              		.loc 1 600 9 view .LVU22
  95 000a 002A     		cmp	r2, #0
  96 000c F9D1     		bne	.L6
 602:Middlewares/Third_Party/FatFs/src/ff.c **** }
  97              		.loc 1 602 1 view .LVU23
  98 000e 7047     		bx	lr
  99              		.cfi_endproc
 100              	.LFE66:
 102              		.section	.text.mem_cmp,"ax",%progbits
 103              		.align	1
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	mem_cmp:
 109              	.LVL11:
 110              	.LFB67:
 603:Middlewares/Third_Party/FatFs/src/ff.c **** 
 604:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory to memory */
 605:Middlewares/Third_Party/FatFs/src/ff.c **** static
 606:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {
 111              		.loc 1 606 58 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		@ link register save eliminated.
 116              		.loc 1 606 58 is_stmt 0 view .LVU25
 117 0000 10B4     		push	{r4}
 118              	.LCFI0:
 119              		.cfi_def_cfa_offset 4
 120              		.cfi_offset 4, -4
 121 0002 0346     		mov	r3, r0
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 122              		.loc 1 607 2 is_stmt 1 view .LVU26
 123              	.LVL12:
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 124              		.loc 1 608 2 view .LVU27
 609:Middlewares/Third_Party/FatFs/src/ff.c **** 
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 125              		.loc 1 610 2 view .LVU28
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 126              		.loc 1 608 6 is_stmt 0 view .LVU29
 127 0004 0020     		movs	r0, #0
ARM GAS  /tmp/ccc896J6.s 			page 14


 128              	.LVL13:
 129              	.L9:
 130              		.loc 1 610 15 is_stmt 1 discriminator 2 view .LVU30
 131 0006 1446     		mov	r4, r2
 132              		.loc 1 610 12 is_stmt 0 discriminator 2 view .LVU31
 133 0008 013A     		subs	r2, r2, #1
 134              	.LVL14:
 135              		.loc 1 610 15 discriminator 2 view .LVU32
 136 000a 34B1     		cbz	r4, .L7
 137              	.LVL15:
 138              		.loc 1 610 23 discriminator 1 view .LVU33
 139 000c 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 140              	.LVL16:
 141              		.loc 1 610 30 discriminator 1 view .LVU34
 142 0010 11F801CB 		ldrb	ip, [r1], #1	@ zero_extendqisi2
 143              	.LVL17:
 144              		.loc 1 610 15 discriminator 1 view .LVU35
 145 0014 B0EB0C00 		subs	r0, r0, ip
 146              	.LVL18:
 147              		.loc 1 610 15 discriminator 1 view .LVU36
 148 0018 F5D0     		beq	.L9
 149              	.LVL19:
 150              	.L7:
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 612:Middlewares/Third_Party/FatFs/src/ff.c **** }
 151              		.loc 1 612 1 view .LVU37
 152 001a 10BC     		pop	{r4}
 153              	.LCFI1:
 154              		.cfi_restore 4
 155              		.cfi_def_cfa_offset 0
 156 001c 7047     		bx	lr
 157              		.cfi_endproc
 158              	.LFE67:
 160              		.section	.text.chk_chr,"ax",%progbits
 161              		.align	1
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 166              	chk_chr:
 167              	.LVL20:
 168              	.LFB68:
 613:Middlewares/Third_Party/FatFs/src/ff.c **** 
 614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 615:Middlewares/Third_Party/FatFs/src/ff.c **** static
 616:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {
 169              		.loc 1 616 40 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173              		@ link register save eliminated.
 174              		.loc 1 616 40 is_stmt 0 view .LVU39
 175 0000 0346     		mov	r3, r0
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 176              		.loc 1 617 2 is_stmt 1 view .LVU40
 177              		.loc 1 617 8 is_stmt 0 view .LVU41
 178 0002 00E0     		b	.L13
 179              	.LVL21:
ARM GAS  /tmp/ccc896J6.s 			page 15


 180              	.L15:
 181              		.loc 1 617 30 is_stmt 1 discriminator 3 view .LVU42
 182              		.loc 1 617 33 is_stmt 0 discriminator 3 view .LVU43
 183 0004 0133     		adds	r3, r3, #1
 184              	.LVL22:
 185              	.L13:
 186              		.loc 1 617 14 is_stmt 1 discriminator 1 view .LVU44
 187              		.loc 1 617 9 is_stmt 0 discriminator 1 view .LVU45
 188 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 189              		.loc 1 617 14 discriminator 1 view .LVU46
 190 0008 08B1     		cbz	r0, .L14
 191              		.loc 1 617 14 discriminator 2 view .LVU47
 192 000a 8842     		cmp	r0, r1
 193 000c FAD1     		bne	.L15
 194              	.L14:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 195              		.loc 1 618 2 is_stmt 1 view .LVU48
 619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 196              		.loc 1 619 1 is_stmt 0 view .LVU49
 197 000e 7047     		bx	lr
 198              		.cfi_endproc
 199              	.LFE68:
 201              		.section	.text.chk_lock,"ax",%progbits
 202              		.align	1
 203              		.syntax unified
 204              		.thumb
 205              		.thumb_func
 207              	chk_lock:
 208              	.LVL23:
 209              	.LFB69:
 620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 623:Middlewares/Third_Party/FatFs/src/ff.c **** 
 624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 625:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 626:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 627:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 628:Middlewares/Third_Party/FatFs/src/ff.c **** static
 629:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 631:Middlewares/Third_Party/FatFs/src/ff.c **** )
 632:Middlewares/Third_Party/FatFs/src/ff.c **** {
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_req_grant(fs->sobj);
 634:Middlewares/Third_Party/FatFs/src/ff.c **** }
 635:Middlewares/Third_Party/FatFs/src/ff.c **** 
 636:Middlewares/Third_Party/FatFs/src/ff.c **** 
 637:Middlewares/Third_Party/FatFs/src/ff.c **** static
 638:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 641:Middlewares/Third_Party/FatFs/src/ff.c **** )
 642:Middlewares/Third_Party/FatFs/src/ff.c **** {
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs &&
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_NOT_ENABLED &&
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_DRIVE &&
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_OBJECT &&
ARM GAS  /tmp/ccc896J6.s 			page 16


 647:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_TIMEOUT) {
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 649:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 650:Middlewares/Third_Party/FatFs/src/ff.c **** }
 651:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 652:Middlewares/Third_Party/FatFs/src/ff.c **** 
 653:Middlewares/Third_Party/FatFs/src/ff.c **** 
 654:Middlewares/Third_Party/FatFs/src/ff.c **** 
 655:Middlewares/Third_Party/FatFs/src/ff.c **** 
 656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 657:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 658:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 659:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 661:Middlewares/Third_Party/FatFs/src/ff.c **** static
 662:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 665:Middlewares/Third_Party/FatFs/src/ff.c **** )
 666:Middlewares/Third_Party/FatFs/src/ff.c **** {
 210              		.loc 1 666 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              		@ link register save eliminated.
 215              		.loc 1 666 1 is_stmt 0 view .LVU51
 216 0000 30B4     		push	{r4, r5}
 217              	.LCFI2:
 218              		.cfi_def_cfa_offset 8
 219              		.cfi_offset 4, -8
 220              		.cfi_offset 5, -4
 667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 221              		.loc 1 667 2 is_stmt 1 view .LVU52
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 222              		.loc 1 670 2 view .LVU53
 223              	.LVL24:
 224              		.loc 1 670 14 is_stmt 0 view .LVU54
 225 0002 0025     		movs	r5, #0
 226              		.loc 1 670 9 view .LVU55
 227 0004 2B46     		mov	r3, r5
 228              		.loc 1 670 2 view .LVU56
 229 0006 01E0     		b	.L17
 230              	.LVL25:
 231              	.L24:
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->fs &&	 	/* Check if the object matched with an open object */
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 232              		.loc 1 676 7 view .LVU57
 233 0008 0125     		movs	r5, #1
 234              	.LVL26:
 235              	.L18:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
ARM GAS  /tmp/ccc896J6.s 			page 17


 236              		.loc 1 670 34 is_stmt 1 discriminator 2 view .LVU58
 237 000a 0133     		adds	r3, r3, #1
 238              	.LVL27:
 239              	.L17:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 240              		.loc 1 670 21 discriminator 1 view .LVU59
 241 000c 012B     		cmp	r3, #1
 242 000e 1ED8     		bhi	.L19
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 243              		.loc 1 671 3 view .LVU60
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 244              		.loc 1 671 15 is_stmt 0 view .LVU61
 245 0010 03EB4302 		add	r2, r3, r3, lsl #1
 246 0014 1C4C     		ldr	r4, .L33
 247 0016 54F82220 		ldr	r2, [r4, r2, lsl #2]
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 248              		.loc 1 671 6 view .LVU62
 249 001a 002A     		cmp	r2, #0
 250 001c F4D0     		beq	.L24
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 251              		.loc 1 672 4 is_stmt 1 view .LVU63
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 252              		.loc 1 672 25 is_stmt 0 view .LVU64
 253 001e D0F80044 		ldr	r4, [r0, #1024]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 254              		.loc 1 672 7 view .LVU65
 255 0022 A242     		cmp	r2, r4
 256 0024 F1D1     		bne	.L18
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 257              		.loc 1 673 13 view .LVU66
 258 0026 03EB4304 		add	r4, r3, r3, lsl #1
 259 002a 174A     		ldr	r2, .L33
 260 002c 02EB8402 		add	r2, r2, r4, lsl #2
 261 0030 5468     		ldr	r4, [r2, #4]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 262              		.loc 1 673 23 view .LVU67
 263 0032 D0F80824 		ldr	r2, [r0, #1032]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 264              		.loc 1 672 30 discriminator 1 view .LVU68
 265 0036 9442     		cmp	r4, r2
 266 0038 E7D1     		bne	.L18
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 267              		.loc 1 674 13 view .LVU69
 268 003a 03EB4304 		add	r4, r3, r3, lsl #1
 269 003e 124A     		ldr	r2, .L33
 270 0040 02EB8402 		add	r2, r2, r4, lsl #2
 271 0044 1489     		ldrh	r4, [r2, #8]
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 272              		.loc 1 674 23 view .LVU70
 273 0046 B0F80624 		ldrh	r2, [r0, #1030]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 274              		.loc 1 673 32 view .LVU71
 275 004a 9442     		cmp	r4, r2
 276 004c DDD1     		bne	.L18
 277              	.L19:
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccc896J6.s 			page 18


 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK)	/* The object is not opened */
 278              		.loc 1 679 2 is_stmt 1 view .LVU72
 279              		.loc 1 679 5 is_stmt 0 view .LVU73
 280 004e 022B     		cmp	r3, #2
 281 0050 0CD0     		beq	.L30
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 681:Middlewares/Third_Party/FatFs/src/ff.c **** 
 682:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 683:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 282              		.loc 1 683 2 is_stmt 1 view .LVU74
 283              		.loc 1 683 52 is_stmt 0 view .LVU75
 284 0052 B1B9     		cbnz	r1, .L27
 285              		.loc 1 683 25 discriminator 2 view .LVU76
 286 0054 03EB4303 		add	r3, r3, r3, lsl #1
 287              	.LVL28:
 288              		.loc 1 683 25 discriminator 2 view .LVU77
 289 0058 0B4A     		ldr	r2, .L33
 290 005a 02EB8303 		add	r3, r2, r3, lsl #2
 291 005e 5B89     		ldrh	r3, [r3, #10]
 292              		.loc 1 683 14 discriminator 2 view .LVU78
 293 0060 B3F5807F 		cmp	r3, #256
 294 0064 0BD0     		beq	.L31
 295              		.loc 1 683 52 discriminator 4 view .LVU79
 296 0066 0020     		movs	r0, #0
 297              	.LVL29:
 298              	.L23:
 684:Middlewares/Third_Party/FatFs/src/ff.c **** }
 299              		.loc 1 684 1 view .LVU80
 300 0068 30BC     		pop	{r4, r5}
 301              	.LCFI3:
 302              		.cfi_remember_state
 303              		.cfi_restore 5
 304              		.cfi_restore 4
 305              		.cfi_def_cfa_offset 0
 306              	.LVL30:
 307              		.loc 1 684 1 view .LVU81
 308 006a 7047     		bx	lr
 309              	.LVL31:
 310              	.L30:
 311              	.LCFI4:
 312              		.cfi_restore_state
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 313              		.loc 1 680 3 is_stmt 1 view .LVU82
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 314              		.loc 1 680 35 is_stmt 0 view .LVU83
 315 006c 2DB9     		cbnz	r5, .L25
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 316              		.loc 1 680 14 discriminator 2 view .LVU84
 317 006e 0229     		cmp	r1, #2
 318 0070 01D0     		beq	.L32
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 319              		.loc 1 680 35 discriminator 4 view .LVU85
 320 0072 1220     		movs	r0, #18
 321              	.LVL32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 322              		.loc 1 680 35 view .LVU86
 323 0074 F8E7     		b	.L23
ARM GAS  /tmp/ccc896J6.s 			page 19


 324              	.LVL33:
 325              	.L32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 326              		.loc 1 680 35 discriminator 3 view .LVU87
 327 0076 0020     		movs	r0, #0
 328              	.LVL34:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 329              		.loc 1 680 35 discriminator 3 view .LVU88
 330 0078 F6E7     		b	.L23
 331              	.LVL35:
 332              	.L25:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 333              		.loc 1 680 35 discriminator 3 view .LVU89
 334 007a 0020     		movs	r0, #0
 335              	.LVL36:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 336              		.loc 1 680 35 discriminator 3 view .LVU90
 337 007c F4E7     		b	.L23
 338              	.LVL37:
 339              	.L31:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 340              		.loc 1 683 52 discriminator 3 view .LVU91
 341 007e 1020     		movs	r0, #16
 342              	.LVL38:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 343              		.loc 1 683 52 discriminator 3 view .LVU92
 344 0080 F2E7     		b	.L23
 345              	.LVL39:
 346              	.L27:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 347              		.loc 1 683 52 discriminator 3 view .LVU93
 348 0082 1020     		movs	r0, #16
 349              	.LVL40:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 350              		.loc 1 683 52 discriminator 3 view .LVU94
 351 0084 F0E7     		b	.L23
 352              	.L34:
 353 0086 00BF     		.align	2
 354              	.L33:
 355 0088 00000000 		.word	Files
 356              		.cfi_endproc
 357              	.LFE69:
 359              		.section	.text.enq_lock,"ax",%progbits
 360              		.align	1
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 365              	enq_lock:
 366              	.LFB70:
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** static
 688:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** {
 367              		.loc 1 689 1 is_stmt 1 view -0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccc896J6.s 			page 20


 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371              		@ link register save eliminated.
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 372              		.loc 1 690 2 view .LVU96
 691:Middlewares/Third_Party/FatFs/src/ff.c **** 
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 373              		.loc 1 692 2 view .LVU97
 374              	.LVL41:
 375              		.loc 1 692 9 is_stmt 0 view .LVU98
 376 0000 0020     		movs	r0, #0
 377              		.loc 1 692 2 view .LVU99
 378 0002 00E0     		b	.L36
 379              	.LVL42:
 380              	.L38:
 381              		.loc 1 692 44 is_stmt 1 discriminator 4 view .LVU100
 382 0004 0130     		adds	r0, r0, #1
 383              	.LVL43:
 384              	.L36:
 385              		.loc 1 692 27 discriminator 1 view .LVU101
 386 0006 0128     		cmp	r0, #1
 387 0008 06D8     		bhi	.L37
 388              		.loc 1 692 38 is_stmt 0 discriminator 3 view .LVU102
 389 000a 00EB4002 		add	r2, r0, r0, lsl #1
 390 000e 9300     		lsls	r3, r2, #2
 391 0010 034A     		ldr	r2, .L39
 392 0012 D358     		ldr	r3, [r2, r3]
 393              		.loc 1 692 27 discriminator 3 view .LVU103
 394 0014 002B     		cmp	r3, #0
 395 0016 F5D1     		bne	.L38
 396              	.L37:
 693:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 397              		.loc 1 693 2 is_stmt 1 view .LVU104
 694:Middlewares/Third_Party/FatFs/src/ff.c **** }
 398              		.loc 1 694 1 is_stmt 0 view .LVU105
 399 0018 0238     		subs	r0, r0, #2
 400              	.LVL44:
 401              		.loc 1 694 1 view .LVU106
 402 001a 18BF     		it	ne
 403 001c 0120     		movne	r0, #1
 404              	.LVL45:
 405              		.loc 1 694 1 view .LVU107
 406 001e 7047     		bx	lr
 407              	.L40:
 408              		.align	2
 409              	.L39:
 410 0020 00000000 		.word	Files
 411              		.cfi_endproc
 412              	.LFE70:
 414              		.section	.text.inc_lock,"ax",%progbits
 415              		.align	1
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 420              	inc_lock:
 421              	.LVL46:
 422              	.LFB71:
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 21


 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** static
 698:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 701:Middlewares/Third_Party/FatFs/src/ff.c **** )
 702:Middlewares/Third_Party/FatFs/src/ff.c **** {
 423              		.loc 1 702 1 is_stmt 1 view -0
 424              		.cfi_startproc
 425              		@ args = 0, pretend = 0, frame = 0
 426              		@ frame_needed = 0, uses_anonymous_args = 0
 427              		.loc 1 702 1 is_stmt 0 view .LVU109
 428 0000 10B5     		push	{r4, lr}
 429              	.LCFI5:
 430              		.cfi_def_cfa_offset 8
 431              		.cfi_offset 4, -8
 432              		.cfi_offset 14, -4
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 433              		.loc 1 703 2 is_stmt 1 view .LVU110
 704:Middlewares/Third_Party/FatFs/src/ff.c **** 
 705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 434              		.loc 1 706 2 view .LVU111
 435              	.LVL47:
 436              		.loc 1 706 9 is_stmt 0 view .LVU112
 437 0002 0023     		movs	r3, #0
 438              		.loc 1 706 2 view .LVU113
 439 0004 00E0     		b	.L42
 440              	.LVL48:
 441              	.L43:
 442              		.loc 1 706 29 is_stmt 1 discriminator 2 view .LVU114
 443 0006 0133     		adds	r3, r3, #1
 444              	.LVL49:
 445              	.L42:
 446              		.loc 1 706 16 discriminator 1 view .LVU115
 447 0008 012B     		cmp	r3, #1
 448 000a 1CD8     		bhi	.L44
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 449              		.loc 1 707 3 view .LVU116
 450              		.loc 1 707 15 is_stmt 0 view .LVU117
 451 000c 03EB4302 		add	r2, r3, r3, lsl #1
 452 0010 2D4C     		ldr	r4, .L58
 453 0012 54F82240 		ldr	r4, [r4, r2, lsl #2]
 454              		.loc 1 707 24 view .LVU118
 455 0016 D0F80024 		ldr	r2, [r0, #1024]
 456              		.loc 1 707 6 view .LVU119
 457 001a 9442     		cmp	r4, r2
 458 001c F3D1     		bne	.L43
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 459              		.loc 1 708 12 view .LVU120
 460 001e 03EB4304 		add	r4, r3, r3, lsl #1
 461 0022 294A     		ldr	r2, .L58
 462 0024 02EB8402 		add	r2, r2, r4, lsl #2
 463 0028 5468     		ldr	r4, [r2, #4]
 464              		.loc 1 708 22 view .LVU121
 465 002a D0F80824 		ldr	r2, [r0, #1032]
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
ARM GAS  /tmp/ccc896J6.s 			page 22


 466              		.loc 1 707 29 discriminator 1 view .LVU122
 467 002e 9442     		cmp	r4, r2
 468 0030 E9D1     		bne	.L43
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].idx == dp->index) break;
 469              		.loc 1 709 12 view .LVU123
 470 0032 03EB4304 		add	r4, r3, r3, lsl #1
 471 0036 244A     		ldr	r2, .L58
 472 0038 02EB8402 		add	r2, r2, r4, lsl #2
 473 003c 1489     		ldrh	r4, [r2, #8]
 474              		.loc 1 709 22 view .LVU124
 475 003e B0F80624 		ldrh	r2, [r0, #1030]
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 476              		.loc 1 708 31 view .LVU125
 477 0042 9442     		cmp	r4, r2
 478 0044 DFD1     		bne	.L43
 479              	.L44:
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 
 712:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 480              		.loc 1 712 2 is_stmt 1 view .LVU126
 481              		.loc 1 712 5 is_stmt 0 view .LVU127
 482 0046 022B     		cmp	r3, #2
 483 0048 0AD0     		beq	.L57
 484              	.LVL50:
 485              	.L47:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 486              		.loc 1 721 2 is_stmt 1 view .LVU128
 487              		.loc 1 721 5 is_stmt 0 view .LVU129
 488 004a 41B3     		cbz	r1, .L51
 489              		.loc 1 721 21 discriminator 1 view .LVU130
 490 004c 03EB4301 		add	r1, r3, r3, lsl #1
 491              	.LVL51:
 492              		.loc 1 721 21 discriminator 1 view .LVU131
 493 0050 1D4A     		ldr	r2, .L58
 494 0052 02EB8102 		add	r2, r2, r1, lsl #2
 495 0056 5289     		ldrh	r2, [r2, #10]
 496              		.loc 1 721 10 discriminator 1 view .LVU132
 497 0058 9ABB     		cbnz	r2, .L55
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 498              		.loc 1 723 15 discriminator 2 view .LVU133
 499 005a 4FF48072 		mov	r2, #256
 500 005e 26E0     		b	.L52
 501              	.LVL52:
 502              	.L57:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 503              		.loc 1 713 10 view .LVU134
 504 0060 0023     		movs	r3, #0
 505              	.LVL53:
ARM GAS  /tmp/ccc896J6.s 			page 23


 506              	.L46:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 507              		.loc 1 713 28 is_stmt 1 discriminator 1 view .LVU135
 508 0062 012B     		cmp	r3, #1
 509 0064 07D8     		bhi	.L48
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 510              		.loc 1 713 39 is_stmt 0 discriminator 3 view .LVU136
 511 0066 03EB4302 		add	r2, r3, r3, lsl #1
 512 006a 174C     		ldr	r4, .L58
 513 006c 54F82220 		ldr	r2, [r4, r2, lsl #2]
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 514              		.loc 1 713 28 discriminator 3 view .LVU137
 515 0070 0AB1     		cbz	r2, .L48
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 516              		.loc 1 713 45 is_stmt 1 discriminator 4 view .LVU138
 517 0072 0133     		adds	r3, r3, #1
 518              	.LVL54:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 519              		.loc 1 713 45 is_stmt 0 discriminator 4 view .LVU139
 520 0074 F5E7     		b	.L46
 521              	.L48:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 522              		.loc 1 714 3 is_stmt 1 view .LVU140
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 523              		.loc 1 714 6 is_stmt 0 view .LVU141
 524 0076 022B     		cmp	r3, #2
 525 0078 21D0     		beq	.L54
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 526              		.loc 1 715 3 is_stmt 1 view .LVU142
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 527              		.loc 1 715 15 is_stmt 0 view .LVU143
 528 007a 134C     		ldr	r4, .L58
 529 007c 03EB430C 		add	ip, r3, r3, lsl #1
 530 0080 04EB8C02 		add	r2, r4, ip, lsl #2
 531 0084 D0F800E4 		ldr	lr, [r0, #1024]
 532 0088 44F82CE0 		str	lr, [r4, ip, lsl #2]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 533              		.loc 1 716 3 is_stmt 1 view .LVU144
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 534              		.loc 1 716 20 is_stmt 0 view .LVU145
 535 008c D0F80844 		ldr	r4, [r0, #1032]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 536              		.loc 1 716 16 view .LVU146
 537 0090 5460     		str	r4, [r2, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 538              		.loc 1 717 3 is_stmt 1 view .LVU147
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 539              		.loc 1 717 20 is_stmt 0 view .LVU148
 540 0092 B0F80604 		ldrh	r0, [r0, #1030]
 541              	.LVL55:
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 542              		.loc 1 717 16 view .LVU149
 543 0096 1081     		strh	r0, [r2, #8]	@ movhi
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 544              		.loc 1 718 3 is_stmt 1 view .LVU150
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 545              		.loc 1 718 16 is_stmt 0 view .LVU151
ARM GAS  /tmp/ccc896J6.s 			page 24


 546 0098 0020     		movs	r0, #0
 547 009a 5081     		strh	r0, [r2, #10]	@ movhi
 548 009c D5E7     		b	.L47
 549              	.L51:
 550              		.loc 1 723 39 discriminator 1 view .LVU152
 551 009e 03EB4301 		add	r1, r3, r3, lsl #1
 552              	.LVL56:
 553              		.loc 1 723 39 discriminator 1 view .LVU153
 554 00a2 094A     		ldr	r2, .L58
 555 00a4 02EB8102 		add	r2, r2, r1, lsl #2
 556 00a8 5289     		ldrh	r2, [r2, #10]
 557              		.loc 1 723 15 discriminator 1 view .LVU154
 558 00aa 0132     		adds	r2, r2, #1
 559 00ac 92B2     		uxth	r2, r2
 560              	.L52:
 561              		.loc 1 723 15 discriminator 4 view .LVU155
 562 00ae 03EB4300 		add	r0, r3, r3, lsl #1
 563 00b2 0549     		ldr	r1, .L58
 564 00b4 01EB8001 		add	r1, r1, r0, lsl #2
 565 00b8 4A81     		strh	r2, [r1, #10]	@ movhi
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 
 725:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 566              		.loc 1 725 2 is_stmt 1 view .LVU156
 567              		.loc 1 725 11 is_stmt 0 view .LVU157
 568 00ba 581C     		adds	r0, r3, #1
 569              	.L41:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** }
 570              		.loc 1 726 1 view .LVU158
 571 00bc 10BD     		pop	{r4, pc}
 572              	.LVL57:
 573              	.L54:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 574              		.loc 1 714 29 discriminator 1 view .LVU159
 575 00be 0020     		movs	r0, #0
 576              	.LVL58:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 577              		.loc 1 714 29 discriminator 1 view .LVU160
 578 00c0 FCE7     		b	.L41
 579              	.LVL59:
 580              	.L55:
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 
 581              		.loc 1 721 34 discriminator 2 view .LVU161
 582 00c2 0020     		movs	r0, #0
 583 00c4 FAE7     		b	.L41
 584              	.L59:
 585 00c6 00BF     		.align	2
 586              	.L58:
 587 00c8 00000000 		.word	Files
 588              		.cfi_endproc
 589              	.LFE71:
 591              		.section	.text.dec_lock,"ax",%progbits
 592              		.align	1
 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 597              	dec_lock:
 598              	.LVL60:
ARM GAS  /tmp/ccc896J6.s 			page 25


 599              	.LFB72:
 727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 728:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729:Middlewares/Third_Party/FatFs/src/ff.c **** static
 730:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 732:Middlewares/Third_Party/FatFs/src/ff.c **** )
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 600              		.loc 1 733 1 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 0
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604              		@ link register save eliminated.
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 605              		.loc 1 734 2 view .LVU163
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 606              		.loc 1 735 2 view .LVU164
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** 
 738:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 607              		.loc 1 738 2 view .LVU165
 608              		.loc 1 738 5 is_stmt 0 view .LVU166
 609 0000 0138     		subs	r0, r0, #1
 610              	.LVL61:
 611              		.loc 1 738 5 view .LVU167
 612 0002 0128     		cmp	r0, #1
 613 0004 1BD8     		bhi	.L64
 739:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 614              		.loc 1 739 3 is_stmt 1 view .LVU168
 615              		.loc 1 739 5 is_stmt 0 view .LVU169
 616 0006 00EB4002 		add	r2, r0, r0, lsl #1
 617 000a 0F4B     		ldr	r3, .L67
 618 000c 03EB8203 		add	r3, r3, r2, lsl #2
 619 0010 5B89     		ldrh	r3, [r3, #10]
 620              	.LVL62:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 621              		.loc 1 740 3 is_stmt 1 view .LVU170
 622              		.loc 1 740 6 is_stmt 0 view .LVU171
 623 0012 B3F5807F 		cmp	r3, #256
 624 0016 03D0     		beq	.L65
 741:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n) n--;					/* Decrement read mode open count */
 625              		.loc 1 741 3 is_stmt 1 view .LVU172
 626              		.loc 1 741 6 is_stmt 0 view .LVU173
 627 0018 53B1     		cbz	r3, .L63
 628              		.loc 1 741 10 is_stmt 1 discriminator 1 view .LVU174
 629              		.loc 1 741 11 is_stmt 0 discriminator 1 view .LVU175
 630 001a 013B     		subs	r3, r3, #1
 631              	.LVL63:
 632              		.loc 1 741 11 discriminator 1 view .LVU176
 633 001c 9BB2     		uxth	r3, r3
 634              	.LVL64:
 635              		.loc 1 741 11 discriminator 1 view .LVU177
 636 001e 00E0     		b	.L62
 637              	.L65:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 638              		.loc 1 740 21 discriminator 1 view .LVU178
 639 0020 0023     		movs	r3, #0
ARM GAS  /tmp/ccc896J6.s 			page 26


 640              	.LVL65:
 641              	.L62:
 742:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 642              		.loc 1 742 3 is_stmt 1 view .LVU179
 643              		.loc 1 742 16 is_stmt 0 view .LVU180
 644 0022 00EB4001 		add	r1, r0, r0, lsl #1
 645 0026 084A     		ldr	r2, .L67
 646 0028 02EB8102 		add	r2, r2, r1, lsl #2
 647 002c 5381     		strh	r3, [r2, #10]	@ movhi
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!n) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 648              		.loc 1 743 3 is_stmt 1 view .LVU181
 649              		.loc 1 743 6 is_stmt 0 view .LVU182
 650 002e 43B9     		cbnz	r3, .L66
 651              	.L63:
 652              	.LVL66:
 653              		.loc 1 743 11 is_stmt 1 discriminator 1 view .LVU183
 654              		.loc 1 743 23 is_stmt 0 discriminator 1 view .LVU184
 655 0030 00EB4000 		add	r0, r0, r0, lsl #1
 656              	.LVL67:
 657              		.loc 1 743 23 discriminator 1 view .LVU185
 658 0034 8300     		lsls	r3, r0, #2
 659 0036 0020     		movs	r0, #0
 660 0038 034A     		ldr	r2, .L67
 661 003a D050     		str	r0, [r2, r3]
 662 003c 7047     		bx	lr
 663              	.LVL68:
 664              	.L64:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 745:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 665              		.loc 1 746 7 view .LVU186
 666 003e 0220     		movs	r0, #2
 667              	.LVL69:
 668              		.loc 1 746 7 view .LVU187
 669 0040 7047     		bx	lr
 670              	.LVL70:
 671              	.L66:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 672              		.loc 1 744 7 view .LVU188
 673 0042 0020     		movs	r0, #0
 674              	.LVL71:
 747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 675              		.loc 1 748 2 is_stmt 1 view .LVU189
 749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 676              		.loc 1 749 1 is_stmt 0 view .LVU190
 677 0044 7047     		bx	lr
 678              	.L68:
 679 0046 00BF     		.align	2
 680              	.L67:
 681 0048 00000000 		.word	Files
 682              		.cfi_endproc
 683              	.LFE72:
 685              		.section	.text.clear_lock,"ax",%progbits
 686              		.align	1
 687              		.syntax unified
 688              		.thumb
ARM GAS  /tmp/ccc896J6.s 			page 27


 689              		.thumb_func
 691              	clear_lock:
 692              	.LVL72:
 693              	.LFB73:
 750:Middlewares/Third_Party/FatFs/src/ff.c **** 
 751:Middlewares/Third_Party/FatFs/src/ff.c **** 
 752:Middlewares/Third_Party/FatFs/src/ff.c **** static
 753:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 755:Middlewares/Third_Party/FatFs/src/ff.c **** )
 756:Middlewares/Third_Party/FatFs/src/ff.c **** {
 694              		.loc 1 756 1 is_stmt 1 view -0
 695              		.cfi_startproc
 696              		@ args = 0, pretend = 0, frame = 0
 697              		@ frame_needed = 0, uses_anonymous_args = 0
 698              		@ link register save eliminated.
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 699              		.loc 1 757 2 view .LVU192
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 700              		.loc 1 759 2 view .LVU193
 701              		.loc 1 759 9 is_stmt 0 view .LVU194
 702 0000 0023     		movs	r3, #0
 703              		.loc 1 759 2 view .LVU195
 704 0002 02E0     		b	.L74
 705              	.LVL73:
 706              	.L81:
 707              	.LCFI6:
 708              		.cfi_def_cfa_offset 4
 709              		.cfi_offset 4, -4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 710              		.loc 1 762 1 view .LVU196
 711 0004 10BC     		pop	{r4}
 712              	.LCFI7:
 713              		.cfi_restore 4
 714              		.cfi_def_cfa_offset 0
 715 0006 7047     		bx	lr
 716              	.L80:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 717              		.loc 1 759 29 is_stmt 1 discriminator 2 view .LVU197
 718 0008 0133     		adds	r3, r3, #1
 719              	.LVL74:
 720              	.L74:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 721              		.loc 1 759 16 discriminator 1 view .LVU198
 722 000a 012B     		cmp	r3, #1
 723 000c 17D8     		bhi	.L79
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 724              		.loc 1 760 3 view .LVU199
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 725              		.loc 1 760 15 is_stmt 0 view .LVU200
 726 000e 03EB4302 		add	r2, r3, r3, lsl #1
 727 0012 0B49     		ldr	r1, .L82
 728 0014 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
ARM GAS  /tmp/ccc896J6.s 			page 28


 729              		.loc 1 760 6 view .LVU201
 730 0018 8242     		cmp	r2, r0
 731 001a F5D1     		bne	.L80
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 732              		.loc 1 756 1 view .LVU202
 733 001c 10B4     		push	{r4}
 734              	.LCFI8:
 735              		.cfi_def_cfa_offset 4
 736              		.cfi_offset 4, -4
 737              	.L75:
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 738              		.loc 1 760 26 is_stmt 1 discriminator 1 view .LVU203
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 739              		.loc 1 760 38 is_stmt 0 discriminator 1 view .LVU204
 740 001e 03EB4302 		add	r2, r3, r3, lsl #1
 741 0022 9200     		lsls	r2, r2, #2
 742 0024 0024     		movs	r4, #0
 743 0026 8C50     		str	r4, [r1, r2]
 744              	.L71:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 745              		.loc 1 759 29 is_stmt 1 discriminator 2 view .LVU205
 746 0028 0133     		adds	r3, r3, #1
 747              	.LVL75:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 748              		.loc 1 759 16 discriminator 1 view .LVU206
 749 002a 012B     		cmp	r3, #1
 750 002c EAD8     		bhi	.L81
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 751              		.loc 1 760 3 view .LVU207
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 752              		.loc 1 760 15 is_stmt 0 view .LVU208
 753 002e 03EB4302 		add	r2, r3, r3, lsl #1
 754 0032 0349     		ldr	r1, .L82
 755 0034 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 756              		.loc 1 760 6 view .LVU209
 757 0038 8242     		cmp	r2, r0
 758 003a F5D1     		bne	.L71
 759 003c EFE7     		b	.L75
 760              	.L79:
 761              	.LCFI9:
 762              		.cfi_def_cfa_offset 0
 763              		.cfi_restore 4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 764              		.loc 1 760 6 view .LVU210
 765 003e 7047     		bx	lr
 766              	.L83:
 767              		.align	2
 768              	.L82:
 769 0040 00000000 		.word	Files
 770              		.cfi_endproc
 771              	.LFE73:
 773              		.section	.text.clmt_clust,"ax",%progbits
 774              		.align	1
 775              		.syntax unified
 776              		.thumb
 777              		.thumb_func
ARM GAS  /tmp/ccc896J6.s 			page 29


 779              	clmt_clust:
 780              	.LVL76:
 781              	.LFB82:
 763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** 
 766:Middlewares/Third_Party/FatFs/src/ff.c **** 
 767:Middlewares/Third_Party/FatFs/src/ff.c **** 
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 771:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 772:Middlewares/Third_Party/FatFs/src/ff.c **** static
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 774:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 775:Middlewares/Third_Party/FatFs/src/ff.c **** )
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 794:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 798:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 
 801:Middlewares/Third_Party/FatFs/src/ff.c **** static
 802:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 804:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector	/* Sector number to make appearance in the fs->win[].d8 */
 805:Middlewares/Third_Party/FatFs/src/ff.c **** )
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 808:Middlewares/Third_Party/FatFs/src/ff.c **** 
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
ARM GAS  /tmp/ccc896J6.s 			page 30


 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 
 828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 829:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 830:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 831:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 832:Middlewares/Third_Party/FatFs/src/ff.c **** static
 833:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK: successful, FR_DISK_ERR: failed */
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 835:Middlewares/Third_Party/FatFs/src/ff.c **** )
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 842:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 863:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 
 865:Middlewares/Third_Party/FatFs/src/ff.c **** 
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 
 868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 871:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 873:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
ARM GAS  /tmp/ccc896J6.s 			page 31


 874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 876:Middlewares/Third_Party/FatFs/src/ff.c **** )
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 882:Middlewares/Third_Party/FatFs/src/ff.c **** 
 883:Middlewares/Third_Party/FatFs/src/ff.c **** 
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 
 885:Middlewares/Third_Party/FatFs/src/ff.c **** 
 886:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 887:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 888:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 889:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x0FFFFFFF:Cluster status */
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* FAT index number (cluster number) to get the value */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** )
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 908:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 915:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 
 923:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
ARM GAS  /tmp/ccc896J6.s 			page 32


 931:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** 
 939:Middlewares/Third_Party/FatFs/src/ff.c **** 
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
 942:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 943:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 944:Middlewares/Third_Party/FatFs/src/ff.c **** 
 945:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 946:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* FAT index number (cluster number) to be changed */
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val	/* New value to be set to the entry */
 950:Middlewares/Third_Party/FatFs/src/ff.c **** )
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
ARM GAS  /tmp/ccc896J6.s 			page 33


 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 		default :
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INT_ERR;
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 996:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 997:Middlewares/Third_Party/FatFs/src/ff.c **** 
 998:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
1000:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1001:Middlewares/Third_Party/FatFs/src/ff.c **** 
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 
1004:Middlewares/Third_Party/FatFs/src/ff.c **** 
1005:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1006:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1007:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1009:Middlewares/Third_Party/FatFs/src/ff.c **** static
1010:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to remove a chain from */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** )
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1017:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst, rt[2];
1019:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1037:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				ecl = nxt;
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* End of contiguous clusters */ 
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[0] = clust2sect(fs, scl);					/* Start sector */
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Erase the block */
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = ecl = nxt;
ARM GAS  /tmp/ccc896J6.s 			page 34


1045:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = nxt;	/* Next cluster */
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
1053:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 
1058:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1059:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch or Create a cluster chain                      */
1060:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1061:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1062:Middlewares/Third_Party/FatFs/src/ff.c **** static
1063:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch. 0 means create a new chain. */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** )
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
1075:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1076:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {					/* Stretch the current chain */
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	ncl = scl;				/* Start cluster */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccc896J6.s 			page 35


1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error code */
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
1114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** 
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 
1117:Middlewares/Third_Party/FatFs/src/ff.c **** 
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 
1119:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1120:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1121:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 
1123:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1124:Middlewares/Third_Party/FatFs/src/ff.c **** static
1125:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File offset to be converted to cluster# */
1128:Middlewares/Third_Party/FatFs/src/ff.c **** )
1129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 782              		.loc 1 1129 1 is_stmt 1 view -0
 783              		.cfi_startproc
 784              		@ args = 0, pretend = 0, frame = 0
 785              		@ frame_needed = 0, uses_anonymous_args = 0
 786              		@ link register save eliminated.
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 787              		.loc 1 1130 2 view .LVU212
1131:Middlewares/Third_Party/FatFs/src/ff.c **** 
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 788              		.loc 1 1133 2 view .LVU213
 789              		.loc 1 1133 10 is_stmt 0 view .LVU214
 790 0000 D0F82434 		ldr	r3, [r0, #1060]
 791              		.loc 1 1133 6 view .LVU215
 792 0004 0433     		adds	r3, r3, #4
 793              	.LVL77:
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ofs / SS(fp->fs) / fp->fs->csize;	/* Cluster order from top of the file */
 794              		.loc 1 1134 2 is_stmt 1 view .LVU216
 795              		.loc 1 1134 13 is_stmt 0 view .LVU217
 796 0006 D0F80024 		ldr	r2, [r0, #1024]
 797 000a B2F80A04 		ldrh	r0, [r2, #1034]
 798              	.LVL78:
 799              		.loc 1 1134 11 view .LVU218
 800 000e B1FBF0F1 		udiv	r1, r1, r0
 801              	.LVL79:
 802              		.loc 1 1134 32 view .LVU219
 803 0012 92F80224 		ldrb	r2, [r2, #1026]	@ zero_extendqisi2
 804              		.loc 1 1134 5 view .LVU220
 805 0016 B1FBF2F1 		udiv	r1, r1, r2
ARM GAS  /tmp/ccc896J6.s 			page 36


 806 001a 01E0     		b	.L87
 807              	.LVL80:
 808              	.L88:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 809              		.loc 1 1139 3 is_stmt 1 view .LVU221
 810              		.loc 1 1139 6 is_stmt 0 view .LVU222
 811 001c 091A     		subs	r1, r1, r0
 812              	.LVL81:
 813              		.loc 1 1139 14 is_stmt 1 view .LVU223
 814              		.loc 1 1139 17 is_stmt 0 view .LVU224
 815 001e 0833     		adds	r3, r3, #8
 816              	.LVL82:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 817              		.loc 1 1135 2 is_stmt 1 view .LVU225
 818              	.L87:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 819              		.loc 1 1135 2 view .LVU226
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 820              		.loc 1 1136 3 view .LVU227
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 821              		.loc 1 1136 7 is_stmt 0 view .LVU228
 822 0020 1868     		ldr	r0, [r3]
 823              	.LVL83:
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 824              		.loc 1 1137 3 is_stmt 1 view .LVU229
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 825              		.loc 1 1137 6 is_stmt 0 view .LVU230
 826 0022 18B1     		cbz	r0, .L84
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 827              		.loc 1 1138 3 is_stmt 1 view .LVU231
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 828              		.loc 1 1138 6 is_stmt 0 view .LVU232
 829 0024 8142     		cmp	r1, r0
 830 0026 F9D2     		bcs	.L88
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1141:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 831              		.loc 1 1141 2 is_stmt 1 view .LVU233
 832              		.loc 1 1141 14 is_stmt 0 view .LVU234
 833 0028 5868     		ldr	r0, [r3, #4]
 834              	.LVL84:
 835              		.loc 1 1141 12 view .LVU235
 836 002a 0844     		add	r0, r0, r1
 837              	.L84:
1142:Middlewares/Third_Party/FatFs/src/ff.c **** }
 838              		.loc 1 1142 1 view .LVU236
 839 002c 7047     		bx	lr
 840              		.cfi_endproc
 841              	.LFE82:
 843              		.section	.text.ld_clust,"ax",%progbits
 844              		.align	1
 845              		.syntax unified
 846              		.thumb
 847              		.thumb_func
ARM GAS  /tmp/ccc896J6.s 			page 37


 849              	ld_clust:
 850              	.LVL85:
 851              	.LFB86:
1143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** 
1146:Middlewares/Third_Party/FatFs/src/ff.c **** 
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 
1148:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1149:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1151:Middlewares/Third_Party/FatFs/src/ff.c **** 
1152:Middlewares/Third_Party/FatFs/src/ff.c **** static
1153:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT idx		/* Index of directory table */
1156:Middlewares/Third_Party/FatFs/src/ff.c **** )
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Dynamic table (root-directory in FAT32 or sub-directory) */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
1182:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
1184:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
1192:Middlewares/Third_Party/FatFs/src/ff.c **** 
1193:Middlewares/Third_Party/FatFs/src/ff.c **** 
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 
1196:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccc896J6.s 			page 38


1197:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1198:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** static
1201:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1204:Middlewares/Third_Party/FatFs/src/ff.c **** )
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1208:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT c;
1210:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
1219:Middlewares/Third_Party/FatFs/src/ff.c **** 
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
1223:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
1230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
1246:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT (this is to suppress warni
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_NO_FILE;							/* Report EOT */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1250:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccc896J6.s 			page 39


1254:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
1262:Middlewares/Third_Party/FatFs/src/ff.c **** 
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve directory entry                          */
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1269:Middlewares/Third_Party/FatFs/src/ff.c **** 
1270:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1271:Middlewares/Third_Party/FatFs/src/ff.c **** static
1272:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Pointer to the directory object */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent	/* Number of contiguous entries to allocate (1-21) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 
1280:Middlewares/Third_Party/FatFs/src/ff.c **** 
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1297:Middlewares/Third_Party/FatFs/src/ff.c **** }
1298:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 
1303:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1304:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Load/Store start cluster number                  */
1305:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 
1307:Middlewares/Third_Party/FatFs/src/ff.c **** static
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
1309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir	/* Pointer to the directory entry */
ARM GAS  /tmp/ccc896J6.s 			page 40


1311:Middlewares/Third_Party/FatFs/src/ff.c **** )
1312:Middlewares/Third_Party/FatFs/src/ff.c **** {
 852              		.loc 1 1312 1 is_stmt 1 view -0
 853              		.cfi_startproc
 854              		@ args = 0, pretend = 0, frame = 0
 855              		@ frame_needed = 0, uses_anonymous_args = 0
 856              		@ link register save eliminated.
 857              		.loc 1 1312 1 is_stmt 0 view .LVU238
 858 0000 0246     		mov	r2, r0
1313:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 859              		.loc 1 1313 2 is_stmt 1 view .LVU239
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 860              		.loc 1 1315 2 view .LVU240
 861              		.loc 1 1315 7 is_stmt 0 view .LVU241
 862 0002 C87E     		ldrb	r0, [r1, #27]	@ zero_extendqisi2
 863              	.LVL86:
 864              		.loc 1 1315 7 view .LVU242
 865 0004 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 866 0006 43EA0020 		orr	r0, r3, r0, lsl #8
 867              	.LVL87:
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 868              		.loc 1 1316 2 is_stmt 1 view .LVU243
 869              		.loc 1 1316 8 is_stmt 0 view .LVU244
 870 000a 92F80034 		ldrb	r3, [r2, #1024]	@ zero_extendqisi2
 871              		.loc 1 1316 5 view .LVU245
 872 000e 032B     		cmp	r3, #3
 873 0010 00D0     		beq	.L91
 874              	.LVL88:
 875              	.L89:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
1318:Middlewares/Third_Party/FatFs/src/ff.c **** 
1319:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
 876              		.loc 1 1320 1 view .LVU246
 877 0012 7047     		bx	lr
 878              	.LVL89:
 879              	.L91:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 880              		.loc 1 1317 3 is_stmt 1 view .LVU247
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 881              		.loc 1 1317 16 is_stmt 0 view .LVU248
 882 0014 4A7D     		ldrb	r2, [r1, #21]	@ zero_extendqisi2
 883              	.LVL90:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 884              		.loc 1 1317 16 view .LVU249
 885 0016 0B7D     		ldrb	r3, [r1, #20]	@ zero_extendqisi2
 886 0018 43EA0223 		orr	r3, r3, r2, lsl #8
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 887              		.loc 1 1317 6 view .LVU250
 888 001c 40EA0340 		orr	r0, r0, r3, lsl #16
 889              	.LVL91:
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 890              		.loc 1 1319 2 is_stmt 1 view .LVU251
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 891              		.loc 1 1319 9 is_stmt 0 view .LVU252
 892 0020 F7E7     		b	.L89
ARM GAS  /tmp/ccc896J6.s 			page 41


 893              		.cfi_endproc
 894              	.LFE86:
 896              		.section	.text.st_clust,"ax",%progbits
 897              		.align	1
 898              		.syntax unified
 899              		.thumb
 900              		.thumb_func
 902              	st_clust:
 903              	.LVL92:
 904              	.LFB87:
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1324:Middlewares/Third_Party/FatFs/src/ff.c **** static
1325:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1326:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the directory entry */
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** )
1329:Middlewares/Third_Party/FatFs/src/ff.c **** {
 905              		.loc 1 1329 1 is_stmt 1 view -0
 906              		.cfi_startproc
 907              		@ args = 0, pretend = 0, frame = 0
 908              		@ frame_needed = 0, uses_anonymous_args = 0
 909              		@ link register save eliminated.
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 910              		.loc 1 1330 2 view .LVU254
 911 0000 8176     		strb	r1, [r0, #26]
 912              		.loc 1 1330 2 view .LVU255
 913 0002 C1F30723 		ubfx	r3, r1, #8, #8
 914 0006 C376     		strb	r3, [r0, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 915              		.loc 1 1331 2 view .LVU256
 916 0008 C1F30743 		ubfx	r3, r1, #16, #8
 917 000c 0375     		strb	r3, [r0, #20]
 918              		.loc 1 1331 2 view .LVU257
 919 000e 090E     		lsrs	r1, r1, #24
 920              	.LVL93:
 921              		.loc 1 1331 2 is_stmt 0 view .LVU258
 922 0010 4175     		strb	r1, [r0, #21]
1332:Middlewares/Third_Party/FatFs/src/ff.c **** }
 923              		.loc 1 1332 1 view .LVU259
 924 0012 7047     		bx	lr
 925              		.cfi_endproc
 926              	.LFE87:
 928              		.section	.text.get_fileinfo,"ax",%progbits
 929              		.align	1
 930              		.syntax unified
 931              		.thumb
 932              		.thumb_func
 934              	get_fileinfo:
 935              	.LVL94:
 936              	.LFB92:
1333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 42


1338:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1339:Middlewares/Third_Party/FatFs/src/ff.c **** /* LFN handling - Test/Pick/Fit an LFN segment from/to directory entry   */
1340:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1341:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1342:Middlewares/Third_Party/FatFs/src/ff.c **** static
1343:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** static
1347:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (			/* 1:Matched, 0:Not matched */
1348:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN to be compared */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry containing a part of LFN */
1350:Middlewares/Third_Party/FatFs/src/ff.c **** )
1351:Middlewares/Third_Party/FatFs/src/ff.c **** {
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1354:Middlewares/Third_Party/FatFs/src/ff.c **** 
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Get offset in the LFN buffer */
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);	/* Pick an LFN character from the entry */
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = ff_wtoupper(uc);		/* Convert it to upper case */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || wc != ff_wtoupper(lfnbuf[i++]))	/* Compare it */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;				/* Not matched */
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;	/* Check filler */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);				/* Repeat until all characters in the entry are checked */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i])	/* Last segment matched but different length */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;						/* The part of LFN matched */
1373:Middlewares/Third_Party/FatFs/src/ff.c **** }
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 
1377:Middlewares/Third_Party/FatFs/src/ff.c **** static
1378:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:Succeeded, 0:Buffer overflow */
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the Unicode-LFN buffer */
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** )
1382:Middlewares/Third_Party/FatFs/src/ff.c **** {
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);		/* Pick an LFN character from the entry */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
ARM GAS  /tmp/ccc896J6.s 			page 43


1395:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1398:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);						/* Read all character in the entry */
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
1406:Middlewares/Third_Party/FatFs/src/ff.c **** }
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 
1409:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1410:Middlewares/Third_Party/FatFs/src/ff.c **** static
1411:Middlewares/Third_Party/FatFs/src/ff.c **** void fit_lfn (
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN buffer */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,				/* Pointer to the directory entry */
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,				/* LFN order (1-20) */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum				/* SFN sum */
1416:Middlewares/Third_Party/FatFs/src/ff.c **** )
1417:Middlewares/Third_Party/FatFs/src/ff.c **** {
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set check sum */
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + LDIR_FstClusLO, 0);
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN buffer */
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1429:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfnbuf[i++];	/* Get an effective character */
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(dir+LfnOfs[s], wc);	/* Put it */
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!wc) wc = 0xFFFF;		/* Padding characters following last character */
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1434:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfnbuf[i]) ord |= LLEF;	/* Bottom LFN part is the start of LFN sequence */
1435:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1436:Middlewares/Third_Party/FatFs/src/ff.c **** }
1437:Middlewares/Third_Party/FatFs/src/ff.c **** 
1438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1439:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1440:Middlewares/Third_Party/FatFs/src/ff.c **** 
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 
1443:Middlewares/Third_Party/FatFs/src/ff.c **** 
1444:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1445:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create numbered name                                                  */
1446:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1447:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1448:Middlewares/Third_Party/FatFs/src/ff.c **** static
1449:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
ARM GAS  /tmp/ccc896J6.s 			page 44


1452:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** )
1455:Middlewares/Third_Party/FatFs/src/ff.c **** {
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1458:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1460:Middlewares/Third_Party/FatFs/src/ff.c **** 
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* On many collisions, generate a hash number instead of sequential number */
1465:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1466:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1469:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1470:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1473:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (seq % 16) + '0';
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1497:Middlewares/Third_Party/FatFs/src/ff.c **** }
1498:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 
1503:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1504:Middlewares/Third_Party/FatFs/src/ff.c **** /* Calculate sum of an SFN                                               */
1505:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1506:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1507:Middlewares/Third_Party/FatFs/src/ff.c **** static
1508:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
ARM GAS  /tmp/ccc896J6.s 			page 45


1509:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1510:Middlewares/Third_Party/FatFs/src/ff.c **** )
1511:Middlewares/Third_Party/FatFs/src/ff.c **** {
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1514:Middlewares/Third_Party/FatFs/src/ff.c **** 
1515:Middlewares/Third_Party/FatFs/src/ff.c **** 	do sum = (sum >> 1) + (sum << 7) + *dir++; while (--n);
1516:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1517:Middlewares/Third_Party/FatFs/src/ff.c **** }
1518:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1519:Middlewares/Third_Party/FatFs/src/ff.c **** 
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 
1522:Middlewares/Third_Party/FatFs/src/ff.c **** 
1523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1524:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
1525:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1526:Middlewares/Third_Party/FatFs/src/ff.c **** 
1527:Middlewares/Third_Party/FatFs/src/ff.c **** static
1528:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object linked to the file name */
1530:Middlewares/Third_Party/FatFs/src/ff.c **** )
1531:Middlewares/Third_Party/FatFs/src/ff.c **** {
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
1534:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
1536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 
1541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->lfn) {
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dir[LDIR_Chksum];
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= ~LLEF; ord = c;	/* LFN start order */
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lfn_idx = dp->index;	/* Start index of LFN */
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dir[LDIR_Chksum] && cmp_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1564:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
ARM GAS  /tmp/ccc896J6.s 			page 46


1566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dir)) break;	/* LFN matched? */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dir, dp->fn, 11)) break;	/* SFN matched? */
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1571:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1574:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1579:Middlewares/Third_Party/FatFs/src/ff.c **** }
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** 
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
1598:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || (!_FS_RPATH && c == '.') || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF;
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c & LLEF) {			/* Is it start of LFN sequence? */
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 					sum = dir[LDIR_Chksum];
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 					c &= ~LLEF; ord = c;
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = dp->index;
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* Check LFN validity and capture it */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = (c == ord && sum == dir[LDIR_Chksum] && pick_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ord || sum != sum_sfn(dir))	/* Is there a valid LFN? */
1622:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = 0xFFFF;		/* It has no LFN. */
ARM GAS  /tmp/ccc896J6.s 			page 47


1623:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1626:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
1628:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1629:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
1635:Middlewares/Third_Party/FatFs/src/ff.c **** 
1636:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
1638:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 
1643:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1644:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
1645:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1646:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1647:Middlewares/Third_Party/FatFs/src/ff.c **** static
1648:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:Successful, FR_DENIED:No free entry or too many SFN collision, FR_D
1649:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
1650:Middlewares/Third_Party/FatFs/src/ff.c **** )
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nent;
1655:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], *fn, sum;
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR *lfn;
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	fn = dp->fn; lfn = dp->lfn;
1660:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, fn, 12);
1661:Middlewares/Third_Party/FatFs/src/ff.c **** 
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_RPATH && (sn[NSFLAG] & NS_DOT))		/* Cannot create dot entry */
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_NAME;
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
1666:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = 0; dp->lfn = 0;			/* Find only SFN */
1667:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
1668:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(fn, sn, lfn, n);	/* Generate a numbered name */
1669:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
1670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
1673:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
1674:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = sn[NSFLAG]; dp->lfn = lfn;
1675:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1676:Middlewares/Third_Party/FatFs/src/ff.c **** 
1677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LFN) {			/* When LFN is to be created, allocate entries for an SFN + LFNs. */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; lfn[n]; n++) ;
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (n + 25) / 13;
ARM GAS  /tmp/ccc896J6.s 			page 48


1680:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {						/* Otherwise allocate an entry for an SFN  */
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = 1;
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->index - nent);
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Sum value of the SFN tied to the LFN */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(dp->fs, dp->sect);
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 				fit_lfn(dp->lfn, dp->dir, (BYTE)nent, sum);
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->fs->wflag = 1;
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1698:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
1700:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {				/* Set SFN entry */
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
1707:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1708:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
1709:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1711:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1712:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1713:Middlewares/Third_Party/FatFs/src/ff.c **** 
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
1716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1717:Middlewares/Third_Party/FatFs/src/ff.c **** 
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1722:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && !_FS_MINIMIZE
1725:Middlewares/Third_Party/FatFs/src/ff.c **** static
1726:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK: Successful, FR_DISK_ERR: A disk error */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** )
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1731:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index;	/* SFN index */
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, (dp->lfn_idx == 0xFFFF) ? i : dp->lfn_idx);	/* Goto the SFN or top of the LFN en
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/ccc896J6.s 			page 49


1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1742:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1743:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->index >= i) break;	/* When reached SFN, all entries of the object has been deleted. */
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);		/* Next entry */
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
1747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1748:Middlewares/Third_Party/FatFs/src/ff.c **** 
1749:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1757:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1759:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
1763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 
1768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
1770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1771:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1772:Middlewares/Third_Party/FatFs/src/ff.c **** static
1773:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** )
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 937              		.loc 1 1777 1 is_stmt 1 view -0
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 0
 940              		@ frame_needed = 0, uses_anonymous_args = 0
 941              		@ link register save eliminated.
1778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 942              		.loc 1 1778 2 view .LVU261
1779:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *p, c;
 943              		.loc 1 1779 2 view .LVU262
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 944              		.loc 1 1780 2 view .LVU263
1781:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1784:Middlewares/Third_Party/FatFs/src/ff.c **** 
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
ARM GAS  /tmp/ccc896J6.s 			page 50


 945              		.loc 1 1785 2 view .LVU264
 946              		.loc 1 1785 4 is_stmt 0 view .LVU265
 947 0000 01F10902 		add	r2, r1, #9
 948              	.LVL95:
1786:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->sect) {		/* Get SFN */
 949              		.loc 1 1786 2 is_stmt 1 view .LVU266
 950              		.loc 1 1786 8 is_stmt 0 view .LVU267
 951 0004 D0F81034 		ldr	r3, [r0, #1040]
 952              		.loc 1 1786 5 view .LVU268
 953 0008 002B     		cmp	r3, #0
 954 000a 33D0     		beq	.L102
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 955              		.loc 1 1777 1 view .LVU269
 956 000c 10B4     		push	{r4}
 957              	.LCFI10:
 958              		.cfi_def_cfa_offset 4
 959              		.cfi_offset 4, -4
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;
 960              		.loc 1 1787 3 is_stmt 1 view .LVU270
 961              		.loc 1 1787 7 is_stmt 0 view .LVU271
 962 000e D0F81444 		ldr	r4, [r0, #1044]
 963              	.LVL96:
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 964              		.loc 1 1788 3 is_stmt 1 view .LVU272
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
 965              		.loc 1 1789 3 view .LVU273
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 966              		.loc 1 1788 5 is_stmt 0 view .LVU274
 967 0012 0023     		movs	r3, #0
 968              		.loc 1 1789 9 view .LVU275
 969 0014 04E0     		b	.L95
 970              	.LVL97:
 971              	.L97:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == ' ') continue;				/* Skip padding spaces */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 972              		.loc 1 1793 4 is_stmt 1 view .LVU276
 973              		.loc 1 1793 7 is_stmt 0 view .LVU277
 974 0016 0928     		cmp	r0, #9
 975 0018 0CD0     		beq	.L105
 976              	.L98:
1794:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1795:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dir[DIR_NTres] & (i >= 9 ? NS_EXT : NS_BODY)))
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
1797:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dir[i]))
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = c << 8 | dir[i++];
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ff_convert(c, 1);	/* OEM -> Unicode */
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!c) c = '?';
1802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1803:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p++ = c;
 977              		.loc 1 1804 4 is_stmt 1 view .LVU278
 978              	.LVL98:
 979              		.loc 1 1804 9 is_stmt 0 view .LVU279
 980 001a 02F8013B 		strb	r3, [r2], #1
ARM GAS  /tmp/ccc896J6.s 			page 51


 981              	.LVL99:
 982              	.L96:
 983              		.loc 1 1804 6 view .LVU280
 984 001e 0346     		mov	r3, r0
 985              	.LVL100:
 986              	.L95:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 987              		.loc 1 1789 12 is_stmt 1 view .LVU281
 988 0020 0A2B     		cmp	r3, #10
 989 0022 0CD8     		bhi	.L106
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 990              		.loc 1 1790 4 view .LVU282
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 991              		.loc 1 1790 20 is_stmt 0 view .LVU283
 992 0024 581C     		adds	r0, r3, #1
 993              	.LVL101:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 994              		.loc 1 1790 6 view .LVU284
 995 0026 E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 996              	.LVL102:
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 997              		.loc 1 1791 4 is_stmt 1 view .LVU285
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 998              		.loc 1 1791 7 is_stmt 0 view .LVU286
 999 0028 202B     		cmp	r3, #32
 1000 002a F8D0     		beq	.L96
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1001              		.loc 1 1792 4 is_stmt 1 view .LVU287
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1002              		.loc 1 1792 7 is_stmt 0 view .LVU288
 1003 002c 052B     		cmp	r3, #5
 1004 002e F2D1     		bne	.L97
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1005              		.loc 1 1792 22 discriminator 1 view .LVU289
 1006 0030 E523     		movs	r3, #229
 1007              	.LVL103:
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1008              		.loc 1 1792 22 discriminator 1 view .LVU290
 1009 0032 F0E7     		b	.L97
 1010              	.LVL104:
 1011              	.L105:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1012              		.loc 1 1793 16 is_stmt 1 discriminator 1 view .LVU291
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1013              		.loc 1 1793 21 is_stmt 0 discriminator 1 view .LVU292
 1014 0034 4FF02E0C 		mov	ip, #46
 1015 0038 02F801CB 		strb	ip, [r2], #1
 1016              	.LVL105:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1017              		.loc 1 1793 21 discriminator 1 view .LVU293
 1018 003c EDE7     		b	.L98
 1019              	.LVL106:
 1020              	.L106:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
 1021              		.loc 1 1806 3 is_stmt 1 view .LVU294
 1022              		.loc 1 1806 16 is_stmt 0 view .LVU295
ARM GAS  /tmp/ccc896J6.s 			page 52


 1023 003e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1024              	.LVL107:
 1025              		.loc 1 1806 16 view .LVU296
 1026 0040 0B72     		strb	r3, [r1, #8]
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fsize = LD_DWORD(dir + DIR_FileSize);	/* Size */
 1027              		.loc 1 1807 3 is_stmt 1 view .LVU297
 1028              		.loc 1 1807 16 is_stmt 0 view .LVU298
 1029 0042 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 1030 0044 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1031 0046 1B04     		lsls	r3, r3, #16
 1032 0048 43EA0063 		orr	r3, r3, r0, lsl #24
 1033 004c 607F     		ldrb	r0, [r4, #29]	@ zero_extendqisi2
 1034 004e 43EA0023 		orr	r3, r3, r0, lsl #8
 1035 0052 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 1036 0054 0343     		orrs	r3, r3, r0
 1037              		.loc 1 1807 14 view .LVU299
 1038 0056 0B60     		str	r3, [r1]
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fdate = LD_WORD(dir + DIR_WrtDate);	/* Date */
 1039              		.loc 1 1808 3 is_stmt 1 view .LVU300
 1040              		.loc 1 1808 16 is_stmt 0 view .LVU301
 1041 0058 607E     		ldrb	r0, [r4, #25]	@ zero_extendqisi2
 1042 005a 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 1043 005c 43EA0023 		orr	r3, r3, r0, lsl #8
 1044              		.loc 1 1808 14 view .LVU302
 1045 0060 8B80     		strh	r3, [r1, #4]	@ movhi
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->ftime = LD_WORD(dir + DIR_WrtTime);	/* Time */
 1046              		.loc 1 1809 3 is_stmt 1 view .LVU303
 1047              		.loc 1 1809 16 is_stmt 0 view .LVU304
 1048 0062 E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 1049 0064 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1050 0066 43EA0023 		orr	r3, r3, r0, lsl #8
 1051              		.loc 1 1809 14 view .LVU305
 1052 006a CB80     		strh	r3, [r1, #6]	@ movhi
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;		/* Terminate SFN string by a \0 */
 1053              		.loc 1 1811 2 is_stmt 1 view .LVU306
 1054              		.loc 1 1811 5 is_stmt 0 view .LVU307
 1055 006c 0023     		movs	r3, #0
 1056 006e 1370     		strb	r3, [r2]
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 
1813:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fno->lfname) {
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0; p = fno->lfname;
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->sect && fno->lfsize && dp->lfn_idx != 0xFFFF) {	/* Get LFN if available */
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfn = dp->lfn;
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = *lfn++) != 0) {		/* Get an LFN character */
1819:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!w) { i = 0; break; }	/* No LFN if it could not be converted */
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100)	/* Put 1st byte if it is a DBC (always false on SBCS cfg) */
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 					p[i++] = (TCHAR)(w >> 8);
1824:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= fno->lfsize - 1) { i = 0; break; }	/* No LFN if buffer overflow */
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 				p[i++] = (TCHAR)w;
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[i] = 0;	/* Terminate LFN string by a \0 */
ARM GAS  /tmp/ccc896J6.s 			page 53


1830:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1831:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1832:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1057              		.loc 1 1832 1 view .LVU308
 1058 0070 10BC     		pop	{r4}
 1059              	.LCFI11:
 1060              		.cfi_restore 4
 1061              		.cfi_def_cfa_offset 0
 1062              	.LVL108:
 1063              		.loc 1 1832 1 view .LVU309
 1064 0072 7047     		bx	lr
 1065              	.LVL109:
 1066              	.L102:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1067              		.loc 1 1811 2 is_stmt 1 view .LVU310
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1068              		.loc 1 1811 5 is_stmt 0 view .LVU311
 1069 0074 0023     		movs	r3, #0
 1070 0076 1370     		strb	r3, [r2]
 1071 0078 7047     		bx	lr
 1072              		.cfi_endproc
 1073              	.LFE92:
 1075              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 1076              		.align	2
 1077              	.LC0:
 1078 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1078      3A3B3C3D 
 1078      3E3F5B5D 
 1078      7C7F00
 1079              		.section	.text.create_name,"ax",%progbits
 1080              		.align	1
 1081              		.syntax unified
 1082              		.thumb
 1083              		.thumb_func
 1085              	create_name:
 1086              	.LVL110:
 1087              	.LFB93:
1833:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 
1837:Middlewares/Third_Party/FatFs/src/ff.c **** 
1838:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1839:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
1840:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
1842:Middlewares/Third_Party/FatFs/src/ff.c **** static
1843:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
1844:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** )
1846:Middlewares/Third_Party/FatFs/src/ff.c **** {
1847:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1848:Middlewares/Third_Party/FatFs/src/ff.c **** 
1849:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1850:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
1851:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr))		/* Get DBC 2nd byte if needed */
ARM GAS  /tmp/ccc896J6.s 			page 54


1853:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
1856:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1857:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
1859:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
1861:Middlewares/Third_Party/FatFs/src/ff.c **** }
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** static
1865:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* Return value: 0:mismatched, 1:matched */
1866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
1867:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
1870:Middlewares/Third_Party/FatFs/src/ff.c **** )
1871:Middlewares/Third_Party/FatFs/src/ff.c **** {
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
1873:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
1874:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
1888:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
1892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1893:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
1896:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!pc) return 1;		/* Branch matched? (matched at end of both strings) */
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
1902:Middlewares/Third_Party/FatFs/src/ff.c **** }
1903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 
1907:Middlewares/Third_Party/FatFs/src/ff.c **** 
1908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a segment and create the object name in directory form           */
ARM GAS  /tmp/ccc896J6.s 			page 55


1910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1911:Middlewares/Third_Party/FatFs/src/ff.c **** 
1912:Middlewares/Third_Party/FatFs/src/ff.c **** static
1913:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
1916:Middlewares/Third_Party/FatFs/src/ff.c **** )
1917:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1088              		.loc 1 1917 1 is_stmt 1 view -0
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 0
 1091              		@ frame_needed = 0, uses_anonymous_args = 0
 1092              		.loc 1 1917 1 is_stmt 0 view .LVU313
 1093 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1094              	.LCFI12:
 1095              		.cfi_def_cfa_offset 40
 1096              		.cfi_offset 3, -40
 1097              		.cfi_offset 4, -36
 1098              		.cfi_offset 5, -32
 1099              		.cfi_offset 6, -28
 1100              		.cfi_offset 7, -24
 1101              		.cfi_offset 8, -20
 1102              		.cfi_offset 9, -16
 1103              		.cfi_offset 10, -12
 1104              		.cfi_offset 11, -8
 1105              		.cfi_offset 14, -4
 1106 0004 8946     		mov	r9, r1
1918:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1919:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
1920:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
1923:Middlewares/Third_Party/FatFs/src/ff.c **** 
1924:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
1925:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn = dp->lfn;
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = di = 0;
1928:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1929:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ' || w == '/' || w == '\\') break;	/* Break on end of segment */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN)				/* Reject too long name */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1933:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
1938:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b))
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;	/* Reject invalid sequence */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1942:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) /* Reject illegal characters for LFN */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
ARM GAS  /tmp/ccc896J6.s 			page 56


1948:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
1949:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') || /* Is this a dot entry? */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
1959:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Strip trailing spaces and dots */
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!di) return FR_INVALID_NAME;	/* Reject nul string */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** 
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
1970:Middlewares/Third_Party/FatFs/src/ff.c **** 
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
1973:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
1974:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
1975:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** 	b = i = 0; ni = 8;
1978:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
1981:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
1999:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2001:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 57


2005:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* DBC (always false at SBCS cfg) */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2020:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2023:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2024:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2025:Middlewares/Third_Party/FatFs/src/ff.c **** 
2026:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with deleted mark, re
2027:Middlewares/Third_Party/FatFs/src/ff.c **** 
2028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03)	/* Create LFN entry when there are composite capital
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 		cf |= NS_LFN;
2031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2032:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 
2041:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, c, d, *sfn;
 1107              		.loc 1 2042 2 is_stmt 1 view .LVU314
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1108              		.loc 1 2043 2 view .LVU315
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1109              		.loc 1 2044 2 view .LVU316
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 1110              		.loc 1 2047 2 view .LVU317
 1111              		.loc 1 2047 9 is_stmt 0 view .LVU318
 1112 0006 0C68     		ldr	r4, [r1]
 1113              	.LVL111:
 1114              		.loc 1 2047 2 view .LVU319
 1115 0008 00E0     		b	.L108
 1116              	.L109:
 1117              		.loc 1 2047 44 is_stmt 1 discriminator 5 view .LVU320
 1118 000a 0134     		adds	r4, r4, #1
 1119              	.LVL112:
 1120              	.L108:
ARM GAS  /tmp/ccc896J6.s 			page 58


 1121              		.loc 1 2047 28 discriminator 1 view .LVU321
 1122              		.loc 1 2047 18 is_stmt 0 discriminator 1 view .LVU322
 1123 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1124              		.loc 1 2047 28 discriminator 1 view .LVU323
 1125 000e 2F2B     		cmp	r3, #47
 1126 0010 FBD0     		beq	.L109
 1127              		.loc 1 2047 28 discriminator 4 view .LVU324
 1128 0012 5C2B     		cmp	r3, #92
 1129 0014 F9D0     		beq	.L109
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
 1130              		.loc 1 2048 2 is_stmt 1 view .LVU325
 1131              		.loc 1 2048 6 is_stmt 0 view .LVU326
 1132 0016 D0F818A4 		ldr	r10, [r0, #1048]
 1133              	.LVL113:
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1134              		.loc 1 2049 2 is_stmt 1 view .LVU327
 1135 001a 0B22     		movs	r2, #11
 1136 001c 2021     		movs	r1, #32
 1137              	.LVL114:
 1138              		.loc 1 2049 2 is_stmt 0 view .LVU328
 1139 001e 5046     		mov	r0, r10
 1140              	.LVL115:
 1141              		.loc 1 2049 2 view .LVU329
 1142 0020 FFF7FEFF 		bl	mem_set
 1143              	.LVL116:
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 1144              		.loc 1 2050 2 is_stmt 1 view .LVU330
 1145              		.loc 1 2050 18 view .LVU331
 1146              		.loc 1 2050 9 is_stmt 0 view .LVU332
 1147 0024 0026     		movs	r6, #0
 1148              		.loc 1 2050 5 view .LVU333
 1149 0026 3346     		mov	r3, r6
 1150              		.loc 1 2050 21 view .LVU334
 1151 0028 4FF00808 		mov	r8, #8
 1152              		.loc 1 2050 13 view .LVU335
 1153 002c 3746     		mov	r7, r6
 1154 002e 19E0     		b	.L110
 1155              	.LVL117:
 1156              	.L131:
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2052:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2054:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2056:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2059:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = &p[si];									/* Return pointer to the next segment */
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of path */
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
ARM GAS  /tmp/ccc896J6.s 			page 59


2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1157              		.loc 1 2069 4 is_stmt 1 view .LVU336
 1158              		.loc 1 2069 11 view .LVU337
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1159              		.loc 1 2070 4 view .LVU338
 1160              		.loc 1 2070 6 is_stmt 0 view .LVU339
 1161 0030 BF00     		lsls	r7, r7, #2
 1162              	.LVL118:
 1163              		.loc 1 2070 6 view .LVU340
 1164 0032 FFB2     		uxtb	r7, r7
 1165              	.LVL119:
 1166              		.loc 1 2070 13 is_stmt 1 view .LVU341
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1167              		.loc 1 2069 6 is_stmt 0 view .LVU342
 1168 0034 4646     		mov	r6, r8
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1169              		.loc 1 2069 14 view .LVU343
 1170 0036 4FF00B08 		mov	r8, #11
 1171              		.loc 1 2070 13 view .LVU344
 1172 003a 12E0     		b	.L115
 1173              	.LVL120:
 1174              	.L113:
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 1175              		.loc 1 2072 3 is_stmt 1 view .LVU345
 1176              		.loc 1 2072 6 is_stmt 0 view .LVU346
 1177 003c 15F0800F 		tst	r5, #128
 1178 0040 25D1     		bne	.L130
 1179              	.LVL121:
 1180              	.L116:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
2074:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2076:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2077:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII cfg) */
2079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2080:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 1181              		.loc 1 2082 3 is_stmt 1 view .LVU347
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2084:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1)	/* Reject invalid DBC */
2085:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2086:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2088:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c))	/* Reject illegal chrs for SFN */
 1182              		.loc 1 2089 4 view .LVU348
 1183              		.loc 1 2089 8 is_stmt 0 view .LVU349
 1184 0042 2946     		mov	r1, r5
 1185 0044 3148     		ldr	r0, .L136
 1186 0046 FFF7FEFF 		bl	chk_chr
 1187              	.LVL122:
 1188              		.loc 1 2089 7 discriminator 1 view .LVU350
 1189 004a 0028     		cmp	r0, #0
 1190 004c 5AD1     		bne	.L126
ARM GAS  /tmp/ccc896J6.s 			page 60


2090:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1191              		.loc 1 2091 4 is_stmt 1 view .LVU351
 1192              		.loc 1 2091 8 is_stmt 0 view .LVU352
 1193 004e A5F14103 		sub	r3, r5, #65
 1194 0052 DBB2     		uxtb	r3, r3
 1195              		.loc 1 2091 7 view .LVU353
 1196 0054 192B     		cmp	r3, #25
 1197 0056 20D8     		bhi	.L117
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
 1198              		.loc 1 2092 5 is_stmt 1 view .LVU354
 1199              		.loc 1 2092 7 is_stmt 0 view .LVU355
 1200 0058 47F00207 		orr	r7, r7, #2
 1201              	.LVL123:
 1202              	.L118:
2093:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1203              		.loc 1 2098 4 is_stmt 1 view .LVU356
 1204              		.loc 1 2098 13 is_stmt 0 view .LVU357
 1205 005c 0AF80650 		strb	r5, [r10, r6]
 1206              		.loc 1 2098 9 view .LVU358
 1207 0060 0136     		adds	r6, r6, #1
 1208              	.LVL124:
 1209              	.L115:
 1210              		.loc 1 2098 9 view .LVU359
 1211 0062 5B46     		mov	r3, fp
 1212              	.LVL125:
 1213              	.L110:
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1214              		.loc 1 2064 2 is_stmt 1 view .LVU360
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1215              		.loc 1 2065 3 view .LVU361
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1216              		.loc 1 2065 17 is_stmt 0 view .LVU362
 1217 0064 03F1010B 		add	fp, r3, #1
 1218              	.LVL126:
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1219              		.loc 1 2065 5 view .LVU363
 1220 0068 E55C     		ldrb	r5, [r4, r3]	@ zero_extendqisi2
 1221              	.LVL127:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1222              		.loc 1 2066 3 is_stmt 1 view .LVU364
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1223              		.loc 1 2066 6 is_stmt 0 view .LVU365
 1224 006a 202D     		cmp	r5, #32
 1225 006c 1FD9     		bls	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1226              		.loc 1 2066 16 discriminator 1 view .LVU366
 1227 006e 2F2D     		cmp	r5, #47
 1228 0070 1DD0     		beq	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1229              		.loc 1 2066 28 discriminator 2 view .LVU367
 1230 0072 5C2D     		cmp	r5, #92
ARM GAS  /tmp/ccc896J6.s 			page 61


 1231 0074 1BD0     		beq	.L111
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1232              		.loc 1 2067 3 is_stmt 1 view .LVU368
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1233              		.loc 1 2067 6 is_stmt 0 view .LVU369
 1234 0076 2E2D     		cmp	r5, #46
 1235 0078 01D0     		beq	.L112
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1236              		.loc 1 2067 16 discriminator 1 view .LVU370
 1237 007a B045     		cmp	r8, r6
 1238 007c DED8     		bhi	.L113
 1239              	.L112:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1240              		.loc 1 2068 4 is_stmt 1 view .LVU371
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1241              		.loc 1 2068 7 is_stmt 0 view .LVU372
 1242 007e B8F1080F 		cmp	r8, #8
 1243 0082 3DD1     		bne	.L124
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1244              		.loc 1 2068 16 discriminator 2 view .LVU373
 1245 0084 2E2D     		cmp	r5, #46
 1246 0086 D3D0     		beq	.L131
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1247              		.loc 1 2068 36 discriminator 3 view .LVU374
 1248 0088 0620     		movs	r0, #6
 1249              	.LVL128:
 1250              	.L114:
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2115:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1251              		.loc 1 2115 1 view .LVU375
 1252 008a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1253              	.LVL129:
 1254              	.L130:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1255              		.loc 1 2073 4 is_stmt 1 view .LVU376
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1256              		.loc 1 2073 6 is_stmt 0 view .LVU377
 1257 008e 47F00307 		orr	r7, r7, #3
 1258              	.LVL130:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1259              		.loc 1 2075 4 is_stmt 1 view .LVU378
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccc896J6.s 			page 62


 1260              		.loc 1 2075 16 is_stmt 0 view .LVU379
 1261 0092 803D     		subs	r5, r5, #128
 1262              	.LVL131:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1263              		.loc 1 2075 6 view .LVU380
 1264 0094 1E4B     		ldr	r3, .L136+4
 1265 0096 5D5D     		ldrb	r5, [r3, r5]	@ zero_extendqisi2
 1266              	.LVL132:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1267              		.loc 1 2075 6 view .LVU381
 1268 0098 D3E7     		b	.L116
 1269              	.LVL133:
 1270              	.L117:
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1271              		.loc 1 2094 5 is_stmt 1 view .LVU382
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1272              		.loc 1 2094 9 is_stmt 0 view .LVU383
 1273 009a A5F16103 		sub	r3, r5, #97
 1274 009e DBB2     		uxtb	r3, r3
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1275              		.loc 1 2094 8 view .LVU384
 1276 00a0 192B     		cmp	r3, #25
 1277 00a2 DBD8     		bhi	.L118
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1278              		.loc 1 2095 6 is_stmt 1 view .LVU385
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1279              		.loc 1 2095 8 is_stmt 0 view .LVU386
 1280 00a4 47F00107 		orr	r7, r7, #1
 1281              	.LVL134:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1282              		.loc 1 2095 14 is_stmt 1 view .LVU387
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1283              		.loc 1 2095 16 is_stmt 0 view .LVU388
 1284 00a8 203D     		subs	r5, r5, #32
 1285              	.LVL135:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1286              		.loc 1 2095 16 view .LVU389
 1287 00aa EDB2     		uxtb	r5, r5
 1288              	.LVL136:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1289              		.loc 1 2095 16 view .LVU390
 1290 00ac D6E7     		b	.L118
 1291              	.LVL137:
 1292              	.L111:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1293              		.loc 1 2101 2 is_stmt 1 view .LVU391
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1294              		.loc 1 2101 10 is_stmt 0 view .LVU392
 1295 00ae 5C44     		add	r4, r4, fp
 1296              	.LVL138:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1297              		.loc 1 2101 8 view .LVU393
 1298 00b0 C9F80040 		str	r4, [r9]
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1299              		.loc 1 2102 2 is_stmt 1 view .LVU394
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1300              		.loc 1 2102 4 is_stmt 0 view .LVU395
ARM GAS  /tmp/ccc896J6.s 			page 63


 1301 00b4 202D     		cmp	r5, #32
 1302 00b6 14D8     		bhi	.L127
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1303              		.loc 1 2102 4 discriminator 1 view .LVU396
 1304 00b8 0423     		movs	r3, #4
 1305              	.L119:
 1306              	.LVL139:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1307              		.loc 1 2104 2 is_stmt 1 view .LVU397
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1308              		.loc 1 2104 5 is_stmt 0 view .LVU398
 1309 00ba 2EB3     		cbz	r6, .L128
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1310              		.loc 1 2105 2 is_stmt 1 view .LVU399
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1311              		.loc 1 2105 9 is_stmt 0 view .LVU400
 1312 00bc 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1313              		.loc 1 2105 5 view .LVU401
 1314 00c0 E52A     		cmp	r2, #229
 1315 00c2 10D0     		beq	.L132
 1316              	.L120:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1317              		.loc 1 2107 2 is_stmt 1 view .LVU402
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1318              		.loc 1 2107 5 is_stmt 0 view .LVU403
 1319 00c4 B8F1080F 		cmp	r8, #8
 1320 00c8 11D0     		beq	.L133
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1321              		.loc 1 2108 2 is_stmt 1 view .LVU404
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1322              		.loc 1 2108 5 is_stmt 0 view .LVU405
 1323 00ca 07F00302 		and	r2, r7, #3
 1324 00ce 012A     		cmp	r2, #1
 1325 00d0 10D0     		beq	.L134
 1326              	.LVL140:
 1327              	.L122:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1328              		.loc 1 2109 2 is_stmt 1 view .LVU406
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1329              		.loc 1 2109 5 is_stmt 0 view .LVU407
 1330 00d2 07F00C07 		and	r7, r7, #12
 1331              	.LVL141:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1332              		.loc 1 2109 5 view .LVU408
 1333 00d6 042F     		cmp	r7, #4
 1334 00d8 0FD0     		beq	.L135
 1335              	.LVL142:
 1336              	.L123:
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1337              		.loc 1 2111 2 is_stmt 1 view .LVU409
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1338              		.loc 1 2111 14 is_stmt 0 view .LVU410
 1339 00da 8AF80B30 		strb	r3, [r10, #11]
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1340              		.loc 1 2113 2 is_stmt 1 view .LVU411
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 64


 1341              		.loc 1 2113 9 is_stmt 0 view .LVU412
 1342 00de 0020     		movs	r0, #0
 1343 00e0 D3E7     		b	.L114
 1344              	.LVL143:
 1345              	.L127:
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1346              		.loc 1 2102 4 discriminator 2 view .LVU413
 1347 00e2 0023     		movs	r3, #0
 1348 00e4 E9E7     		b	.L119
 1349              	.LVL144:
 1350              	.L132:
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1351              		.loc 1 2105 22 is_stmt 1 discriminator 1 view .LVU414
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1352              		.loc 1 2105 29 is_stmt 0 discriminator 1 view .LVU415
 1353 00e6 0522     		movs	r2, #5
 1354 00e8 8AF80020 		strb	r2, [r10]
 1355 00ec EAE7     		b	.L120
 1356              	.L133:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1357              		.loc 1 2107 15 is_stmt 1 discriminator 1 view .LVU416
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1358              		.loc 1 2107 17 is_stmt 0 discriminator 1 view .LVU417
 1359 00ee BF00     		lsls	r7, r7, #2
 1360              	.LVL145:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1361              		.loc 1 2107 17 discriminator 1 view .LVU418
 1362 00f0 FFB2     		uxtb	r7, r7
 1363              	.LVL146:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1364              		.loc 1 2108 2 is_stmt 1 view .LVU419
 1365 00f2 EEE7     		b	.L122
 1366              	.L134:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1367              		.loc 1 2108 26 discriminator 1 view .LVU420
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1368              		.loc 1 2108 28 is_stmt 0 discriminator 1 view .LVU421
 1369 00f4 43F01003 		orr	r3, r3, #16
 1370              	.LVL147:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1371              		.loc 1 2108 28 discriminator 1 view .LVU422
 1372 00f8 EBE7     		b	.L122
 1373              	.LVL148:
 1374              	.L135:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1375              		.loc 1 2109 26 is_stmt 1 discriminator 1 view .LVU423
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1376              		.loc 1 2109 28 is_stmt 0 discriminator 1 view .LVU424
 1377 00fa 43F00803 		orr	r3, r3, #8
 1378              	.LVL149:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1379              		.loc 1 2109 28 discriminator 1 view .LVU425
 1380 00fe ECE7     		b	.L123
 1381              	.LVL150:
 1382              	.L124:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1383              		.loc 1 2068 36 discriminator 3 view .LVU426
ARM GAS  /tmp/ccc896J6.s 			page 65


 1384 0100 0620     		movs	r0, #6
 1385 0102 C2E7     		b	.L114
 1386              	.L126:
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1387              		.loc 1 2090 12 view .LVU427
 1388 0104 0620     		movs	r0, #6
 1389 0106 C0E7     		b	.L114
 1390              	.LVL151:
 1391              	.L128:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1392              		.loc 1 2104 17 discriminator 1 view .LVU428
 1393 0108 0620     		movs	r0, #6
 1394 010a BEE7     		b	.L114
 1395              	.L137:
 1396              		.align	2
 1397              	.L136:
 1398 010c 00000000 		.word	.LC0
 1399 0110 00000000 		.word	ExCvt
 1400              		.cfi_endproc
 1401              	.LFE93:
 1403              		.section	.text.get_ldnumber,"ax",%progbits
 1404              		.align	1
 1405              		.syntax unified
 1406              		.thumb
 1407              		.thumb_func
 1409              	get_ldnumber:
 1410              	.LVL152:
 1411              	.LFB95:
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 
2118:Middlewares/Third_Party/FatFs/src/ff.c **** 
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2121:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** static
2125:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2126:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2127:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** )
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 
2134:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\') {	/* There is a heading separator */
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;	dp->sclust = 0;				/* Strip it and start from the root directory */
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* No heading separator */
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sclust = dp->fs->cdir;			/* Start from the current directory */
2139:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
2144:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 66


2145:Middlewares/Third_Party/FatFs/src/ff.c **** 
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;					/* Ended at the root directroy. Function completed. */
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2165:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 
2182:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2184:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 
2186:Middlewares/Third_Party/FatFs/src/ff.c **** static
2187:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2189:Middlewares/Third_Party/FatFs/src/ff.c **** )
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1412              		.loc 1 2190 1 is_stmt 1 view -0
 1413              		.cfi_startproc
 1414              		@ args = 0, pretend = 0, frame = 0
 1415              		@ frame_needed = 0, uses_anonymous_args = 0
 1416              		@ link register save eliminated.
 1417              		.loc 1 2190 1 is_stmt 0 view .LVU430
 1418 0000 0146     		mov	r1, r0
2191:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1419              		.loc 1 2191 2 is_stmt 1 view .LVU431
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1420              		.loc 1 2192 2 view .LVU432
ARM GAS  /tmp/ccc896J6.s 			page 67


2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1421              		.loc 1 2193 2 view .LVU433
 1422              	.LVL153:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const str[] = {_VOLUME_STRS};
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** 
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1423              		.loc 1 2202 2 view .LVU434
 1424              		.loc 1 2202 6 is_stmt 0 view .LVU435
 1425 0002 0068     		ldr	r0, [r0]
 1426              	.LVL154:
 1427              		.loc 1 2202 5 view .LVU436
 1428 0004 38B1     		cbz	r0, .L149
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1429              		.loc 1 2203 11 view .LVU437
 1430 0006 0246     		mov	r2, r0
 1431              	.L139:
 1432              	.LVL155:
 1433              		.loc 1 2203 56 is_stmt 1 discriminator 1 view .LVU438
 1434              		.loc 1 2203 26 is_stmt 0 discriminator 1 view .LVU439
 1435 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1436              		.loc 1 2203 56 discriminator 1 view .LVU440
 1437 000a 202B     		cmp	r3, #32
 1438 000c 06D9     		bls	.L141
 1439              		.loc 1 2203 56 discriminator 3 view .LVU441
 1440 000e 3A2B     		cmp	r3, #58
 1441 0010 04D0     		beq	.L141
 1442              		.loc 1 2203 73 is_stmt 1 discriminator 4 view .LVU442
 1443 0012 0132     		adds	r2, r2, #1
 1444              	.LVL156:
 1445              		.loc 1 2203 73 is_stmt 0 discriminator 4 view .LVU443
 1446 0014 F8E7     		b	.L139
 1447              	.LVL157:
 1448              	.L149:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1449              		.loc 1 2193 6 view .LVU444
 1450 0016 4FF0FF30 		mov	r0, #-1
 1451 001a 7047     		bx	lr
 1452              	.LVL158:
 1453              	.L141:
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1454              		.loc 1 2204 3 is_stmt 1 view .LVU445
 1455              		.loc 1 2204 6 is_stmt 0 view .LVU446
 1456 001c 3A2B     		cmp	r3, #58
 1457 001e 01D0     		beq	.L150
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0'; 
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccc896J6.s 			page 68


2212:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2213:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2217:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = str[i]; tp = *path;
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2219:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2223:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2228:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2230:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2231:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
2232:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2233:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1458              		.loc 1 2234 7 view .LVU447
 1459 0020 0020     		movs	r0, #0
 1460              	.LVL159:
2235:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2238:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1461              		.loc 1 2238 1 view .LVU448
 1462 0022 7047     		bx	lr
 1463              	.LVL160:
 1464              	.L150:
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1465              		.loc 1 2205 4 is_stmt 1 view .LVU449
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1466              		.loc 1 2206 4 view .LVU450
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1467              		.loc 1 2206 11 is_stmt 0 view .LVU451
 1468 0024 0346     		mov	r3, r0
 1469              	.LVL161:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1470              		.loc 1 2206 8 view .LVU452
 1471 0026 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1472              	.LVL162:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1473              		.loc 1 2206 14 view .LVU453
 1474 002a 3038     		subs	r0, r0, #48
 1475              	.LVL163:
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1476              		.loc 1 2207 4 is_stmt 1 view .LVU454
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1477              		.loc 1 2207 7 is_stmt 0 view .LVU455
 1478 002c 0928     		cmp	r0, #9
 1479 002e 08D8     		bhi	.L146
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
ARM GAS  /tmp/ccc896J6.s 			page 69


 1480              		.loc 1 2207 15 discriminator 1 view .LVU456
 1481 0030 9A42     		cmp	r2, r3
 1482 0032 02D0     		beq	.L151
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1483              		.loc 1 2193 6 view .LVU457
 1484 0034 4FF0FF30 		mov	r0, #-1
 1485              	.LVL164:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1486              		.loc 1 2193 6 view .LVU458
 1487 0038 7047     		bx	lr
 1488              	.LVL165:
 1489              	.L151:
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1490              		.loc 1 2208 5 is_stmt 1 view .LVU459
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1491              		.loc 1 2208 8 is_stmt 0 view .LVU460
 1492 003a 28B9     		cbnz	r0, .L148
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1493              		.loc 1 2209 6 is_stmt 1 view .LVU461
 1494              	.LVL166:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1495              		.loc 1 2210 6 view .LVU462
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1496              		.loc 1 2210 12 is_stmt 0 view .LVU463
 1497 003c 0132     		adds	r2, r2, #1
 1498              	.LVL167:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1499              		.loc 1 2210 12 view .LVU464
 1500 003e 0A60     		str	r2, [r1]
 1501 0040 7047     		bx	lr
 1502              	.LVL168:
 1503              	.L146:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1504              		.loc 1 2193 6 view .LVU465
 1505 0042 4FF0FF30 		mov	r0, #-1
 1506              	.LVL169:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1507              		.loc 1 2193 6 view .LVU466
 1508 0046 7047     		bx	lr
 1509              	.LVL170:
 1510              	.L148:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1511              		.loc 1 2193 6 view .LVU467
 1512 0048 4FF0FF30 		mov	r0, #-1
 1513              	.LVL171:
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1514              		.loc 1 2229 4 is_stmt 1 view .LVU468
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1515              		.loc 1 2229 11 is_stmt 0 view .LVU469
 1516 004c 7047     		bx	lr
 1517              		.cfi_endproc
 1518              	.LFE95:
 1520              		.section	.text.sync_window,"ax",%progbits
 1521              		.align	1
 1522              		.syntax unified
 1523              		.thumb
 1524              		.thumb_func
ARM GAS  /tmp/ccc896J6.s 			page 70


 1526              	sync_window:
 1527              	.LVL172:
 1528              	.LFB74:
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1529              		.loc 1 776 1 is_stmt 1 view -0
 1530              		.cfi_startproc
 1531              		@ args = 0, pretend = 0, frame = 0
 1532              		@ frame_needed = 0, uses_anonymous_args = 0
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1533              		.loc 1 776 1 is_stmt 0 view .LVU471
 1534 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1535              	.LCFI13:
 1536              		.cfi_def_cfa_offset 24
 1537              		.cfi_offset 3, -24
 1538              		.cfi_offset 4, -20
 1539              		.cfi_offset 5, -16
 1540              		.cfi_offset 6, -12
 1541              		.cfi_offset 7, -8
 1542              		.cfi_offset 14, -4
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1543              		.loc 1 777 2 is_stmt 1 view .LVU472
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1544              		.loc 1 778 2 view .LVU473
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1545              		.loc 1 779 2 view .LVU474
 1546              	.LVL173:
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1547              		.loc 1 782 2 view .LVU475
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1548              		.loc 1 782 8 is_stmt 0 view .LVU476
 1549 0002 90F80454 		ldrb	r5, [r0, #1028]	@ zero_extendqisi2
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1550              		.loc 1 782 5 view .LVU477
 1551 0006 0DB9     		cbnz	r5, .L158
 1552              	.LVL174:
 1553              	.L153:
 796:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1554              		.loc 1 796 2 is_stmt 1 view .LVU478
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1555              		.loc 1 797 1 is_stmt 0 view .LVU479
 1556 0008 2846     		mov	r0, r5
 1557 000a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1558              	.LVL175:
 1559              	.L158:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1560              		.loc 1 797 1 view .LVU480
 1561 000c 0446     		mov	r4, r0
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1562              		.loc 1 783 3 is_stmt 1 view .LVU481
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1563              		.loc 1 783 9 is_stmt 0 view .LVU482
 1564 000e D0F82C74 		ldr	r7, [r0, #1068]
 1565              	.LVL176:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1566              		.loc 1 784 3 is_stmt 1 view .LVU483
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1567              		.loc 1 784 7 is_stmt 0 view .LVU484
ARM GAS  /tmp/ccc896J6.s 			page 71


 1568 0012 0123     		movs	r3, #1
 1569 0014 3A46     		mov	r2, r7
 1570 0016 0146     		mov	r1, r0
 1571 0018 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 1572              	.LVL177:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1573              		.loc 1 784 7 view .LVU485
 1574 001c FFF7FEFF 		bl	disk_write
 1575              	.LVL178:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1576              		.loc 1 784 6 discriminator 1 view .LVU486
 1577 0020 0546     		mov	r5, r0
 1578 0022 D0B9     		cbnz	r0, .L156
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1579              		.loc 1 787 4 is_stmt 1 view .LVU487
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1580              		.loc 1 787 14 is_stmt 0 view .LVU488
 1581 0024 0023     		movs	r3, #0
 1582 0026 84F80434 		strb	r3, [r4, #1028]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1583              		.loc 1 788 4 is_stmt 1 view .LVU489
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1584              		.loc 1 788 18 is_stmt 0 view .LVU490
 1585 002a D4F82034 		ldr	r3, [r4, #1056]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1586              		.loc 1 788 14 view .LVU491
 1587 002e FB1A     		subs	r3, r7, r3
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1588              		.loc 1 788 32 view .LVU492
 1589 0030 D4F81824 		ldr	r2, [r4, #1048]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1590              		.loc 1 788 7 view .LVU493
 1591 0034 9342     		cmp	r3, r2
 1592 0036 E7D2     		bcs	.L153
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1593              		.loc 1 789 5 is_stmt 1 view .LVU494
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1594              		.loc 1 789 17 is_stmt 0 view .LVU495
 1595 0038 94F80364 		ldrb	r6, [r4, #1027]	@ zero_extendqisi2
 1596              	.LVL179:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1597              		.loc 1 789 5 view .LVU496
 1598 003c 0AE0     		b	.L154
 1599              	.L155:
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1600              		.loc 1 790 6 is_stmt 1 view .LVU497
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1601              		.loc 1 790 17 is_stmt 0 view .LVU498
 1602 003e D4F81834 		ldr	r3, [r4, #1048]
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1603              		.loc 1 790 12 view .LVU499
 1604 0042 1F44     		add	r7, r7, r3
 1605              	.LVL180:
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1606              		.loc 1 791 6 is_stmt 1 view .LVU500
 1607 0044 0123     		movs	r3, #1
 1608 0046 3A46     		mov	r2, r7
ARM GAS  /tmp/ccc896J6.s 			page 72


 1609 0048 2146     		mov	r1, r4
 1610 004a 94F80104 		ldrb	r0, [r4, #1025]	@ zero_extendqisi2
 1611 004e FFF7FEFF 		bl	disk_write
 1612              	.LVL181:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1613              		.loc 1 789 38 discriminator 3 view .LVU501
 1614 0052 013E     		subs	r6, r6, #1
 1615              	.LVL182:
 1616              	.L154:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1617              		.loc 1 789 30 discriminator 1 view .LVU502
 1618 0054 012E     		cmp	r6, #1
 1619 0056 F2D8     		bhi	.L155
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1620              		.loc 1 789 30 is_stmt 0 discriminator 1 view .LVU503
 1621 0058 D6E7     		b	.L153
 1622              	.LVL183:
 1623              	.L156:
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1624              		.loc 1 785 8 view .LVU504
 1625 005a 0125     		movs	r5, #1
 1626 005c D4E7     		b	.L153
 1627              		.cfi_endproc
 1628              	.LFE74:
 1630              		.section	.text.move_window,"ax",%progbits
 1631              		.align	1
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1636              	move_window:
 1637              	.LVL184:
 1638              	.LFB75:
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1639              		.loc 1 806 1 is_stmt 1 view -0
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 0
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1643              		.loc 1 806 1 is_stmt 0 view .LVU506
 1644 0000 70B5     		push	{r4, r5, r6, lr}
 1645              	.LCFI14:
 1646              		.cfi_def_cfa_offset 16
 1647              		.cfi_offset 4, -16
 1648              		.cfi_offset 5, -12
 1649              		.cfi_offset 6, -8
 1650              		.cfi_offset 14, -4
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1651              		.loc 1 807 2 is_stmt 1 view .LVU507
 1652              	.LVL185:
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1653              		.loc 1 810 2 view .LVU508
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1654              		.loc 1 810 18 is_stmt 0 view .LVU509
 1655 0002 D0F82C34 		ldr	r3, [r0, #1068]
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1656              		.loc 1 810 5 view .LVU510
 1657 0006 8B42     		cmp	r3, r1
ARM GAS  /tmp/ccc896J6.s 			page 73


 1658 0008 02D1     		bne	.L165
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1659              		.loc 1 807 10 view .LVU511
 1660 000a 0026     		movs	r6, #0
 1661              	.LVL186:
 1662              	.L160:
 822:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1663              		.loc 1 822 2 is_stmt 1 view .LVU512
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1664              		.loc 1 823 1 is_stmt 0 view .LVU513
 1665 000c 3046     		mov	r0, r6
 1666 000e 70BD     		pop	{r4, r5, r6, pc}
 1667              	.LVL187:
 1668              	.L165:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1669              		.loc 1 823 1 view .LVU514
 1670 0010 0446     		mov	r4, r0
 1671 0012 0D46     		mov	r5, r1
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1672              		.loc 1 812 3 is_stmt 1 view .LVU515
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1673              		.loc 1 812 9 is_stmt 0 view .LVU516
 1674 0014 FFF7FEFF 		bl	sync_window
 1675              	.LVL188:
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1676              		.loc 1 814 3 is_stmt 1 view .LVU517
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1677              		.loc 1 814 6 is_stmt 0 view .LVU518
 1678 0018 0646     		mov	r6, r0
 1679 001a 0028     		cmp	r0, #0
 1680 001c F6D1     		bne	.L160
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1681              		.loc 1 815 4 is_stmt 1 view .LVU519
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1682              		.loc 1 815 8 is_stmt 0 view .LVU520
 1683 001e 0123     		movs	r3, #1
 1684 0020 2A46     		mov	r2, r5
 1685 0022 2146     		mov	r1, r4
 1686 0024 94F80104 		ldrb	r0, [r4, #1025]	@ zero_extendqisi2
 1687              	.LVL189:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1688              		.loc 1 815 8 view .LVU521
 1689 0028 FFF7FEFF 		bl	disk_read
 1690              	.LVL190:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1691              		.loc 1 815 7 discriminator 1 view .LVU522
 1692 002c 10B1     		cbz	r0, .L161
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 1693              		.loc 1 817 9 view .LVU523
 1694 002e 0126     		movs	r6, #1
 1695              	.LVL191:
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1696              		.loc 1 816 12 view .LVU524
 1697 0030 4FF0FF35 		mov	r5, #-1
 1698              	.LVL192:
 1699              	.L161:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccc896J6.s 			page 74


 1700              		.loc 1 819 4 is_stmt 1 view .LVU525
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1701              		.loc 1 819 16 is_stmt 0 view .LVU526
 1702 0034 C4F82C54 		str	r5, [r4, #1068]
 1703 0038 E8E7     		b	.L160
 1704              		.cfi_endproc
 1705              	.LFE75:
 1707              		.section	.text.check_fs,"ax",%progbits
 1708              		.align	1
 1709              		.syntax unified
 1710              		.thumb
 1711              		.thumb_func
 1713              	check_fs:
 1714              	.LVL193:
 1715              	.LFB96:
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 
2242:Middlewares/Third_Party/FatFs/src/ff.c **** 
2243:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2244:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2245:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2246:Middlewares/Third_Party/FatFs/src/ff.c **** 
2247:Middlewares/Third_Party/FatFs/src/ff.c **** static
2248:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT boor sector, 1:Valid boor sector but not FAT, 2:Not a boot sector, 3:Disk 
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
2251:Middlewares/Third_Party/FatFs/src/ff.c **** )
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1716              		.loc 1 2252 1 is_stmt 1 view -0
 1717              		.cfi_startproc
 1718              		@ args = 0, pretend = 0, frame = 0
 1719              		@ frame_needed = 0, uses_anonymous_args = 0
 1720              		.loc 1 2252 1 is_stmt 0 view .LVU528
 1721 0000 10B5     		push	{r4, lr}
 1722              	.LCFI15:
 1723              		.cfi_def_cfa_offset 8
 1724              		.cfi_offset 4, -8
 1725              		.cfi_offset 14, -4
 1726 0002 0446     		mov	r4, r0
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 1727              		.loc 1 2253 2 is_stmt 1 view .LVU529
 1728              		.loc 1 2253 12 is_stmt 0 view .LVU530
 1729 0004 0023     		movs	r3, #0
 1730 0006 80F80434 		strb	r3, [r0, #1028]
 1731              		.loc 1 2253 17 is_stmt 1 view .LVU531
 1732              		.loc 1 2253 29 is_stmt 0 view .LVU532
 1733 000a 4FF0FF33 		mov	r3, #-1
 1734 000e C0F82C34 		str	r3, [r0, #1068]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
 1735              		.loc 1 2254 2 is_stmt 1 view .LVU533
 1736              		.loc 1 2254 6 is_stmt 0 view .LVU534
 1737 0012 FFF7FEFF 		bl	move_window
 1738              	.LVL194:
 1739              		.loc 1 2254 5 discriminator 1 view .LVU535
 1740 0016 98BB     		cbnz	r0, .L168
 1741 0018 0246     		mov	r2, r0
ARM GAS  /tmp/ccc896J6.s 			page 75


2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
 1742              		.loc 1 2257 2 is_stmt 1 view .LVU536
 1743              		.loc 1 2257 6 is_stmt 0 view .LVU537
 1744 001a 94F8FF11 		ldrb	r1, [r4, #511]	@ zero_extendqisi2
 1745 001e 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 1746 0022 43EA0123 		orr	r3, r3, r1, lsl #8
 1747 0026 1BB2     		sxth	r3, r3
 1748              		.loc 1 2257 5 view .LVU538
 1749 0028 1749     		ldr	r1, .L171
 1750 002a 8B42     		cmp	r3, r1
 1751 002c 2AD1     		bne	.L169
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
 1752              		.loc 1 2260 2 is_stmt 1 view .LVU539
 1753              		.loc 1 2260 7 is_stmt 0 view .LVU540
 1754 002e 94F83910 		ldrb	r1, [r4, #57]	@ zero_extendqisi2
 1755 0032 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
 1756 0036 1B04     		lsls	r3, r3, #16
 1757 0038 43EA0163 		orr	r3, r3, r1, lsl #24
 1758 003c 94F83710 		ldrb	r1, [r4, #55]	@ zero_extendqisi2
 1759 0040 43EA0123 		orr	r3, r3, r1, lsl #8
 1760 0044 94F83610 		ldrb	r1, [r4, #54]	@ zero_extendqisi2
 1761 0048 0B43     		orrs	r3, r3, r1
 1762              		.loc 1 2260 44 view .LVU541
 1763 004a 23F07F43 		bic	r3, r3, #-16777216
 1764              		.loc 1 2260 5 view .LVU542
 1765 004e 0F49     		ldr	r1, .L171+4
 1766 0050 8B42     		cmp	r3, r1
 1767 0052 13D0     		beq	.L167
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
 1768              		.loc 1 2262 2 is_stmt 1 view .LVU543
 1769              		.loc 1 2262 7 is_stmt 0 view .LVU544
 1770 0054 94F85510 		ldrb	r1, [r4, #85]	@ zero_extendqisi2
 1771 0058 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 1772 005c 1B04     		lsls	r3, r3, #16
 1773 005e 43EA0163 		orr	r3, r3, r1, lsl #24
 1774 0062 94F85310 		ldrb	r1, [r4, #83]	@ zero_extendqisi2
 1775 0066 43EA0123 		orr	r3, r3, r1, lsl #8
 1776 006a 94F85210 		ldrb	r1, [r4, #82]	@ zero_extendqisi2
 1777 006e 0B43     		orrs	r3, r3, r1
 1778              		.loc 1 2262 46 view .LVU545
 1779 0070 23F07F43 		bic	r3, r3, #-16777216
 1780              		.loc 1 2262 5 view .LVU546
 1781 0074 0549     		ldr	r1, .L171+4
 1782 0076 8B42     		cmp	r3, r1
 1783 0078 00D0     		beq	.L167
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
 1784              		.loc 1 2265 9 view .LVU547
 1785 007a 0122     		movs	r2, #1
 1786              	.L167:
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccc896J6.s 			page 76


 1787              		.loc 1 2266 1 view .LVU548
 1788 007c 1046     		mov	r0, r2
 1789 007e 10BD     		pop	{r4, pc}
 1790              	.LVL195:
 1791              	.L168:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1792              		.loc 1 2255 10 view .LVU549
 1793 0080 0322     		movs	r2, #3
 1794 0082 FBE7     		b	.L167
 1795              	.L169:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1796              		.loc 1 2258 10 view .LVU550
 1797 0084 0222     		movs	r2, #2
 1798 0086 F9E7     		b	.L167
 1799              	.L172:
 1800              		.align	2
 1801              	.L171:
 1802 0088 55AAFFFF 		.word	-21931
 1803 008c 46415400 		.word	5521734
 1804              		.cfi_endproc
 1805              	.LFE96:
 1807              		.section	.text.validate,"ax",%progbits
 1808              		.align	1
 1809              		.syntax unified
 1810              		.thumb
 1811              		.thumb_func
 1813              	validate:
 1814              	.LVL196:
 1815              	.LFB98:
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 
2271:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2272:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2273:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 
2275:Middlewares/Third_Party/FatFs/src/ff.c **** static
2276:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE wmode			/* !=0: Check write protection for write access */
2280:Middlewares/Third_Party/FatFs/src/ff.c **** )
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2289:Middlewares/Third_Party/FatFs/src/ff.c **** 
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number from the path name */
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
ARM GAS  /tmp/ccc896J6.s 			page 77


2295:Middlewares/Third_Party/FatFs/src/ff.c **** 
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
2322:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
2325:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning, FDISK and SFD. */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
2333:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);						/* Partition number: 0:auto, 1-4:forced */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {								/* Find an FAT volume */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found. Following code initializes the file system object */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
ARM GAS  /tmp/ccc896J6.s 			page 78


2352:Middlewares/Third_Party/FatFs/src/ff.c **** 
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2365:Middlewares/Third_Party/FatFs/src/ff.c **** 
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
2368:Middlewares/Third_Party/FatFs/src/ff.c **** 
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the FAT sub type */
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Boundaries and Limits */
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
2390:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
2395:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2398:Middlewares/Third_Party/FatFs/src/ff.c **** 
2399:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize cluster allocation information */
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** 
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get fsinfo if available */
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
2405:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
ARM GAS  /tmp/ccc896J6.s 			page 79


2409:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
2415:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
2417:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2418:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2423:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2424:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
2427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;		/* Set current directory to root */
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK			/* Clear file lock semaphores */
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
2432:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** 
2439:Middlewares/Third_Party/FatFs/src/ff.c **** 
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
2442:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2443:Middlewares/Third_Party/FatFs/src/ff.c **** 
2444:Middlewares/Third_Party/FatFs/src/ff.c **** static
2445:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* FR_OK(0): The object is valid, !=0: Invalid */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* obj		/* Pointer to the object FIL/DIR to check validity */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1816              		.loc 1 2448 1 is_stmt 1 view -0
 1817              		.cfi_startproc
 1818              		@ args = 0, pretend = 0, frame = 0
 1819              		@ frame_needed = 0, uses_anonymous_args = 0
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1820              		.loc 1 2449 2 view .LVU552
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fil || !fil->fs || !fil->fs->fs_type || fil->fs->id != fil->id || (disk_status(fil->fs->drv) 
 1821              		.loc 1 2452 2 view .LVU553
 1822              		.loc 1 2452 5 is_stmt 0 view .LVU554
 1823 0000 B0B1     		cbz	r0, .L177
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1824              		.loc 1 2448 1 view .LVU555
 1825 0002 08B5     		push	{r3, lr}
 1826              	.LCFI16:
 1827              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccc896J6.s 			page 80


 1828              		.cfi_offset 3, -8
 1829              		.cfi_offset 14, -4
 1830              		.loc 1 2452 18 discriminator 1 view .LVU556
 1831 0004 D0F80034 		ldr	r3, [r0, #1024]
 1832              		.loc 1 2452 11 discriminator 1 view .LVU557
 1833 0008 43B1     		cbz	r3, .L174
 1834              		.loc 1 2452 34 discriminator 2 view .LVU558
 1835 000a 93F80014 		ldrb	r1, [r3, #1024]	@ zero_extendqisi2
 1836              		.loc 1 2452 23 discriminator 2 view .LVU559
 1837 000e 29B1     		cbz	r1, .L174
 1838              		.loc 1 2452 54 discriminator 3 view .LVU560
 1839 0010 B3F80614 		ldrh	r1, [r3, #1030]
 1840              		.loc 1 2452 65 discriminator 3 view .LVU561
 1841 0014 B0F80424 		ldrh	r2, [r0, #1028]
 1842              		.loc 1 2452 44 discriminator 3 view .LVU562
 1843 0018 9142     		cmp	r1, r2
 1844 001a 01D0     		beq	.L181
 1845              	.LVL197:
 1846              	.L174:
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1847              		.loc 1 2453 3 is_stmt 1 view .LVU563
 1848              		.loc 1 2453 10 is_stmt 0 view .LVU564
 1849 001c 0920     		movs	r0, #9
 1850              	.L175:
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 
2455:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fil->fs);		/* Lock file system */
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1851              		.loc 1 2458 1 view .LVU565
 1852 001e 08BD     		pop	{r3, pc}
 1853              	.LVL198:
 1854              	.L181:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1855              		.loc 1 2452 74 discriminator 4 view .LVU566
 1856 0020 93F80104 		ldrb	r0, [r3, #1025]	@ zero_extendqisi2
 1857              	.LVL199:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1858              		.loc 1 2452 74 discriminator 4 view .LVU567
 1859 0024 FFF7FEFF 		bl	disk_status
 1860              	.LVL200:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1861              		.loc 1 2452 70 discriminator 1 view .LVU568
 1862 0028 10F00100 		ands	r0, r0, #1
 1863 002c F7D0     		beq	.L175
 1864 002e F5E7     		b	.L174
 1865              	.LVL201:
 1866              	.L177:
 1867              	.LCFI17:
 1868              		.cfi_def_cfa_offset 0
 1869              		.cfi_restore 3
 1870              		.cfi_restore 14
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1871              		.loc 1 2453 3 is_stmt 1 view .LVU569
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1872              		.loc 1 2453 10 is_stmt 0 view .LVU570
 1873 0030 0920     		movs	r0, #9
ARM GAS  /tmp/ccc896J6.s 			page 81


 1874              	.LVL202:
 1875              		.loc 1 2458 1 view .LVU571
 1876 0032 7047     		bx	lr
 1877              		.cfi_endproc
 1878              	.LFE98:
 1880              		.section	.text.find_volume,"ax",%progbits
 1881              		.align	1
 1882              		.syntax unified
 1883              		.thumb
 1884              		.thumb_func
 1886              	find_volume:
 1887              	.LVL203:
 1888              	.LFB97:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1889              		.loc 1 2281 1 is_stmt 1 view -0
 1890              		.cfi_startproc
 1891              		@ args = 0, pretend = 0, frame = 16
 1892              		@ frame_needed = 0, uses_anonymous_args = 0
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1893              		.loc 1 2281 1 is_stmt 0 view .LVU573
 1894 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1895              	.LCFI18:
 1896              		.cfi_def_cfa_offset 28
 1897              		.cfi_offset 4, -28
 1898              		.cfi_offset 5, -24
 1899              		.cfi_offset 6, -20
 1900              		.cfi_offset 7, -16
 1901              		.cfi_offset 8, -12
 1902              		.cfi_offset 9, -8
 1903              		.cfi_offset 14, -4
 1904 0004 85B0     		sub	sp, sp, #20
 1905              	.LCFI19:
 1906              		.cfi_def_cfa_offset 48
 1907 0006 0646     		mov	r6, r0
 1908 0008 1746     		mov	r7, r2
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 1909              		.loc 1 2282 2 is_stmt 1 view .LVU574
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 1910              		.loc 1 2283 2 view .LVU575
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 1911              		.loc 1 2284 2 view .LVU576
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 1912              		.loc 1 2285 2 view .LVU577
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 1913              		.loc 1 2286 2 view .LVU578
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1914              		.loc 1 2287 2 view .LVU579
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1915              		.loc 1 2288 2 view .LVU580
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1916              		.loc 1 2292 2 view .LVU581
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1917              		.loc 1 2292 7 is_stmt 0 view .LVU582
 1918 000a 0023     		movs	r3, #0
 1919 000c 0360     		str	r3, [r0]
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1920              		.loc 1 2293 2 is_stmt 1 view .LVU583
ARM GAS  /tmp/ccc896J6.s 			page 82


2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1921              		.loc 1 2293 8 is_stmt 0 view .LVU584
 1922 000e 0846     		mov	r0, r1
 1923              	.LVL204:
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1924              		.loc 1 2293 8 view .LVU585
 1925 0010 FFF7FEFF 		bl	get_ldnumber
 1926              	.LVL205:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1927              		.loc 1 2294 2 is_stmt 1 view .LVU586
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1928              		.loc 1 2294 5 is_stmt 0 view .LVU587
 1929 0014 041E     		subs	r4, r0, #0
 1930 0016 C0F2B681 		blt	.L199
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1931              		.loc 1 2297 2 is_stmt 1 view .LVU588
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1932              		.loc 1 2297 5 is_stmt 0 view .LVU589
 1933 001a AB4B     		ldr	r3, .L232
 1934 001c 53F82450 		ldr	r5, [r3, r4, lsl #2]
 1935              	.LVL206:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1936              		.loc 1 2298 2 is_stmt 1 view .LVU590
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1937              		.loc 1 2298 5 is_stmt 0 view .LVU591
 1938 0020 002D     		cmp	r5, #0
 1939 0022 00F0B581 		beq	.L200
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 1940              		.loc 1 2300 14 is_stmt 1 view .LVU592
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1941              		.loc 1 2301 2 view .LVU593
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1942              		.loc 1 2301 7 is_stmt 0 view .LVU594
 1943 0026 3560     		str	r5, [r6]
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1944              		.loc 1 2303 2 is_stmt 1 view .LVU595
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1945              		.loc 1 2303 8 is_stmt 0 view .LVU596
 1946 0028 95F80034 		ldrb	r3, [r5, #1024]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1947              		.loc 1 2303 5 view .LVU597
 1948 002c 7BB1     		cbz	r3, .L184
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1949              		.loc 1 2304 3 is_stmt 1 view .LVU598
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1950              		.loc 1 2304 10 is_stmt 0 view .LVU599
 1951 002e 95F80104 		ldrb	r0, [r5, #1025]	@ zero_extendqisi2
 1952              	.LVL207:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1953              		.loc 1 2304 10 view .LVU600
 1954 0032 FFF7FEFF 		bl	disk_status
 1955              	.LVL208:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1956              		.loc 1 2305 3 is_stmt 1 view .LVU601
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1957              		.loc 1 2305 6 is_stmt 0 view .LVU602
 1958 0036 10F00106 		ands	r6, r0, #1
ARM GAS  /tmp/ccc896J6.s 			page 83


 1959              	.LVL209:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1960              		.loc 1 2305 6 view .LVU603
 1961 003a 08D1     		bne	.L184
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1962              		.loc 1 2306 4 is_stmt 1 view .LVU604
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1963              		.loc 1 2306 7 is_stmt 0 view .LVU605
 1964 003c 002F     		cmp	r7, #0
 1965 003e 00F0A381 		beq	.L183
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1966              		.loc 1 2306 31 discriminator 1 view .LVU606
 1967 0042 10F0040F 		tst	r0, #4
 1968 0046 00F09F81 		beq	.L183
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 1969              		.loc 1 2307 12 view .LVU607
 1970 004a 0A26     		movs	r6, #10
 1971 004c 9CE1     		b	.L183
 1972              	.LVL210:
 1973              	.L184:
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1974              		.loc 1 2315 2 is_stmt 1 view .LVU608
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1975              		.loc 1 2315 14 is_stmt 0 view .LVU609
 1976 004e 0023     		movs	r3, #0
 1977 0050 85F80034 		strb	r3, [r5, #1024]
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1978              		.loc 1 2316 2 is_stmt 1 view .LVU610
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1979              		.loc 1 2316 12 is_stmt 0 view .LVU611
 1980 0054 E0B2     		uxtb	r0, r4
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1981              		.loc 1 2316 10 view .LVU612
 1982 0056 85F80104 		strb	r0, [r5, #1025]
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 1983              		.loc 1 2317 2 is_stmt 1 view .LVU613
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 1984              		.loc 1 2317 9 is_stmt 0 view .LVU614
 1985 005a FFF7FEFF 		bl	disk_initialize
 1986              	.LVL211:
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1987              		.loc 1 2318 2 is_stmt 1 view .LVU615
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1988              		.loc 1 2318 5 is_stmt 0 view .LVU616
 1989 005e 10F0010F 		tst	r0, #1
 1990 0062 40F09781 		bne	.L202
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1991              		.loc 1 2320 2 is_stmt 1 view .LVU617
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1992              		.loc 1 2320 5 is_stmt 0 view .LVU618
 1993 0066 1FB1     		cbz	r7, .L185
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1994              		.loc 1 2320 29 discriminator 1 view .LVU619
 1995 0068 10F0040F 		tst	r0, #4
 1996 006c 40F09481 		bne	.L203
 1997              	.L185:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
ARM GAS  /tmp/ccc896J6.s 			page 84


 1998              		.loc 1 2323 2 is_stmt 1 view .LVU620
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 1999              		.loc 1 2323 6 is_stmt 0 view .LVU621
 2000 0070 05F20A42 		addw	r2, r5, #1034
 2001 0074 0221     		movs	r1, #2
 2002 0076 95F80104 		ldrb	r0, [r5, #1025]	@ zero_extendqisi2
 2003              	.LVL212:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2004              		.loc 1 2323 6 view .LVU622
 2005 007a FFF7FEFF 		bl	disk_ioctl
 2006              	.LVL213:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2007              		.loc 1 2323 5 discriminator 1 view .LVU623
 2008 007e 0028     		cmp	r0, #0
 2009 0080 40F08C81 		bne	.L204
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2010              		.loc 1 2324 6 view .LVU624
 2011 0084 B5F80A34 		ldrh	r3, [r5, #1034]
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2012              		.loc 1 2324 3 view .LVU625
 2013 0088 B3F5007F 		cmp	r3, #512
 2014 008c C0F08881 		bcc	.L205
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2015              		.loc 1 2324 23 discriminator 2 view .LVU626
 2016 0090 B3F5806F 		cmp	r3, #1024
 2017 0094 01D9     		bls	.L226
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2018              		.loc 1 2324 51 discriminator 3 view .LVU627
 2019 0096 0126     		movs	r6, #1
 2020 0098 76E1     		b	.L183
 2021              	.L226:
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2022              		.loc 1 2327 2 is_stmt 1 view .LVU628
 2023              	.LVL214:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2024              		.loc 1 2328 2 view .LVU629
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2025              		.loc 1 2328 8 is_stmt 0 view .LVU630
 2026 009a 0021     		movs	r1, #0
 2027 009c 2846     		mov	r0, r5
 2028 009e FFF7FEFF 		bl	check_fs
 2029              	.LVL215:
 2030 00a2 0646     		mov	r6, r0
 2031              	.LVL216:
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2032              		.loc 1 2329 2 is_stmt 1 view .LVU631
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2033              		.loc 1 2329 5 is_stmt 0 view .LVU632
 2034 00a4 0128     		cmp	r0, #1
 2035 00a6 00F09E80 		beq	.L207
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2036              		.loc 1 2327 8 view .LVU633
 2037 00aa 0027     		movs	r7, #0
 2038              	.LVL217:
 2039              	.L187:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2040              		.loc 1 2341 2 is_stmt 1 view .LVU634
ARM GAS  /tmp/ccc896J6.s 			page 85


2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2041              		.loc 1 2341 5 is_stmt 0 view .LVU635
 2042 00ac 032E     		cmp	r6, #3
 2043 00ae 00F07981 		beq	.L210
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2044              		.loc 1 2342 2 is_stmt 1 view .LVU636
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2045              		.loc 1 2342 5 is_stmt 0 view .LVU637
 2046 00b2 002E     		cmp	r6, #0
 2047 00b4 40F07881 		bne	.L211
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2048              		.loc 1 2346 2 is_stmt 1 view .LVU638
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2049              		.loc 1 2346 6 is_stmt 0 view .LVU639
 2050 00b8 2A7B     		ldrb	r2, [r5, #12]	@ zero_extendqisi2
 2051 00ba EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 2052 00bc 43EA0223 		orr	r3, r3, r2, lsl #8
 2053 00c0 1BB2     		sxth	r3, r3
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2054              		.loc 1 2346 46 view .LVU640
 2055 00c2 B5F80A04 		ldrh	r0, [r5, #1034]
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2056              		.loc 1 2346 43 view .LVU641
 2057 00c6 B5F90A24 		ldrsh	r2, [r5, #1034]
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2058              		.loc 1 2346 5 view .LVU642
 2059 00ca 9342     		cmp	r3, r2
 2060 00cc 40F06E81 		bne	.L212
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2061              		.loc 1 2349 2 is_stmt 1 view .LVU643
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2062              		.loc 1 2349 11 is_stmt 0 view .LVU644
 2063 00d0 EA7D     		ldrb	r2, [r5, #23]	@ zero_extendqisi2
 2064 00d2 AB7D     		ldrb	r3, [r5, #22]	@ zero_extendqisi2
 2065              	.LVL218:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2066              		.loc 1 2350 2 is_stmt 1 view .LVU645
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2067              		.loc 1 2350 5 is_stmt 0 view .LVU646
 2068 00d4 53EA0223 		orrs	r3, r3, r2, lsl #8
 2069              	.LVL219:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2070              		.loc 1 2350 5 view .LVU647
 2071 00d8 0DD1     		bne	.L192
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2072              		.loc 1 2350 15 is_stmt 1 discriminator 1 view .LVU648
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2073              		.loc 1 2350 24 is_stmt 0 discriminator 1 view .LVU649
 2074 00da 95F82720 		ldrb	r2, [r5, #39]	@ zero_extendqisi2
 2075 00de 95F82630 		ldrb	r3, [r5, #38]	@ zero_extendqisi2
 2076              	.LVL220:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2077              		.loc 1 2350 24 discriminator 1 view .LVU650
 2078 00e2 1B04     		lsls	r3, r3, #16
 2079 00e4 43EA0263 		orr	r3, r3, r2, lsl #24
 2080 00e8 95F82520 		ldrb	r2, [r5, #37]	@ zero_extendqisi2
 2081 00ec 43EA0223 		orr	r3, r3, r2, lsl #8
ARM GAS  /tmp/ccc896J6.s 			page 86


 2082 00f0 95F82420 		ldrb	r2, [r5, #36]	@ zero_extendqisi2
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2083              		.loc 1 2350 22 discriminator 1 view .LVU651
 2084 00f4 1343     		orrs	r3, r3, r2
 2085              	.L192:
 2086              	.LVL221:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2087              		.loc 1 2351 2 is_stmt 1 view .LVU652
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2088              		.loc 1 2351 12 is_stmt 0 view .LVU653
 2089 00f6 C5F81834 		str	r3, [r5, #1048]
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2090              		.loc 1 2353 2 is_stmt 1 view .LVU654
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2091              		.loc 1 2353 25 is_stmt 0 view .LVU655
 2092 00fa 297C     		ldrb	r1, [r5, #16]	@ zero_extendqisi2
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2093              		.loc 1 2353 13 view .LVU656
 2094 00fc 85F80314 		strb	r1, [r5, #1027]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2095              		.loc 1 2354 2 is_stmt 1 view .LVU657
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2096              		.loc 1 2354 22 is_stmt 0 view .LVU658
 2097 0100 4A1E     		subs	r2, r1, #1
 2098 0102 D2B2     		uxtb	r2, r2
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2099              		.loc 1 2354 5 view .LVU659
 2100 0104 012A     		cmp	r2, #1
 2101 0106 00F25381 		bhi	.L213
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2102              		.loc 1 2356 2 is_stmt 1 view .LVU660
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2103              		.loc 1 2356 9 is_stmt 0 view .LVU661
 2104 010a 03FB01F1 		mul	r1, r3, r1
 2105              	.LVL222:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2106              		.loc 1 2358 2 is_stmt 1 view .LVU662
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2107              		.loc 1 2358 24 is_stmt 0 view .LVU663
 2108 010e 6C7B     		ldrb	r4, [r5, #13]	@ zero_extendqisi2
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2109              		.loc 1 2358 12 view .LVU664
 2110 0110 85F80244 		strb	r4, [r5, #1026]
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2111              		.loc 1 2359 2 is_stmt 1 view .LVU665
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2112              		.loc 1 2359 5 is_stmt 0 view .LVU666
 2113 0114 002C     		cmp	r4, #0
 2114 0116 00F04D81 		beq	.L214
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2115              		.loc 1 2359 44 discriminator 1 view .LVU667
 2116 011a 621E     		subs	r2, r4, #1
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2117              		.loc 1 2359 17 discriminator 1 view .LVU668
 2118 011c 1442     		tst	r4, r2
 2119 011e 40F04B81 		bne	.L215
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
ARM GAS  /tmp/ccc896J6.s 			page 87


 2120              		.loc 1 2362 2 is_stmt 1 view .LVU669
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2121              		.loc 1 2362 18 is_stmt 0 view .LVU670
 2122 0122 AA7C     		ldrb	r2, [r5, #18]	@ zero_extendqisi2
 2123 0124 95F811C0 		ldrb	ip, [r5, #17]	@ zero_extendqisi2
 2124 0128 4CEA022C 		orr	ip, ip, r2, lsl #8
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2125              		.loc 1 2362 16 view .LVU671
 2126 012c A5F808C4 		strh	ip, [r5, #1032]	@ movhi
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2127              		.loc 1 2363 2 is_stmt 1 view .LVU672
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2128              		.loc 1 2363 6 is_stmt 0 view .LVU673
 2129 0130 4FEA501E 		lsr	lr, r0, #5
 2130 0134 BCFBFEF2 		udiv	r2, ip, lr
 2131 0138 0EFB12C2 		mls	r2, lr, r2, ip
 2132 013c 92B2     		uxth	r2, r2
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2133              		.loc 1 2363 5 view .LVU674
 2134 013e 002A     		cmp	r2, #0
 2135 0140 40F03C81 		bne	.L216
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2136              		.loc 1 2366 2 is_stmt 1 view .LVU675
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2137              		.loc 1 2366 10 is_stmt 0 view .LVU676
 2138 0144 95F81480 		ldrb	r8, [r5, #20]	@ zero_extendqisi2
 2139 0148 EA7C     		ldrb	r2, [r5, #19]	@ zero_extendqisi2
 2140              	.LVL223:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2141              		.loc 1 2367 2 is_stmt 1 view .LVU677
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2142              		.loc 1 2367 5 is_stmt 0 view .LVU678
 2143 014a 52EA0822 		orrs	r2, r2, r8, lsl #8
 2144              	.LVL224:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2145              		.loc 1 2367 5 view .LVU679
 2146 014e 0ED1     		bne	.L193
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2147              		.loc 1 2367 14 is_stmt 1 discriminator 1 view .LVU680
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2148              		.loc 1 2367 22 is_stmt 0 discriminator 1 view .LVU681
 2149 0150 95F82380 		ldrb	r8, [r5, #35]	@ zero_extendqisi2
 2150 0154 95F82220 		ldrb	r2, [r5, #34]	@ zero_extendqisi2
 2151              	.LVL225:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2152              		.loc 1 2367 22 discriminator 1 view .LVU682
 2153 0158 1204     		lsls	r2, r2, #16
 2154 015a 42EA0862 		orr	r2, r2, r8, lsl #24
 2155 015e 95F82180 		ldrb	r8, [r5, #33]	@ zero_extendqisi2
 2156 0162 42EA0822 		orr	r2, r2, r8, lsl #8
 2157 0166 95F82080 		ldrb	r8, [r5, #32]	@ zero_extendqisi2
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2158              		.loc 1 2367 20 discriminator 1 view .LVU683
 2159 016a 42EA0802 		orr	r2, r2, r8
 2160              	.L193:
 2161              	.LVL226:
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
ARM GAS  /tmp/ccc896J6.s 			page 88


 2162              		.loc 1 2369 2 is_stmt 1 view .LVU684
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2163              		.loc 1 2369 9 is_stmt 0 view .LVU685
 2164 016e 95F80F90 		ldrb	r9, [r5, #15]	@ zero_extendqisi2
 2165 0172 95F80E80 		ldrb	r8, [r5, #14]	@ zero_extendqisi2
 2166              	.LVL227:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2167              		.loc 1 2370 2 is_stmt 1 view .LVU686
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2168              		.loc 1 2370 5 is_stmt 0 view .LVU687
 2169 0176 58EA0928 		orrs	r8, r8, r9, lsl #8
 2170              	.LVL228:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2171              		.loc 1 2370 5 view .LVU688
 2172 017a 00F02181 		beq	.L217
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2173              		.loc 1 2373 2 is_stmt 1 view .LVU689
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2174              		.loc 1 2373 16 is_stmt 0 view .LVU690
 2175 017e 08EB0109 		add	r9, r8, r1
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2176              		.loc 1 2373 41 view .LVU691
 2177 0182 BCFBFEFE 		udiv	lr, ip, lr
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2178              		.loc 1 2373 9 view .LVU692
 2179 0186 CE44     		add	lr, lr, r9
 2180              	.LVL229:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2181              		.loc 1 2374 2 is_stmt 1 view .LVU693
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2182              		.loc 1 2374 5 is_stmt 0 view .LVU694
 2183 0188 7245     		cmp	r2, lr
 2184 018a C0F01B81 		bcc	.L218
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2185              		.loc 1 2375 2 is_stmt 1 view .LVU695
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2186              		.loc 1 2375 17 is_stmt 0 view .LVU696
 2187 018e A2EB0E02 		sub	r2, r2, lr
 2188              	.LVL230:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2189              		.loc 1 2375 8 view .LVU697
 2190 0192 B2FBF4F9 		udiv	r9, r2, r4
 2191              	.LVL231:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2192              		.loc 1 2376 2 is_stmt 1 view .LVU698
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2193              		.loc 1 2376 5 is_stmt 0 view .LVU699
 2194 0196 A242     		cmp	r2, r4
 2195 0198 C0F01681 		bcc	.L219
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2196              		.loc 1 2377 2 is_stmt 1 view .LVU700
 2197              	.LVL232:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2198              		.loc 1 2378 2 view .LVU701
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2199              		.loc 1 2378 5 is_stmt 0 view .LVU702
 2200 019c 40F6F572 		movw	r2, #4085
ARM GAS  /tmp/ccc896J6.s 			page 89


 2201 01a0 9145     		cmp	r9, r2
 2202 01a2 39D9     		bls	.L220
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2203              		.loc 1 2378 26 is_stmt 1 discriminator 1 view .LVU703
 2204              	.LVL233:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2205              		.loc 1 2379 2 view .LVU704
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2206              		.loc 1 2379 5 is_stmt 0 view .LVU705
 2207 01a4 4FF6F572 		movw	r2, #65525
 2208 01a8 9145     		cmp	r9, r2
 2209 01aa 72D8     		bhi	.L221
 2210 01ac 0224     		movs	r4, #2
 2211 01ae 34E0     		b	.L194
 2212              	.LVL234:
 2213              	.L208:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2214              		.loc 1 2332 37 discriminator 2 view .LVU706
 2215 01b0 0023     		movs	r3, #0
 2216              	.LVL235:
 2217              	.L188:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2218              		.loc 1 2332 10 discriminator 4 view .LVU707
 2219 01b2 04AA     		add	r2, sp, #16
 2220 01b4 02EB8102 		add	r2, r2, r1, lsl #2
 2221 01b8 42F8103C 		str	r3, [r2, #-16]
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2222              		.loc 1 2330 23 is_stmt 1 discriminator 2 view .LVU708
 2223 01bc 0131     		adds	r1, r1, #1
 2224              	.LVL236:
 2225              	.L186:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2226              		.loc 1 2330 17 discriminator 1 view .LVU709
 2227 01be 0329     		cmp	r1, #3
 2228 01c0 13D8     		bhi	.L227
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2229              		.loc 1 2331 4 view .LVU710
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2230              		.loc 1 2331 36 is_stmt 0 view .LVU711
 2231 01c2 0B01     		lsls	r3, r1, #4
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2232              		.loc 1 2331 32 view .LVU712
 2233 01c4 03F5DF73 		add	r3, r3, #446
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2234              		.loc 1 2331 7 view .LVU713
 2235 01c8 2B44     		add	r3, r3, r5
 2236              	.LVL237:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2237              		.loc 1 2332 4 is_stmt 1 view .LVU714
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2238              		.loc 1 2332 14 is_stmt 0 view .LVU715
 2239 01ca 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2240              		.loc 1 2332 37 view .LVU716
 2241 01cc 002A     		cmp	r2, #0
 2242 01ce EFD0     		beq	.L208
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccc896J6.s 			page 90


 2243              		.loc 1 2332 20 discriminator 1 view .LVU717
 2244 01d0 D87A     		ldrb	r0, [r3, #11]	@ zero_extendqisi2
 2245 01d2 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 2246 01d4 1204     		lsls	r2, r2, #16
 2247 01d6 42EA0062 		orr	r2, r2, r0, lsl #24
 2248 01da 587A     		ldrb	r0, [r3, #9]	@ zero_extendqisi2
 2249 01dc 42EA0022 		orr	r2, r2, r0, lsl #8
 2250 01e0 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2251              	.LVL238:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2252              		.loc 1 2332 37 discriminator 1 view .LVU718
 2253 01e2 1343     		orrs	r3, r3, r2
 2254 01e4 E5E7     		b	.L188
 2255              	.LVL239:
 2256              	.L207:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2257              		.loc 1 2330 10 view .LVU719
 2258 01e6 0021     		movs	r1, #0
 2259 01e8 E9E7     		b	.L186
 2260              	.LVL240:
 2261              	.L227:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2262              		.loc 1 2330 10 view .LVU720
 2263 01ea 0024     		movs	r4, #0
 2264              	.LVL241:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2265              		.loc 1 2330 10 view .LVU721
 2266 01ec 0BE0     		b	.L191
 2267              	.LVL242:
 2268              	.L228:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2269              		.loc 1 2338 18 discriminator 1 view .LVU722
 2270 01ee 3946     		mov	r1, r7
 2271 01f0 2846     		mov	r0, r5
 2272 01f2 FFF7FEFF 		bl	check_fs
 2273              	.LVL243:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2274              		.loc 1 2339 31 is_stmt 1 view .LVU723
 2275 01f6 0646     		mov	r6, r0
 2276 01f8 0028     		cmp	r0, #0
 2277 01fa 3FF457AF 		beq	.L187
 2278              	.LVL244:
 2279              	.L190:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2280              		.loc 1 2339 31 is_stmt 0 discriminator 1 view .LVU724
 2281 01fe 0134     		adds	r4, r4, #1
 2282              	.LVL245:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2283              		.loc 1 2339 31 discriminator 1 view .LVU725
 2284 0200 032C     		cmp	r4, #3
 2285 0202 3FF653AF 		bhi	.L187
 2286              	.LVL246:
 2287              	.L191:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2288              		.loc 1 2336 3 is_stmt 1 view .LVU726
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2289              		.loc 1 2337 4 view .LVU727
ARM GAS  /tmp/ccc896J6.s 			page 91


2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2290              		.loc 1 2337 10 is_stmt 0 view .LVU728
 2291 0206 04AB     		add	r3, sp, #16
 2292 0208 03EB8403 		add	r3, r3, r4, lsl #2
 2293 020c 53F8107C 		ldr	r7, [r3, #-16]
 2294              	.LVL247:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2295              		.loc 1 2338 4 is_stmt 1 view .LVU729
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2296              		.loc 1 2338 8 is_stmt 0 view .LVU730
 2297 0210 002F     		cmp	r7, #0
 2298 0212 ECD1     		bne	.L228
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2299              		.loc 1 2338 8 discriminator 2 view .LVU731
 2300 0214 0226     		movs	r6, #2
 2301 0216 F2E7     		b	.L190
 2302              	.LVL248:
 2303              	.L220:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2304              		.loc 1 2377 6 view .LVU732
 2305 0218 0124     		movs	r4, #1
 2306              	.LVL249:
 2307              	.L194:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2308              		.loc 1 2382 2 is_stmt 1 view .LVU733
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2309              		.loc 1 2382 23 is_stmt 0 view .LVU734
 2310 021a 09F10202 		add	r2, r9, #2
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2311              		.loc 1 2382 15 view .LVU735
 2312 021e C5F81424 		str	r2, [r5, #1044]
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2313              		.loc 1 2383 2 is_stmt 1 view .LVU736
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2314              		.loc 1 2383 14 is_stmt 0 view .LVU737
 2315 0222 C5F81C74 		str	r7, [r5, #1052]
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2316              		.loc 1 2384 2 is_stmt 1 view .LVU738
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2317              		.loc 1 2384 22 is_stmt 0 view .LVU739
 2318 0226 B844     		add	r8, r8, r7
 2319              	.LVL250:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2320              		.loc 1 2384 14 view .LVU740
 2321 0228 C5F82084 		str	r8, [r5, #1056]
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2322              		.loc 1 2385 2 is_stmt 1 view .LVU741
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2323              		.loc 1 2385 23 is_stmt 0 view .LVU742
 2324 022c BE44     		add	lr, lr, r7
 2325              	.LVL251:
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2326              		.loc 1 2385 15 view .LVU743
 2327 022e C5F828E4 		str	lr, [r5, #1064]
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2328              		.loc 1 2386 2 is_stmt 1 view .LVU744
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
ARM GAS  /tmp/ccc896J6.s 			page 92


 2329              		.loc 1 2386 5 is_stmt 0 view .LVU745
 2330 0232 032C     		cmp	r4, #3
 2331 0234 2FD0     		beq	.L229
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2332              		.loc 1 2391 3 is_stmt 1 view .LVU746
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2333              		.loc 1 2391 6 is_stmt 0 view .LVU747
 2334 0236 BCF1000F 		cmp	ip, #0
 2335 023a 00F0C980 		beq	.L223
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2336              		.loc 1 2392 3 is_stmt 1 view .LVU748
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2337              		.loc 1 2392 29 is_stmt 0 view .LVU749
 2338 023e 4144     		add	r1, r1, r8
 2339              	.LVL252:
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2340              		.loc 1 2392 15 view .LVU750
 2341 0240 C5F82414 		str	r1, [r5, #1060]
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2342              		.loc 1 2393 3 is_stmt 1 view .LVU751
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2343              		.loc 1 2394 21 is_stmt 0 view .LVU752
 2344 0244 022C     		cmp	r4, #2
 2345 0246 3DD0     		beq	.L230
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2346              		.loc 1 2394 36 discriminator 2 view .LVU753
 2347 0248 02EB4201 		add	r1, r2, r2, lsl #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2348              		.loc 1 2394 60 discriminator 2 view .LVU754
 2349 024c 02F00102 		and	r2, r2, #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2350              		.loc 1 2394 21 discriminator 2 view .LVU755
 2351 0250 02EB5102 		add	r2, r2, r1, lsr #1
 2352              	.LVL253:
 2353              	.L196:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2354              		.loc 1 2396 2 is_stmt 1 view .LVU756
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2355              		.loc 1 2396 26 is_stmt 0 view .LVU757
 2356 0254 0244     		add	r2, r2, r0
 2357              	.LVL254:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2358              		.loc 1 2396 26 view .LVU758
 2359 0256 013A     		subs	r2, r2, #1
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2360              		.loc 1 2396 42 view .LVU759
 2361 0258 B2FBF0F2 		udiv	r2, r2, r0
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2362              		.loc 1 2396 5 view .LVU760
 2363 025c 9A42     		cmp	r2, r3
 2364 025e 00F2B980 		bhi	.L224
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2365              		.loc 1 2401 2 is_stmt 1 view .LVU761
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2366              		.loc 1 2401 34 is_stmt 0 view .LVU762
 2367 0262 4FF0FF33 		mov	r3, #-1
 2368              	.LVL255:
ARM GAS  /tmp/ccc896J6.s 			page 93


2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2369              		.loc 1 2401 34 view .LVU763
 2370 0266 C5F81034 		str	r3, [r5, #1040]
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2371              		.loc 1 2401 17 view .LVU764
 2372 026a C5F80C34 		str	r3, [r5, #1036]
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2373              		.loc 1 2404 2 is_stmt 1 view .LVU765
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2374              		.loc 1 2404 15 is_stmt 0 view .LVU766
 2375 026e 8023     		movs	r3, #128
 2376 0270 85F80534 		strb	r3, [r5, #1029]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2377              		.loc 1 2406 2 is_stmt 1 view .LVU767
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2378              		.loc 1 2406 5 is_stmt 0 view .LVU768
 2379 0274 032C     		cmp	r4, #3
 2380 0276 2BD0     		beq	.L231
 2381              	.LVL256:
 2382              	.L198:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2383              		.loc 1 2425 2 is_stmt 1 view .LVU769
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2384              		.loc 1 2425 14 is_stmt 0 view .LVU770
 2385 0278 85F80044 		strb	r4, [r5, #1024]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2386              		.loc 1 2426 2 is_stmt 1 view .LVU771
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2387              		.loc 1 2426 11 is_stmt 0 view .LVU772
 2388 027c 134A     		ldr	r2, .L232+4
 2389 027e 1388     		ldrh	r3, [r2]
 2390 0280 0133     		adds	r3, r3, #1
 2391 0282 9BB2     		uxth	r3, r3
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2392              		.loc 1 2426 9 view .LVU773
 2393 0284 1380     		strh	r3, [r2]	@ movhi
 2394 0286 A5F80634 		strh	r3, [r5, #1030]	@ movhi
2431:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2395              		.loc 1 2431 2 is_stmt 1 view .LVU774
 2396 028a 2846     		mov	r0, r5
 2397 028c FFF7FEFF 		bl	clear_lock
 2398              	.LVL257:
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2399              		.loc 1 2434 2 view .LVU775
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2400              		.loc 1 2434 9 is_stmt 0 view .LVU776
 2401 0290 7AE0     		b	.L183
 2402              	.LVL258:
 2403              	.L221:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2404              		.loc 1 2379 30 discriminator 1 view .LVU777
 2405 0292 0324     		movs	r4, #3
 2406 0294 C1E7     		b	.L194
 2407              	.LVL259:
 2408              	.L229:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2409              		.loc 1 2387 3 is_stmt 1 view .LVU778
ARM GAS  /tmp/ccc896J6.s 			page 94


2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2410              		.loc 1 2387 6 is_stmt 0 view .LVU779
 2411 0296 BCF1000F 		cmp	ip, #0
 2412 029a 40F09780 		bne	.L222
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2413              		.loc 1 2388 3 is_stmt 1 view .LVU780
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2414              		.loc 1 2388 17 is_stmt 0 view .LVU781
 2415 029e 95F82FC0 		ldrb	ip, [r5, #47]	@ zero_extendqisi2
 2416              	.LVL260:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2417              		.loc 1 2388 17 view .LVU782
 2418 02a2 95F82E10 		ldrb	r1, [r5, #46]	@ zero_extendqisi2
 2419              	.LVL261:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2420              		.loc 1 2388 17 view .LVU783
 2421 02a6 0904     		lsls	r1, r1, #16
 2422 02a8 41EA0C61 		orr	r1, r1, ip, lsl #24
 2423 02ac 95F82DC0 		ldrb	ip, [r5, #45]	@ zero_extendqisi2
 2424 02b0 41EA0C21 		orr	r1, r1, ip, lsl #8
 2425 02b4 95F82CC0 		ldrb	ip, [r5, #44]	@ zero_extendqisi2
 2426 02b8 41EA0C01 		orr	r1, r1, ip
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2427              		.loc 1 2388 15 view .LVU784
 2428 02bc C5F82414 		str	r1, [r5, #1060]
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2429              		.loc 1 2389 3 is_stmt 1 view .LVU785
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2430              		.loc 1 2389 10 is_stmt 0 view .LVU786
 2431 02c0 9200     		lsls	r2, r2, #2
 2432              	.LVL262:
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2433              		.loc 1 2389 10 view .LVU787
 2434 02c2 C7E7     		b	.L196
 2435              	.LVL263:
 2436              	.L230:
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2437              		.loc 1 2394 21 discriminator 1 view .LVU788
 2438 02c4 5200     		lsls	r2, r2, #1
 2439 02c6 C5E7     		b	.L196
 2440              	.L233:
 2441              		.align	2
 2442              	.L232:
 2443 02c8 00000000 		.word	FatFs
 2444 02cc 00000000 		.word	Fsid
 2445              	.LVL264:
 2446              	.L231:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2447              		.loc 1 2407 6 view .LVU789
 2448 02d0 95F83120 		ldrb	r2, [r5, #49]	@ zero_extendqisi2
 2449 02d4 95F83030 		ldrb	r3, [r5, #48]	@ zero_extendqisi2
 2450 02d8 43EA0223 		orr	r3, r3, r2, lsl #8
 2451 02dc 1BB2     		sxth	r3, r3
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2452              		.loc 1 2407 3 view .LVU790
 2453 02de 012B     		cmp	r3, #1
 2454 02e0 CAD1     		bne	.L198
ARM GAS  /tmp/ccc896J6.s 			page 95


2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2455              		.loc 1 2408 6 view .LVU791
 2456 02e2 791C     		adds	r1, r7, #1
 2457 02e4 2846     		mov	r0, r5
 2458              	.LVL265:
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2459              		.loc 1 2408 6 view .LVU792
 2460 02e6 FFF7FEFF 		bl	move_window
 2461              	.LVL266:
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2462              		.loc 1 2408 3 discriminator 1 view .LVU793
 2463 02ea 0028     		cmp	r0, #0
 2464 02ec C4D1     		bne	.L198
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2465              		.loc 1 2410 3 is_stmt 1 view .LVU794
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2466              		.loc 1 2410 16 is_stmt 0 view .LVU795
 2467 02ee 0023     		movs	r3, #0
 2468 02f0 85F80534 		strb	r3, [r5, #1029]
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2469              		.loc 1 2411 3 is_stmt 1 view .LVU796
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2470              		.loc 1 2411 7 is_stmt 0 view .LVU797
 2471 02f4 95F8FF21 		ldrb	r2, [r5, #511]	@ zero_extendqisi2
 2472 02f8 95F8FE31 		ldrb	r3, [r5, #510]	@ zero_extendqisi2
 2473 02fc 43EA0223 		orr	r3, r3, r2, lsl #8
 2474 0300 1BB2     		sxth	r3, r3
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2475              		.loc 1 2411 6 view .LVU798
 2476 0302 354A     		ldr	r2, .L234
 2477 0304 9342     		cmp	r3, r2
 2478 0306 B7D1     		bne	.L198
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2479              		.loc 1 2412 7 view .LVU799
 2480 0308 EA78     		ldrb	r2, [r5, #3]	@ zero_extendqisi2
 2481 030a AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
 2482 030c 1B04     		lsls	r3, r3, #16
 2483 030e 43EA0263 		orr	r3, r3, r2, lsl #24
 2484 0312 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 2485 0314 43EA0223 		orr	r3, r3, r2, lsl #8
 2486 0318 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 2487 031a 1343     		orrs	r3, r3, r2
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2488              		.loc 1 2412 4 view .LVU800
 2489 031c 2F4A     		ldr	r2, .L234+4
 2490 031e 9342     		cmp	r3, r2
 2491 0320 AAD1     		bne	.L198
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2492              		.loc 1 2413 7 view .LVU801
 2493 0322 95F8E721 		ldrb	r2, [r5, #487]	@ zero_extendqisi2
 2494 0326 95F8E631 		ldrb	r3, [r5, #486]	@ zero_extendqisi2
 2495 032a 1B04     		lsls	r3, r3, #16
 2496 032c 43EA0263 		orr	r3, r3, r2, lsl #24
 2497 0330 95F8E521 		ldrb	r2, [r5, #485]	@ zero_extendqisi2
 2498 0334 43EA0223 		orr	r3, r3, r2, lsl #8
 2499 0338 95F8E421 		ldrb	r2, [r5, #484]	@ zero_extendqisi2
 2500 033c 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccc896J6.s 			page 96


2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2501              		.loc 1 2413 4 view .LVU802
 2502 033e 284A     		ldr	r2, .L234+8
 2503 0340 9342     		cmp	r3, r2
 2504 0342 99D1     		bne	.L198
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2505              		.loc 1 2416 4 is_stmt 1 view .LVU803
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2506              		.loc 1 2416 21 is_stmt 0 view .LVU804
 2507 0344 95F8EB21 		ldrb	r2, [r5, #491]	@ zero_extendqisi2
 2508 0348 95F8EA31 		ldrb	r3, [r5, #490]	@ zero_extendqisi2
 2509 034c 1B04     		lsls	r3, r3, #16
 2510 034e 43EA0263 		orr	r3, r3, r2, lsl #24
 2511 0352 95F8E921 		ldrb	r2, [r5, #489]	@ zero_extendqisi2
 2512 0356 43EA0223 		orr	r3, r3, r2, lsl #8
 2513 035a 95F8E821 		ldrb	r2, [r5, #488]	@ zero_extendqisi2
 2514 035e 1343     		orrs	r3, r3, r2
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2515              		.loc 1 2416 19 view .LVU805
 2516 0360 C5F81034 		str	r3, [r5, #1040]
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2517              		.loc 1 2419 4 is_stmt 1 view .LVU806
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2518              		.loc 1 2419 21 is_stmt 0 view .LVU807
 2519 0364 95F8EF21 		ldrb	r2, [r5, #495]	@ zero_extendqisi2
 2520 0368 95F8EE31 		ldrb	r3, [r5, #494]	@ zero_extendqisi2
 2521 036c 1B04     		lsls	r3, r3, #16
 2522 036e 43EA0263 		orr	r3, r3, r2, lsl #24
 2523 0372 95F8ED21 		ldrb	r2, [r5, #493]	@ zero_extendqisi2
 2524 0376 43EA0223 		orr	r3, r3, r2, lsl #8
 2525 037a 95F8EC21 		ldrb	r2, [r5, #492]	@ zero_extendqisi2
 2526 037e 1343     		orrs	r3, r3, r2
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2527              		.loc 1 2419 19 view .LVU808
 2528 0380 C5F80C34 		str	r3, [r5, #1036]
 2529 0384 78E7     		b	.L198
 2530              	.LVL267:
 2531              	.L199:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2532              		.loc 1 2294 22 discriminator 1 view .LVU809
 2533 0386 0B26     		movs	r6, #11
 2534              	.LVL268:
 2535              	.L183:
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2536              		.loc 1 2435 1 view .LVU810
 2537 0388 3046     		mov	r0, r6
 2538 038a 05B0     		add	sp, sp, #20
 2539              	.LCFI20:
 2540              		.cfi_remember_state
 2541              		.cfi_def_cfa_offset 28
 2542              		@ sp needed
 2543 038c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2544              	.LVL269:
 2545              	.L200:
 2546              	.LCFI21:
 2547              		.cfi_restore_state
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 97


 2548              		.loc 1 2298 18 discriminator 1 view .LVU811
 2549 0390 0C26     		movs	r6, #12
 2550              	.LVL270:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2551              		.loc 1 2298 18 discriminator 1 view .LVU812
 2552 0392 F9E7     		b	.L183
 2553              	.LVL271:
 2554              	.L202:
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 2555              		.loc 1 2319 10 view .LVU813
 2556 0394 0326     		movs	r6, #3
 2557 0396 F7E7     		b	.L183
 2558              	.L203:
2321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
 2559              		.loc 1 2321 10 view .LVU814
 2560 0398 0A26     		movs	r6, #10
 2561 039a F5E7     		b	.L183
 2562              	.LVL272:
 2563              	.L204:
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2564              		.loc 1 2324 51 discriminator 3 view .LVU815
 2565 039c 0126     		movs	r6, #1
 2566 039e F3E7     		b	.L183
 2567              	.L205:
 2568 03a0 0126     		movs	r6, #1
 2569 03a2 F1E7     		b	.L183
 2570              	.LVL273:
 2571              	.L210:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2572              		.loc 1 2341 23 discriminator 1 view .LVU816
 2573 03a4 0126     		movs	r6, #1
 2574              	.LVL274:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2575              		.loc 1 2341 23 discriminator 1 view .LVU817
 2576 03a6 EFE7     		b	.L183
 2577              	.LVL275:
 2578              	.L211:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2579              		.loc 1 2342 18 discriminator 1 view .LVU818
 2580 03a8 0D26     		movs	r6, #13
 2581              	.LVL276:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2582              		.loc 1 2342 18 discriminator 1 view .LVU819
 2583 03aa EDE7     		b	.L183
 2584              	.LVL277:
 2585              	.L212:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2586              		.loc 1 2347 10 view .LVU820
 2587 03ac 0D26     		movs	r6, #13
 2588              	.LVL278:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2589              		.loc 1 2347 10 view .LVU821
 2590 03ae EBE7     		b	.L183
 2591              	.LVL279:
 2592              	.L213:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2593              		.loc 1 2355 10 view .LVU822
ARM GAS  /tmp/ccc896J6.s 			page 98


 2594 03b0 0D26     		movs	r6, #13
 2595              	.LVL280:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2596              		.loc 1 2355 10 view .LVU823
 2597 03b2 E9E7     		b	.L183
 2598              	.LVL281:
 2599              	.L214:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2600              		.loc 1 2360 10 view .LVU824
 2601 03b4 0D26     		movs	r6, #13
 2602              	.LVL282:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2603              		.loc 1 2360 10 view .LVU825
 2604 03b6 E7E7     		b	.L183
 2605              	.LVL283:
 2606              	.L215:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2607              		.loc 1 2360 10 view .LVU826
 2608 03b8 0D26     		movs	r6, #13
 2609              	.LVL284:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2610              		.loc 1 2360 10 view .LVU827
 2611 03ba E5E7     		b	.L183
 2612              	.LVL285:
 2613              	.L216:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2614              		.loc 1 2364 10 view .LVU828
 2615 03bc 0D26     		movs	r6, #13
 2616              	.LVL286:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2617              		.loc 1 2364 10 view .LVU829
 2618 03be E3E7     		b	.L183
 2619              	.LVL287:
 2620              	.L217:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2621              		.loc 1 2370 20 discriminator 1 view .LVU830
 2622 03c0 0D26     		movs	r6, #13
 2623              	.LVL288:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2624              		.loc 1 2370 20 discriminator 1 view .LVU831
 2625 03c2 E1E7     		b	.L183
 2626              	.LVL289:
 2627              	.L218:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2628              		.loc 1 2374 29 discriminator 1 view .LVU832
 2629 03c4 0D26     		movs	r6, #13
 2630              	.LVL290:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2631              		.loc 1 2374 29 discriminator 1 view .LVU833
 2632 03c6 DFE7     		b	.L183
 2633              	.LVL291:
 2634              	.L219:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2635              		.loc 1 2376 21 discriminator 1 view .LVU834
 2636 03c8 0D26     		movs	r6, #13
 2637              	.LVL292:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
ARM GAS  /tmp/ccc896J6.s 			page 99


 2638              		.loc 1 2376 21 discriminator 1 view .LVU835
 2639 03ca DDE7     		b	.L183
 2640              	.LVL293:
 2641              	.L222:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2642              		.loc 1 2387 29 discriminator 1 view .LVU836
 2643 03cc 0D26     		movs	r6, #13
 2644 03ce DBE7     		b	.L183
 2645              	.L223:
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2646              		.loc 1 2391 30 discriminator 1 view .LVU837
 2647 03d0 0D26     		movs	r6, #13
 2648 03d2 D9E7     		b	.L183
 2649              	.LVL294:
 2650              	.L224:
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2651              		.loc 1 2397 10 view .LVU838
 2652 03d4 0D26     		movs	r6, #13
 2653 03d6 D7E7     		b	.L183
 2654              	.L235:
 2655              		.align	2
 2656              	.L234:
 2657 03d8 55AAFFFF 		.word	-21931
 2658 03dc 52526141 		.word	1096897106
 2659 03e0 72724161 		.word	1631679090
 2660              		.cfi_endproc
 2661              	.LFE97:
 2663              		.section	.text.sync_fs,"ax",%progbits
 2664              		.align	1
 2665              		.syntax unified
 2666              		.thumb
 2667              		.thumb_func
 2669              	sync_fs:
 2670              	.LVL295:
 2671              	.LFB76:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2672              		.loc 1 836 1 is_stmt 1 view -0
 2673              		.cfi_startproc
 2674              		@ args = 0, pretend = 0, frame = 0
 2675              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2676              		.loc 1 836 1 is_stmt 0 view .LVU840
 2677 0000 38B5     		push	{r3, r4, r5, lr}
 2678              	.LCFI22:
 2679              		.cfi_def_cfa_offset 16
 2680              		.cfi_offset 3, -16
 2681              		.cfi_offset 4, -12
 2682              		.cfi_offset 5, -8
 2683              		.cfi_offset 14, -4
 2684 0002 0446     		mov	r4, r0
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2685              		.loc 1 837 2 is_stmt 1 view .LVU841
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2686              		.loc 1 840 2 view .LVU842
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2687              		.loc 1 840 8 is_stmt 0 view .LVU843
 2688 0004 FFF7FEFF 		bl	sync_window
ARM GAS  /tmp/ccc896J6.s 			page 100


 2689              	.LVL296:
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2690              		.loc 1 841 2 is_stmt 1 view .LVU844
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2691              		.loc 1 841 5 is_stmt 0 view .LVU845
 2692 0008 0546     		mov	r5, r0
 2693 000a 58B9     		cbnz	r0, .L237
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2694              		.loc 1 843 3 is_stmt 1 view .LVU846
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2695              		.loc 1 843 9 is_stmt 0 view .LVU847
 2696 000c 94F80034 		ldrb	r3, [r4, #1024]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2697              		.loc 1 843 6 view .LVU848
 2698 0010 032B     		cmp	r3, #3
 2699 0012 09D0     		beq	.L241
 2700              	.LVL297:
 2701              	.L238:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2702              		.loc 1 857 3 is_stmt 1 view .LVU849
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2703              		.loc 1 857 7 is_stmt 0 view .LVU850
 2704 0014 0022     		movs	r2, #0
 2705 0016 1146     		mov	r1, r2
 2706 0018 94F80104 		ldrb	r0, [r4, #1025]	@ zero_extendqisi2
 2707 001c FFF7FEFF 		bl	disk_ioctl
 2708              	.LVL298:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2709              		.loc 1 857 6 discriminator 1 view .LVU851
 2710 0020 00B1     		cbz	r0, .L237
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2711              		.loc 1 858 8 view .LVU852
 2712 0022 0125     		movs	r5, #1
 2713              	.LVL299:
 2714              	.L237:
 861:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2715              		.loc 1 861 2 is_stmt 1 view .LVU853
 862:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2716              		.loc 1 862 1 is_stmt 0 view .LVU854
 2717 0024 2846     		mov	r0, r5
 2718 0026 38BD     		pop	{r3, r4, r5, pc}
 2719              	.LVL300:
 2720              	.L241:
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2721              		.loc 1 843 36 discriminator 1 view .LVU855
 2722 0028 94F80534 		ldrb	r3, [r4, #1029]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2723              		.loc 1 843 31 discriminator 1 view .LVU856
 2724 002c 012B     		cmp	r3, #1
 2725 002e F1D1     		bne	.L238
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2726              		.loc 1 845 4 is_stmt 1 view .LVU857
 2727 0030 B4F80A24 		ldrh	r2, [r4, #1034]
 2728 0034 0021     		movs	r1, #0
 2729 0036 2046     		mov	r0, r4
 2730              	.LVL301:
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
ARM GAS  /tmp/ccc896J6.s 			page 101


 2731              		.loc 1 845 4 is_stmt 0 view .LVU858
 2732 0038 FFF7FEFF 		bl	mem_set
 2733              	.LVL302:
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2734              		.loc 1 846 4 is_stmt 1 view .LVU859
 2735 003c 5523     		movs	r3, #85
 2736 003e 84F8FE31 		strb	r3, [r4, #510]
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2737              		.loc 1 846 4 view .LVU860
 2738 0042 AA23     		movs	r3, #170
 2739 0044 84F8FF31 		strb	r3, [r4, #511]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2740              		.loc 1 847 4 view .LVU861
 2741 0048 5223     		movs	r3, #82
 2742 004a 2370     		strb	r3, [r4]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2743              		.loc 1 847 4 view .LVU862
 2744 004c 6370     		strb	r3, [r4, #1]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2745              		.loc 1 847 4 view .LVU863
 2746 004e 6123     		movs	r3, #97
 2747 0050 A370     		strb	r3, [r4, #2]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2748              		.loc 1 847 4 view .LVU864
 2749 0052 4122     		movs	r2, #65
 2750 0054 E270     		strb	r2, [r4, #3]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2751              		.loc 1 848 4 view .LVU865
 2752 0056 7221     		movs	r1, #114
 2753 0058 84F8E411 		strb	r1, [r4, #484]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2754              		.loc 1 848 4 view .LVU866
 2755 005c 84F8E511 		strb	r1, [r4, #485]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2756              		.loc 1 848 4 view .LVU867
 2757 0060 84F8E621 		strb	r2, [r4, #486]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2758              		.loc 1 848 4 view .LVU868
 2759 0064 84F8E731 		strb	r3, [r4, #487]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2760              		.loc 1 849 4 view .LVU869
 2761 0068 D4F81034 		ldr	r3, [r4, #1040]
 2762 006c 84F8E831 		strb	r3, [r4, #488]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2763              		.loc 1 849 4 view .LVU870
 2764 0070 C3F30722 		ubfx	r2, r3, #8, #8
 2765 0074 84F8E921 		strb	r2, [r4, #489]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2766              		.loc 1 849 4 view .LVU871
 2767 0078 C3F30742 		ubfx	r2, r3, #16, #8
 2768 007c 84F8EA21 		strb	r2, [r4, #490]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2769              		.loc 1 849 4 view .LVU872
 2770 0080 1B0E     		lsrs	r3, r3, #24
 2771 0082 84F8EB31 		strb	r3, [r4, #491]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2772              		.loc 1 850 4 view .LVU873
ARM GAS  /tmp/ccc896J6.s 			page 102


 2773 0086 D4F80C34 		ldr	r3, [r4, #1036]
 2774 008a 84F8EC31 		strb	r3, [r4, #492]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2775              		.loc 1 850 4 view .LVU874
 2776 008e C3F30722 		ubfx	r2, r3, #8, #8
 2777 0092 84F8ED21 		strb	r2, [r4, #493]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2778              		.loc 1 850 4 view .LVU875
 2779 0096 C3F30742 		ubfx	r2, r3, #16, #8
 2780 009a 84F8EE21 		strb	r2, [r4, #494]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2781              		.loc 1 850 4 view .LVU876
 2782 009e 1B0E     		lsrs	r3, r3, #24
 2783 00a0 84F8EF31 		strb	r3, [r4, #495]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2784              		.loc 1 852 4 view .LVU877
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2785              		.loc 1 852 20 is_stmt 0 view .LVU878
 2786 00a4 D4F81C24 		ldr	r2, [r4, #1052]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2787              		.loc 1 852 30 view .LVU879
 2788 00a8 0132     		adds	r2, r2, #1
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2789              		.loc 1 852 16 view .LVU880
 2790 00aa C4F82C24 		str	r2, [r4, #1068]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 2791              		.loc 1 853 4 is_stmt 1 view .LVU881
 2792 00ae 0123     		movs	r3, #1
 2793 00b0 2146     		mov	r1, r4
 2794 00b2 94F80104 		ldrb	r0, [r4, #1025]	@ zero_extendqisi2
 2795 00b6 FFF7FEFF 		bl	disk_write
 2796              	.LVL303:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2797              		.loc 1 854 4 view .LVU882
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2798              		.loc 1 854 17 is_stmt 0 view .LVU883
 2799 00ba 0023     		movs	r3, #0
 2800 00bc 84F80534 		strb	r3, [r4, #1029]
 2801 00c0 A8E7     		b	.L238
 2802              		.cfi_endproc
 2803              	.LFE76:
 2805              		.section	.text.clust2sect,"ax",%progbits
 2806              		.align	1
 2807              		.global	clust2sect
 2808              		.syntax unified
 2809              		.thumb
 2810              		.thumb_func
 2812              	clust2sect:
 2813              	.LVL304:
 2814              	.LFB77:
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 2815              		.loc 1 877 1 is_stmt 1 view -0
 2816              		.cfi_startproc
 2817              		@ args = 0, pretend = 0, frame = 0
 2818              		@ frame_needed = 0, uses_anonymous_args = 0
 2819              		@ link register save eliminated.
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
ARM GAS  /tmp/ccc896J6.s 			page 103


 2820              		.loc 1 878 2 view .LVU885
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2821              		.loc 1 878 7 is_stmt 0 view .LVU886
 2822 0000 0239     		subs	r1, r1, #2
 2823              	.LVL305:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2824              		.loc 1 879 2 is_stmt 1 view .LVU887
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2825              		.loc 1 879 16 is_stmt 0 view .LVU888
 2826 0002 D0F81434 		ldr	r3, [r0, #1044]
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2827              		.loc 1 879 27 view .LVU889
 2828 0006 023B     		subs	r3, r3, #2
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2829              		.loc 1 879 5 view .LVU890
 2830 0008 8B42     		cmp	r3, r1
 2831 000a 06D9     		bls	.L244
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2832              		.loc 1 880 2 is_stmt 1 view .LVU891
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2833              		.loc 1 880 18 is_stmt 0 view .LVU892
 2834 000c 90F80234 		ldrb	r3, [r0, #1026]	@ zero_extendqisi2
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2835              		.loc 1 880 30 view .LVU893
 2836 0010 D0F82804 		ldr	r0, [r0, #1064]
 2837              	.LVL306:
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2838              		.loc 1 880 26 view .LVU894
 2839 0014 01FB0300 		mla	r0, r1, r3, r0
 2840 0018 7047     		bx	lr
 2841              	.LVL307:
 2842              	.L244:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2843              		.loc 1 879 39 discriminator 1 view .LVU895
 2844 001a 0020     		movs	r0, #0
 2845              	.LVL308:
 881:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2846              		.loc 1 881 1 view .LVU896
 2847 001c 7047     		bx	lr
 2848              		.cfi_endproc
 2849              	.LFE77:
 2851              		.section	.text.get_fat,"ax",%progbits
 2852              		.align	1
 2853              		.global	get_fat
 2854              		.syntax unified
 2855              		.thumb
 2856              		.thumb_func
 2858              	get_fat:
 2859              	.LVL309:
 2860              	.LFB78:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2861              		.loc 1 895 1 is_stmt 1 view -0
 2862              		.cfi_startproc
 2863              		@ args = 0, pretend = 0, frame = 0
 2864              		@ frame_needed = 0, uses_anonymous_args = 0
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2865              		.loc 1 896 2 view .LVU898
ARM GAS  /tmp/ccc896J6.s 			page 104


 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 2866              		.loc 1 897 2 view .LVU899
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2867              		.loc 1 898 2 view .LVU900
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2868              		.loc 1 901 2 view .LVU901
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2869              		.loc 1 901 5 is_stmt 0 view .LVU902
 2870 0000 0129     		cmp	r1, #1
 2871 0002 78D9     		bls	.L250
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2872              		.loc 1 895 1 view .LVU903
 2873 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2874              	.LCFI23:
 2875              		.cfi_def_cfa_offset 24
 2876              		.cfi_offset 3, -24
 2877              		.cfi_offset 4, -20
 2878              		.cfi_offset 5, -16
 2879              		.cfi_offset 6, -12
 2880              		.cfi_offset 7, -8
 2881              		.cfi_offset 14, -4
 2882 0006 0546     		mov	r5, r0
 2883 0008 0C46     		mov	r4, r1
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2884              		.loc 1 901 28 discriminator 1 view .LVU904
 2885 000a D0F81434 		ldr	r3, [r0, #1044]
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2886              		.loc 1 901 15 discriminator 1 view .LVU905
 2887 000e 8B42     		cmp	r3, r1
 2888 0010 73D9     		bls	.L251
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2889              		.loc 1 905 3 is_stmt 1 view .LVU906
 2890              	.LVL310:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2891              		.loc 1 907 3 view .LVU907
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2892              		.loc 1 907 13 is_stmt 0 view .LVU908
 2893 0012 90F80034 		ldrb	r3, [r0, #1024]	@ zero_extendqisi2
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2894              		.loc 1 907 3 view .LVU909
 2895 0016 022B     		cmp	r3, #2
 2896 0018 35D0     		beq	.L247
 2897 001a 032B     		cmp	r3, #3
 2898 001c 4BD0     		beq	.L248
 2899 001e 012B     		cmp	r3, #1
 2900 0020 6DD1     		bne	.L252
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2901              		.loc 1 909 4 is_stmt 1 view .LVU910
 2902              	.LVL311:
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2903              		.loc 1 909 21 view .LVU911
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2904              		.loc 1 909 24 is_stmt 0 view .LVU912
 2905 0022 01EB5106 		add	r6, r1, r1, lsr #1
 2906              	.LVL312:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2907              		.loc 1 910 4 is_stmt 1 view .LVU913
ARM GAS  /tmp/ccc896J6.s 			page 105


 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2908              		.loc 1 910 26 is_stmt 0 view .LVU914
 2909 0026 D0F82014 		ldr	r1, [r0, #1056]
 2910              	.LVL313:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2911              		.loc 1 910 44 view .LVU915
 2912 002a B0F80A34 		ldrh	r3, [r0, #1034]
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2913              		.loc 1 910 42 view .LVU916
 2914 002e B6FBF3F3 		udiv	r3, r6, r3
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2915              		.loc 1 910 8 view .LVU917
 2916 0032 1944     		add	r1, r1, r3
 2917 0034 FFF7FEFF 		bl	move_window
 2918              	.LVL314:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2919              		.loc 1 910 7 discriminator 1 view .LVU918
 2920 0038 10B1     		cbz	r0, .L261
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2921              		.loc 1 905 7 view .LVU919
 2922 003a 4FF0FF30 		mov	r0, #-1
 2923 003e 5DE0     		b	.L245
 2924              	.L261:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2925              		.loc 1 911 4 is_stmt 1 view .LVU920
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2926              		.loc 1 911 22 is_stmt 0 view .LVU921
 2927 0040 771C     		adds	r7, r6, #1
 2928              	.LVL315:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2929              		.loc 1 911 27 view .LVU922
 2930 0042 B5F80A34 		ldrh	r3, [r5, #1034]
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2931              		.loc 1 911 25 view .LVU923
 2932 0046 B6FBF3F2 		udiv	r2, r6, r3
 2933 004a 03FB1266 		mls	r6, r3, r2, r6
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2934              		.loc 1 911 19 view .LVU924
 2935 004e AE5D     		ldrb	r6, [r5, r6]	@ zero_extendqisi2
 2936              	.LVL316:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2937              		.loc 1 912 4 is_stmt 1 view .LVU925
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2938              		.loc 1 912 26 is_stmt 0 view .LVU926
 2939 0050 D5F82014 		ldr	r1, [r5, #1056]
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2940              		.loc 1 912 42 view .LVU927
 2941 0054 B7FBF3F3 		udiv	r3, r7, r3
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2942              		.loc 1 912 8 view .LVU928
 2943 0058 1944     		add	r1, r1, r3
 2944 005a 2846     		mov	r0, r5
 2945 005c FFF7FEFF 		bl	move_window
 2946              	.LVL317:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2947              		.loc 1 912 7 discriminator 1 view .LVU929
 2948 0060 0028     		cmp	r0, #0
ARM GAS  /tmp/ccc896J6.s 			page 106


 2949 0062 4ED1     		bne	.L254
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2950              		.loc 1 913 4 is_stmt 1 view .LVU930
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2951              		.loc 1 913 26 is_stmt 0 view .LVU931
 2952 0064 B5F80A34 		ldrh	r3, [r5, #1034]
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2953              		.loc 1 913 24 view .LVU932
 2954 0068 B7FBF3F2 		udiv	r2, r7, r3
 2955 006c 03FB1277 		mls	r7, r3, r2, r7
 2956              	.LVL318:
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2957              		.loc 1 913 20 view .LVU933
 2958 0070 EB5D     		ldrb	r3, [r5, r7]	@ zero_extendqisi2
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2959              		.loc 1 913 7 view .LVU934
 2960 0072 46EA0320 		orr	r0, r6, r3, lsl #8
 2961              	.LVL319:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2962              		.loc 1 914 4 is_stmt 1 view .LVU935
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2963              		.loc 1 914 29 is_stmt 0 view .LVU936
 2964 0076 14F0010F 		tst	r4, #1
 2965 007a 01D0     		beq	.L249
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2966              		.loc 1 914 29 discriminator 1 view .LVU937
 2967 007c 0009     		lsrs	r0, r0, #4
 2968              	.LVL320:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2969              		.loc 1 914 29 discriminator 1 view .LVU938
 2970 007e 3DE0     		b	.L245
 2971              	.LVL321:
 2972              	.L249:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2973              		.loc 1 914 29 discriminator 2 view .LVU939
 2974 0080 C0F30B00 		ubfx	r0, r0, #0, #12
 2975              	.LVL322:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2976              		.loc 1 914 29 discriminator 2 view .LVU940
 2977 0084 3AE0     		b	.L245
 2978              	.LVL323:
 2979              	.L247:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2980              		.loc 1 918 4 is_stmt 1 view .LVU941
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2981              		.loc 1 918 26 is_stmt 0 view .LVU942
 2982 0086 D0F82014 		ldr	r1, [r0, #1056]
 2983              	.LVL324:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2984              		.loc 1 918 47 view .LVU943
 2985 008a B0F80A34 		ldrh	r3, [r0, #1034]
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2986              		.loc 1 918 54 view .LVU944
 2987 008e 5B08     		lsrs	r3, r3, #1
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2988              		.loc 1 918 44 view .LVU945
 2989 0090 B4FBF3F3 		udiv	r3, r4, r3
ARM GAS  /tmp/ccc896J6.s 			page 107


 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2990              		.loc 1 918 8 view .LVU946
 2991 0094 1944     		add	r1, r1, r3
 2992 0096 FFF7FEFF 		bl	move_window
 2993              	.LVL325:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2994              		.loc 1 918 7 discriminator 1 view .LVU947
 2995 009a A8BB     		cbnz	r0, .L255
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2996              		.loc 1 919 4 is_stmt 1 view .LVU948
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2997              		.loc 1 919 25 is_stmt 0 view .LVU949
 2998 009c 6400     		lsls	r4, r4, #1
 2999              	.LVL326:
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3000              		.loc 1 919 31 view .LVU950
 3001 009e B5F80A34 		ldrh	r3, [r5, #1034]
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3002              		.loc 1 919 29 view .LVU951
 3003 00a2 B4FBF3F2 		udiv	r2, r4, r3
 3004 00a6 03FB1244 		mls	r4, r3, r2, r4
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3005              		.loc 1 919 6 view .LVU952
 3006 00aa 2B19     		adds	r3, r5, r4
 3007              	.LVL327:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3008              		.loc 1 920 4 is_stmt 1 view .LVU953
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3009              		.loc 1 920 10 is_stmt 0 view .LVU954
 3010 00ac 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3011              	.LVL328:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3012              		.loc 1 920 10 view .LVU955
 3013 00ae 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 3014 00b0 40EA0320 		orr	r0, r0, r3, lsl #8
 3015              	.LVL329:
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3016              		.loc 1 921 4 is_stmt 1 view .LVU956
 3017 00b4 22E0     		b	.L245
 3018              	.LVL330:
 3019              	.L248:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3020              		.loc 1 924 4 view .LVU957
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3021              		.loc 1 924 26 is_stmt 0 view .LVU958
 3022 00b6 D0F82014 		ldr	r1, [r0, #1056]
 3023              	.LVL331:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3024              		.loc 1 924 47 view .LVU959
 3025 00ba B0F80A34 		ldrh	r3, [r0, #1034]
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3026              		.loc 1 924 54 view .LVU960
 3027 00be 9B08     		lsrs	r3, r3, #2
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3028              		.loc 1 924 44 view .LVU961
 3029 00c0 B4FBF3F3 		udiv	r3, r4, r3
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
ARM GAS  /tmp/ccc896J6.s 			page 108


 3030              		.loc 1 924 8 view .LVU962
 3031 00c4 1944     		add	r1, r1, r3
 3032 00c6 FFF7FEFF 		bl	move_window
 3033              	.LVL332:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3034              		.loc 1 924 7 discriminator 1 view .LVU963
 3035 00ca 00BB     		cbnz	r0, .L256
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3036              		.loc 1 925 4 is_stmt 1 view .LVU964
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3037              		.loc 1 925 25 is_stmt 0 view .LVU965
 3038 00cc A400     		lsls	r4, r4, #2
 3039              	.LVL333:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3040              		.loc 1 925 31 view .LVU966
 3041 00ce B5F80A34 		ldrh	r3, [r5, #1034]
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3042              		.loc 1 925 29 view .LVU967
 3043 00d2 B4FBF3F2 		udiv	r2, r4, r3
 3044 00d6 03FB1244 		mls	r4, r3, r2, r4
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3045              		.loc 1 925 6 view .LVU968
 3046 00da 2B19     		adds	r3, r5, r4
 3047              	.LVL334:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3048              		.loc 1 926 4 is_stmt 1 view .LVU969
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3049              		.loc 1 926 10 is_stmt 0 view .LVU970
 3050 00dc DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 3051 00de 9878     		ldrb	r0, [r3, #2]	@ zero_extendqisi2
 3052 00e0 0004     		lsls	r0, r0, #16
 3053 00e2 40EA0260 		orr	r0, r0, r2, lsl #24
 3054 00e6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3055              	.LVL335:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3056              		.loc 1 926 10 view .LVU971
 3057 00e8 40EA0320 		orr	r0, r0, r3, lsl #8
 3058 00ec 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 3059 00ee 1843     		orrs	r0, r0, r3
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3060              		.loc 1 926 8 view .LVU972
 3061 00f0 20F07040 		bic	r0, r0, #-268435456
 3062              	.LVL336:
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3063              		.loc 1 927 4 is_stmt 1 view .LVU973
 3064 00f4 02E0     		b	.L245
 3065              	.LVL337:
 3066              	.L250:
 3067              	.LCFI24:
 3068              		.cfi_def_cfa_offset 0
 3069              		.cfi_restore 3
 3070              		.cfi_restore 4
 3071              		.cfi_restore 5
 3072              		.cfi_restore 6
 3073              		.cfi_restore 7
 3074              		.cfi_restore 14
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 109


 3075              		.loc 1 902 7 is_stmt 0 view .LVU974
 3076 00f6 0120     		movs	r0, #1
 3077              	.LVL338:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3078              		.loc 1 935 1 view .LVU975
 3079 00f8 7047     		bx	lr
 3080              	.LVL339:
 3081              	.L251:
 3082              	.LCFI25:
 3083              		.cfi_def_cfa_offset 24
 3084              		.cfi_offset 3, -24
 3085              		.cfi_offset 4, -20
 3086              		.cfi_offset 5, -16
 3087              		.cfi_offset 6, -12
 3088              		.cfi_offset 7, -8
 3089              		.cfi_offset 14, -4
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3090              		.loc 1 902 7 view .LVU976
 3091 00fa 0120     		movs	r0, #1
 3092              	.LVL340:
 3093              	.L245:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3094              		.loc 1 935 1 view .LVU977
 3095 00fc F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3096              	.LVL341:
 3097              	.L252:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3098              		.loc 1 907 3 view .LVU978
 3099 00fe 0120     		movs	r0, #1
 3100              	.LVL342:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3101              		.loc 1 907 3 view .LVU979
 3102 0100 FCE7     		b	.L245
 3103              	.LVL343:
 3104              	.L254:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3105              		.loc 1 905 7 view .LVU980
 3106 0102 4FF0FF30 		mov	r0, #-1
 3107 0106 F9E7     		b	.L245
 3108              	.LVL344:
 3109              	.L255:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3110              		.loc 1 905 7 view .LVU981
 3111 0108 4FF0FF30 		mov	r0, #-1
 3112 010c F6E7     		b	.L245
 3113              	.L256:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3114              		.loc 1 905 7 view .LVU982
 3115 010e 4FF0FF30 		mov	r0, #-1
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3116              		.loc 1 934 2 is_stmt 1 view .LVU983
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3117              		.loc 1 934 9 is_stmt 0 view .LVU984
 3118 0112 F3E7     		b	.L245
 3119              		.cfi_endproc
 3120              	.LFE78:
 3122              		.section	.text.dir_sdi,"ax",%progbits
ARM GAS  /tmp/ccc896J6.s 			page 110


 3123              		.align	1
 3124              		.syntax unified
 3125              		.thumb
 3126              		.thumb_func
 3128              	dir_sdi:
 3129              	.LVL345:
 3130              	.LFB83:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3131              		.loc 1 1157 1 is_stmt 1 view -0
 3132              		.cfi_startproc
 3133              		@ args = 0, pretend = 0, frame = 0
 3134              		@ frame_needed = 0, uses_anonymous_args = 0
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3135              		.loc 1 1157 1 is_stmt 0 view .LVU986
 3136 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3137              	.LCFI26:
 3138              		.cfi_def_cfa_offset 24
 3139              		.cfi_offset 3, -24
 3140              		.cfi_offset 4, -20
 3141              		.cfi_offset 5, -16
 3142              		.cfi_offset 6, -12
 3143              		.cfi_offset 7, -8
 3144              		.cfi_offset 14, -4
 3145 0002 0746     		mov	r7, r0
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
 3146              		.loc 1 1158 2 is_stmt 1 view .LVU987
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3147              		.loc 1 1159 2 view .LVU988
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3148              		.loc 1 1162 2 view .LVU989
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3149              		.loc 1 1162 12 is_stmt 0 view .LVU990
 3150 0004 A0F80614 		strh	r1, [r0, #1030]	@ movhi
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3151              		.loc 1 1163 2 is_stmt 1 view .LVU991
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3152              		.loc 1 1163 7 is_stmt 0 view .LVU992
 3153 0008 D0F80844 		ldr	r4, [r0, #1032]
 3154              	.LVL346:
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3155              		.loc 1 1164 2 is_stmt 1 view .LVU993
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3156              		.loc 1 1164 5 is_stmt 0 view .LVU994
 3157 000c 012C     		cmp	r4, #1
 3158 000e 52D0     		beq	.L269
 3159 0010 0E46     		mov	r6, r1
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3160              		.loc 1 1164 29 discriminator 1 view .LVU995
 3161 0012 D0F80034 		ldr	r3, [r0, #1024]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3162              		.loc 1 1164 33 discriminator 1 view .LVU996
 3163 0016 D3F81424 		ldr	r2, [r3, #1044]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3164              		.loc 1 1164 16 discriminator 1 view .LVU997
 3165 001a A242     		cmp	r2, r4
 3166 001c 4DD9     		bls	.L270
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
ARM GAS  /tmp/ccc896J6.s 			page 111


 3167              		.loc 1 1166 2 is_stmt 1 view .LVU998
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3168              		.loc 1 1166 5 is_stmt 0 view .LVU999
 3169 001e 44BB     		cbnz	r4, .L264
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3170              		.loc 1 1166 21 discriminator 1 view .LVU1000
 3171 0020 93F80024 		ldrb	r2, [r3, #1024]	@ zero_extendqisi2
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3172              		.loc 1 1166 12 discriminator 1 view .LVU1001
 3173 0024 032A     		cmp	r2, #3
 3174 0026 21D0     		beq	.L277
 3175              	.LVL347:
 3176              	.L265:
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3177              		.loc 1 1169 2 is_stmt 1 view .LVU1002
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3178              		.loc 1 1169 5 is_stmt 0 view .LVU1003
 3179 0028 1CBB     		cbnz	r4, .L264
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3180              		.loc 1 1170 3 is_stmt 1 view .LVU1004
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3181              		.loc 1 1170 20 is_stmt 0 view .LVU1005
 3182 002a B3F80824 		ldrh	r2, [r3, #1032]
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3183              		.loc 1 1170 6 view .LVU1006
 3184 002e B242     		cmp	r2, r6
 3185 0030 45D9     		bls	.L271
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3186              		.loc 1 1172 3 is_stmt 1 view .LVU1007
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3187              		.loc 1 1172 8 is_stmt 0 view .LVU1008
 3188 0032 D3F82404 		ldr	r0, [r3, #1060]
 3189              	.LVL348:
 3190              	.L266:
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3191              		.loc 1 1185 2 is_stmt 1 view .LVU1009
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3192              		.loc 1 1185 12 is_stmt 0 view .LVU1010
 3193 0036 C7F80C44 		str	r4, [r7, #1036]
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3194              		.loc 1 1186 2 is_stmt 1 view .LVU1011
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3195              		.loc 1 1186 5 is_stmt 0 view .LVU1012
 3196 003a 0028     		cmp	r0, #0
 3197 003c 47D0     		beq	.L275
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3198              		.loc 1 1187 2 is_stmt 1 view .LVU1013
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3199              		.loc 1 1187 27 is_stmt 0 view .LVU1014
 3200 003e D7F80024 		ldr	r2, [r7, #1024]
 3201 0042 B2F80A34 		ldrh	r3, [r2, #1034]
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3202              		.loc 1 1187 38 view .LVU1015
 3203 0046 5B09     		lsrs	r3, r3, #5
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3204              		.loc 1 1187 24 view .LVU1016
 3205 0048 B6FBF3F3 		udiv	r3, r6, r3
ARM GAS  /tmp/ccc896J6.s 			page 112


1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3206              		.loc 1 1187 18 view .LVU1017
 3207 004c 0344     		add	r3, r3, r0
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3208              		.loc 1 1187 11 view .LVU1018
 3209 004e C7F81034 		str	r3, [r7, #1040]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3210              		.loc 1 1188 2 is_stmt 1 view .LVU1019
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3211              		.loc 1 1188 37 is_stmt 0 view .LVU1020
 3212 0052 B2F80A34 		ldrh	r3, [r2, #1034]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3213              		.loc 1 1188 48 view .LVU1021
 3214 0056 5B09     		lsrs	r3, r3, #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3215              		.loc 1 1188 34 view .LVU1022
 3216 0058 B6FBF3F1 		udiv	r1, r6, r3
 3217 005c 03FB1161 		mls	r1, r3, r1, r6
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3218              		.loc 1 1188 27 view .LVU1023
 3219 0060 02EB4112 		add	r2, r2, r1, lsl #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3220              		.loc 1 1188 10 view .LVU1024
 3221 0064 C7F81424 		str	r2, [r7, #1044]
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3222              		.loc 1 1190 2 is_stmt 1 view .LVU1025
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3223              		.loc 1 1190 9 is_stmt 0 view .LVU1026
 3224 0068 0020     		movs	r0, #0
 3225              	.LVL349:
 3226              	.L263:
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3227              		.loc 1 1191 1 view .LVU1027
 3228 006a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3229              	.LVL350:
 3230              	.L277:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3231              		.loc 1 1167 3 is_stmt 1 view .LVU1028
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3232              		.loc 1 1167 8 is_stmt 0 view .LVU1029
 3233 006c D3F82444 		ldr	r4, [r3, #1060]
 3234              	.LVL351:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3235              		.loc 1 1167 8 view .LVU1030
 3236 0070 DAE7     		b	.L265
 3237              	.LVL352:
 3238              	.L264:
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3239              		.loc 1 1175 3 is_stmt 1 view .LVU1031
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3240              		.loc 1 1175 8 is_stmt 0 view .LVU1032
 3241 0072 B3F80A54 		ldrh	r5, [r3, #1034]
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3242              		.loc 1 1175 19 view .LVU1033
 3243 0076 6D09     		lsrs	r5, r5, #5
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3244              		.loc 1 1175 37 view .LVU1034
ARM GAS  /tmp/ccc896J6.s 			page 113


 3245 0078 93F80234 		ldrb	r3, [r3, #1026]	@ zero_extendqisi2
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3246              		.loc 1 1175 29 view .LVU1035
 3247 007c 03FB05F5 		mul	r5, r3, r5
 3248              	.LVL353:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3249              		.loc 1 1176 3 is_stmt 1 view .LVU1036
 3250              	.L267:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3251              		.loc 1 1176 14 view .LVU1037
 3252 0080 AE42     		cmp	r6, r5
 3253 0082 12D3     		bcc	.L278
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3254              		.loc 1 1177 4 view .LVU1038
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3255              		.loc 1 1177 11 is_stmt 0 view .LVU1039
 3256 0084 2146     		mov	r1, r4
 3257 0086 D7F80004 		ldr	r0, [r7, #1024]
 3258 008a FFF7FEFF 		bl	get_fat
 3259              	.LVL354:
 3260 008e 0446     		mov	r4, r0
 3261              	.LVL355:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3262              		.loc 1 1178 4 is_stmt 1 view .LVU1040
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3263              		.loc 1 1178 7 is_stmt 0 view .LVU1041
 3264 0090 B0F1FF3F 		cmp	r0, #-1
 3265 0094 15D0     		beq	.L272
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3266              		.loc 1 1179 4 is_stmt 1 view .LVU1042
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3267              		.loc 1 1179 7 is_stmt 0 view .LVU1043
 3268 0096 0128     		cmp	r0, #1
 3269 0098 15D9     		bls	.L273
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3270              		.loc 1 1179 30 discriminator 1 view .LVU1044
 3271 009a D7F80034 		ldr	r3, [r7, #1024]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3272              		.loc 1 1179 34 discriminator 1 view .LVU1045
 3273 009e D3F81434 		ldr	r3, [r3, #1044]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3274              		.loc 1 1179 17 discriminator 1 view .LVU1046
 3275 00a2 8342     		cmp	r3, r0
 3276 00a4 11D9     		bls	.L274
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3277              		.loc 1 1181 4 is_stmt 1 view .LVU1047
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3278              		.loc 1 1181 8 is_stmt 0 view .LVU1048
 3279 00a6 761B     		subs	r6, r6, r5
 3280              	.LVL356:
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3281              		.loc 1 1181 8 view .LVU1049
 3282 00a8 EAE7     		b	.L267
 3283              	.LVL357:
 3284              	.L278:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3285              		.loc 1 1183 3 is_stmt 1 view .LVU1050
ARM GAS  /tmp/ccc896J6.s 			page 114


1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3286              		.loc 1 1183 10 is_stmt 0 view .LVU1051
 3287 00aa 2146     		mov	r1, r4
 3288 00ac D7F80004 		ldr	r0, [r7, #1024]
 3289 00b0 FFF7FEFF 		bl	clust2sect
 3290              	.LVL358:
 3291 00b4 BFE7     		b	.L266
 3292              	.LVL359:
 3293              	.L269:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3294              		.loc 1 1165 10 view .LVU1052
 3295 00b6 0220     		movs	r0, #2
 3296              	.LVL360:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3297              		.loc 1 1165 10 view .LVU1053
 3298 00b8 D7E7     		b	.L263
 3299              	.LVL361:
 3300              	.L270:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3301              		.loc 1 1165 10 view .LVU1054
 3302 00ba 0220     		movs	r0, #2
 3303              	.LVL362:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3304              		.loc 1 1165 10 view .LVU1055
 3305 00bc D5E7     		b	.L263
 3306              	.LVL363:
 3307              	.L271:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3308              		.loc 1 1171 11 view .LVU1056
 3309 00be 0220     		movs	r0, #2
 3310              	.LVL364:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3311              		.loc 1 1171 11 view .LVU1057
 3312 00c0 D3E7     		b	.L263
 3313              	.LVL365:
 3314              	.L272:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3315              		.loc 1 1178 35 discriminator 1 view .LVU1058
 3316 00c2 0120     		movs	r0, #1
 3317              	.LVL366:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3318              		.loc 1 1178 35 discriminator 1 view .LVU1059
 3319 00c4 D1E7     		b	.L263
 3320              	.LVL367:
 3321              	.L273:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3322              		.loc 1 1180 12 view .LVU1060
 3323 00c6 0220     		movs	r0, #2
 3324              	.LVL368:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3325              		.loc 1 1180 12 view .LVU1061
 3326 00c8 CFE7     		b	.L263
 3327              	.LVL369:
 3328              	.L274:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3329              		.loc 1 1180 12 view .LVU1062
 3330 00ca 0220     		movs	r0, #2
ARM GAS  /tmp/ccc896J6.s 			page 115


 3331              	.LVL370:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3332              		.loc 1 1180 12 view .LVU1063
 3333 00cc CDE7     		b	.L263
 3334              	.LVL371:
 3335              	.L275:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3336              		.loc 1 1186 20 discriminator 1 view .LVU1064
 3337 00ce 0220     		movs	r0, #2
 3338              	.LVL372:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3339              		.loc 1 1186 20 discriminator 1 view .LVU1065
 3340 00d0 CBE7     		b	.L263
 3341              		.cfi_endproc
 3342              	.LFE83:
 3344              		.section	.text.dir_remove,"ax",%progbits
 3345              		.align	1
 3346              		.syntax unified
 3347              		.thumb
 3348              		.thumb_func
 3350              	dir_remove:
 3351              	.LVL373:
 3352              	.LFB91:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3353              		.loc 1 1729 1 is_stmt 1 view -0
 3354              		.cfi_startproc
 3355              		@ args = 0, pretend = 0, frame = 0
 3356              		@ frame_needed = 0, uses_anonymous_args = 0
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3357              		.loc 1 1729 1 is_stmt 0 view .LVU1067
 3358 0000 38B5     		push	{r3, r4, r5, lr}
 3359              	.LCFI27:
 3360              		.cfi_def_cfa_offset 16
 3361              		.cfi_offset 3, -16
 3362              		.cfi_offset 4, -12
 3363              		.cfi_offset 5, -8
 3364              		.cfi_offset 14, -4
 3365 0002 0446     		mov	r4, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 3366              		.loc 1 1730 2 is_stmt 1 view .LVU1068
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3367              		.loc 1 1750 2 view .LVU1069
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3368              		.loc 1 1750 8 is_stmt 0 view .LVU1070
 3369 0004 B0F80614 		ldrh	r1, [r0, #1030]
 3370 0008 FFF7FEFF 		bl	dir_sdi
 3371              	.LVL374:
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3372              		.loc 1 1751 2 is_stmt 1 view .LVU1071
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3373              		.loc 1 1751 5 is_stmt 0 view .LVU1072
 3374 000c 0546     		mov	r5, r0
 3375 000e 08B1     		cbz	r0, .L282
 3376              	.LVL375:
 3377              	.L280:
1761:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3378              		.loc 1 1761 2 is_stmt 1 view .LVU1073
ARM GAS  /tmp/ccc896J6.s 			page 116


1762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3379              		.loc 1 1762 1 is_stmt 0 view .LVU1074
 3380 0010 2846     		mov	r0, r5
 3381 0012 38BD     		pop	{r3, r4, r5, pc}
 3382              	.LVL376:
 3383              	.L282:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3384              		.loc 1 1752 3 is_stmt 1 view .LVU1075
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3385              		.loc 1 1752 9 is_stmt 0 view .LVU1076
 3386 0014 D4F81014 		ldr	r1, [r4, #1040]
 3387 0018 D4F80004 		ldr	r0, [r4, #1024]
 3388              	.LVL377:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3389              		.loc 1 1752 9 view .LVU1077
 3390 001c FFF7FEFF 		bl	move_window
 3391              	.LVL378:
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3392              		.loc 1 1753 3 is_stmt 1 view .LVU1078
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3393              		.loc 1 1753 6 is_stmt 0 view .LVU1079
 3394 0020 0546     		mov	r5, r0
 3395 0022 0028     		cmp	r0, #0
 3396 0024 F4D1     		bne	.L280
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3397              		.loc 1 1754 4 is_stmt 1 view .LVU1080
 3398 0026 2022     		movs	r2, #32
 3399 0028 0021     		movs	r1, #0
 3400 002a D4F81404 		ldr	r0, [r4, #1044]
 3401              	.LVL379:
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3402              		.loc 1 1754 4 is_stmt 0 view .LVU1081
 3403 002e FFF7FEFF 		bl	mem_set
 3404              	.LVL380:
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3405              		.loc 1 1755 4 is_stmt 1 view .LVU1082
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3406              		.loc 1 1755 7 is_stmt 0 view .LVU1083
 3407 0032 D4F81434 		ldr	r3, [r4, #1044]
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3408              		.loc 1 1755 13 view .LVU1084
 3409 0036 E522     		movs	r2, #229
 3410 0038 1A70     		strb	r2, [r3]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3411              		.loc 1 1756 4 is_stmt 1 view .LVU1085
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3412              		.loc 1 1756 6 is_stmt 0 view .LVU1086
 3413 003a D4F80034 		ldr	r3, [r4, #1024]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3414              		.loc 1 1756 18 view .LVU1087
 3415 003e 0122     		movs	r2, #1
 3416 0040 83F80424 		strb	r2, [r3, #1028]
 3417 0044 E4E7     		b	.L280
 3418              		.cfi_endproc
 3419              	.LFE91:
 3421              		.section	.text.put_fat,"ax",%progbits
 3422              		.align	1
ARM GAS  /tmp/ccc896J6.s 			page 117


 3423              		.global	put_fat
 3424              		.syntax unified
 3425              		.thumb
 3426              		.thumb_func
 3428              	put_fat:
 3429              	.LVL381:
 3430              	.LFB79:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3431              		.loc 1 951 1 is_stmt 1 view -0
 3432              		.cfi_startproc
 3433              		@ args = 0, pretend = 0, frame = 0
 3434              		@ frame_needed = 0, uses_anonymous_args = 0
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3435              		.loc 1 952 2 view .LVU1089
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3436              		.loc 1 953 2 view .LVU1090
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3437              		.loc 1 954 2 view .LVU1091
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3438              		.loc 1 957 2 view .LVU1092
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3439              		.loc 1 957 5 is_stmt 0 view .LVU1093
 3440 0000 0129     		cmp	r1, #1
 3441 0002 40F29B80 		bls	.L291
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3442              		.loc 1 951 1 view .LVU1094
 3443 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3444              	.LCFI28:
 3445              		.cfi_def_cfa_offset 24
 3446              		.cfi_offset 4, -24
 3447              		.cfi_offset 5, -20
 3448              		.cfi_offset 6, -16
 3449              		.cfi_offset 7, -12
 3450              		.cfi_offset 8, -8
 3451              		.cfi_offset 14, -4
 3452 000a 0546     		mov	r5, r0
 3453 000c 0C46     		mov	r4, r1
 3454 000e 1646     		mov	r6, r2
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3455              		.loc 1 957 28 discriminator 1 view .LVU1095
 3456 0010 D0F81434 		ldr	r3, [r0, #1044]
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3457              		.loc 1 957 15 discriminator 1 view .LVU1096
 3458 0014 8B42     		cmp	r3, r1
 3459 0016 40F29380 		bls	.L292
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3460              		.loc 1 961 3 is_stmt 1 view .LVU1097
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3461              		.loc 1 961 13 is_stmt 0 view .LVU1098
 3462 001a 90F80034 		ldrb	r3, [r0, #1024]	@ zero_extendqisi2
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3463              		.loc 1 961 3 view .LVU1099
 3464 001e 022B     		cmp	r3, #2
 3465 0020 49D0     		beq	.L285
 3466 0022 032B     		cmp	r3, #3
 3467 0024 62D0     		beq	.L286
 3468 0026 012B     		cmp	r3, #1
ARM GAS  /tmp/ccc896J6.s 			page 118


 3469 0028 40F08D80 		bne	.L293
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3470              		.loc 1 963 4 is_stmt 1 view .LVU1100
 3471              	.LVL382:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3472              		.loc 1 963 21 view .LVU1101
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3473              		.loc 1 963 24 is_stmt 0 view .LVU1102
 3474 002c 01EB5107 		add	r7, r1, r1, lsr #1
 3475              	.LVL383:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3476              		.loc 1 964 4 is_stmt 1 view .LVU1103
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3477              		.loc 1 964 28 is_stmt 0 view .LVU1104
 3478 0030 D0F82014 		ldr	r1, [r0, #1056]
 3479              	.LVL384:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3480              		.loc 1 964 46 view .LVU1105
 3481 0034 B0F80A34 		ldrh	r3, [r0, #1034]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3482              		.loc 1 964 44 view .LVU1106
 3483 0038 B7FBF3F3 		udiv	r3, r7, r3
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3484              		.loc 1 964 10 view .LVU1107
 3485 003c 1944     		add	r1, r1, r3
 3486 003e FFF7FEFF 		bl	move_window
 3487              	.LVL385:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3488              		.loc 1 965 4 is_stmt 1 view .LVU1108
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3489              		.loc 1 965 7 is_stmt 0 view .LVU1109
 3490 0042 0028     		cmp	r0, #0
 3491 0044 7DD1     		bne	.L284
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3492              		.loc 1 966 4 is_stmt 1 view .LVU1110
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3493              		.loc 1 966 22 is_stmt 0 view .LVU1111
 3494 0046 07F10108 		add	r8, r7, #1
 3495              	.LVL386:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3496              		.loc 1 966 27 view .LVU1112
 3497 004a B5F80A34 		ldrh	r3, [r5, #1034]
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3498              		.loc 1 966 25 view .LVU1113
 3499 004e B7FBF3F2 		udiv	r2, r7, r3
 3500 0052 03FB1277 		mls	r7, r3, r2, r7
 3501              	.LVL387:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3502              		.loc 1 967 4 is_stmt 1 view .LVU1114
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3503              		.loc 1 967 7 is_stmt 0 view .LVU1115
 3504 0056 14F00104 		ands	r4, r4, #1
 3505              	.LVL388:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3506              		.loc 1 967 7 view .LVU1116
 3507 005a 22D0     		beq	.L287
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  /tmp/ccc896J6.s 			page 119


 3508              		.loc 1 967 24 discriminator 1 view .LVU1117
 3509 005c EA5D     		ldrb	r2, [r5, r7]	@ zero_extendqisi2
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3510              		.loc 1 967 7 discriminator 1 view .LVU1118
 3511 005e 02F00F02 		and	r2, r2, #15
 3512 0062 42EA0612 		orr	r2, r2, r6, lsl #4
 3513 0066 D2B2     		uxtb	r2, r2
 3514              	.L288:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3515              		.loc 1 967 7 discriminator 4 view .LVU1119
 3516 0068 EA55     		strb	r2, [r5, r7]
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3517              		.loc 1 968 4 is_stmt 1 view .LVU1120
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3518              		.loc 1 968 14 is_stmt 0 view .LVU1121
 3519 006a 0122     		movs	r2, #1
 3520 006c 85F80424 		strb	r2, [r5, #1028]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3521              		.loc 1 969 4 is_stmt 1 view .LVU1122
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3522              		.loc 1 969 28 is_stmt 0 view .LVU1123
 3523 0070 D5F82014 		ldr	r1, [r5, #1056]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3524              		.loc 1 969 44 view .LVU1124
 3525 0074 B8FBF3F3 		udiv	r3, r8, r3
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3526              		.loc 1 969 10 view .LVU1125
 3527 0078 1944     		add	r1, r1, r3
 3528 007a 2846     		mov	r0, r5
 3529              	.LVL389:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3530              		.loc 1 969 10 view .LVU1126
 3531 007c FFF7FEFF 		bl	move_window
 3532              	.LVL390:
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3533              		.loc 1 970 4 is_stmt 1 view .LVU1127
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3534              		.loc 1 970 7 is_stmt 0 view .LVU1128
 3535 0080 0028     		cmp	r0, #0
 3536 0082 5ED1     		bne	.L284
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3537              		.loc 1 971 4 is_stmt 1 view .LVU1129
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3538              		.loc 1 971 25 is_stmt 0 view .LVU1130
 3539 0084 B5F80A34 		ldrh	r3, [r5, #1034]
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3540              		.loc 1 971 23 view .LVU1131
 3541 0088 B8FBF3F2 		udiv	r2, r8, r3
 3542 008c 03FB1288 		mls	r8, r3, r2, r8
 3543              	.LVL391:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3544              		.loc 1 972 4 is_stmt 1 view .LVU1132
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3545              		.loc 1 972 7 is_stmt 0 view .LVU1133
 3546 0090 4CB1     		cbz	r4, .L289
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3547              		.loc 1 972 7 discriminator 1 view .LVU1134
ARM GAS  /tmp/ccc896J6.s 			page 120


 3548 0092 C6F30713 		ubfx	r3, r6, #4, #8
 3549              	.L290:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3550              		.loc 1 972 7 discriminator 4 view .LVU1135
 3551 0096 05F80830 		strb	r3, [r5, r8]
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3552              		.loc 1 973 4 is_stmt 1 view .LVU1136
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3553              		.loc 1 973 14 is_stmt 0 view .LVU1137
 3554 009a 0123     		movs	r3, #1
 3555 009c 85F80434 		strb	r3, [r5, #1028]
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3556              		.loc 1 974 4 is_stmt 1 view .LVU1138
 3557 00a0 4FE0     		b	.L284
 3558              	.LVL392:
 3559              	.L287:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3560              		.loc 1 967 7 is_stmt 0 discriminator 2 view .LVU1139
 3561 00a2 F2B2     		uxtb	r2, r6
 3562 00a4 E0E7     		b	.L288
 3563              	.LVL393:
 3564              	.L289:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3565              		.loc 1 972 43 discriminator 2 view .LVU1140
 3566 00a6 15F80830 		ldrb	r3, [r5, r8]	@ zero_extendqisi2
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3567              		.loc 1 972 74 discriminator 2 view .LVU1141
 3568 00aa C6F30322 		ubfx	r2, r6, #8, #4
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3569              		.loc 1 972 7 discriminator 2 view .LVU1142
 3570 00ae 23F00F03 		bic	r3, r3, #15
 3571 00b2 1343     		orrs	r3, r3, r2
 3572 00b4 EFE7     		b	.L290
 3573              	.LVL394:
 3574              	.L285:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3575              		.loc 1 977 4 is_stmt 1 view .LVU1143
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3576              		.loc 1 977 28 is_stmt 0 view .LVU1144
 3577 00b6 D0F82014 		ldr	r1, [r0, #1056]
 3578              	.LVL395:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3579              		.loc 1 977 49 view .LVU1145
 3580 00ba B0F80A34 		ldrh	r3, [r0, #1034]
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3581              		.loc 1 977 56 view .LVU1146
 3582 00be 5B08     		lsrs	r3, r3, #1
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3583              		.loc 1 977 46 view .LVU1147
 3584 00c0 B4FBF3F3 		udiv	r3, r4, r3
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3585              		.loc 1 977 10 view .LVU1148
 3586 00c4 1944     		add	r1, r1, r3
 3587 00c6 FFF7FEFF 		bl	move_window
 3588              	.LVL396:
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3589              		.loc 1 978 4 is_stmt 1 view .LVU1149
ARM GAS  /tmp/ccc896J6.s 			page 121


 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3590              		.loc 1 978 7 is_stmt 0 view .LVU1150
 3591 00ca D0BB     		cbnz	r0, .L284
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3592              		.loc 1 979 4 is_stmt 1 view .LVU1151
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3593              		.loc 1 979 25 is_stmt 0 view .LVU1152
 3594 00cc 6400     		lsls	r4, r4, #1
 3595              	.LVL397:
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3596              		.loc 1 979 31 view .LVU1153
 3597 00ce B5F80A34 		ldrh	r3, [r5, #1034]
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3598              		.loc 1 979 29 view .LVU1154
 3599 00d2 B4FBF3F2 		udiv	r2, r4, r3
 3600 00d6 03FB1244 		mls	r4, r3, r2, r4
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3601              		.loc 1 979 6 view .LVU1155
 3602 00da 2B19     		adds	r3, r5, r4
 3603              	.LVL398:
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3604              		.loc 1 980 4 is_stmt 1 view .LVU1156
 3605 00dc 2E55     		strb	r6, [r5, r4]
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3606              		.loc 1 980 4 view .LVU1157
 3607 00de C6F30722 		ubfx	r2, r6, #8, #8
 3608 00e2 5A70     		strb	r2, [r3, #1]
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3609              		.loc 1 981 4 view .LVU1158
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3610              		.loc 1 981 14 is_stmt 0 view .LVU1159
 3611 00e4 0123     		movs	r3, #1
 3612              	.LVL399:
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3613              		.loc 1 981 14 view .LVU1160
 3614 00e6 85F80434 		strb	r3, [r5, #1028]
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3615              		.loc 1 982 4 is_stmt 1 view .LVU1161
 3616 00ea 2AE0     		b	.L284
 3617              	.LVL400:
 3618              	.L286:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3619              		.loc 1 985 4 view .LVU1162
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3620              		.loc 1 985 28 is_stmt 0 view .LVU1163
 3621 00ec D0F82014 		ldr	r1, [r0, #1056]
 3622              	.LVL401:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3623              		.loc 1 985 49 view .LVU1164
 3624 00f0 B0F80A34 		ldrh	r3, [r0, #1034]
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3625              		.loc 1 985 56 view .LVU1165
 3626 00f4 9B08     		lsrs	r3, r3, #2
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3627              		.loc 1 985 46 view .LVU1166
 3628 00f6 B4FBF3F3 		udiv	r3, r4, r3
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/ccc896J6.s 			page 122


 3629              		.loc 1 985 10 view .LVU1167
 3630 00fa 1944     		add	r1, r1, r3
 3631 00fc FFF7FEFF 		bl	move_window
 3632              	.LVL402:
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3633              		.loc 1 986 4 is_stmt 1 view .LVU1168
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3634              		.loc 1 986 7 is_stmt 0 view .LVU1169
 3635 0100 F8B9     		cbnz	r0, .L284
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3636              		.loc 1 987 4 is_stmt 1 view .LVU1170
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3637              		.loc 1 987 25 is_stmt 0 view .LVU1171
 3638 0102 A400     		lsls	r4, r4, #2
 3639              	.LVL403:
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3640              		.loc 1 987 31 view .LVU1172
 3641 0104 B5F80A34 		ldrh	r3, [r5, #1034]
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3642              		.loc 1 987 29 view .LVU1173
 3643 0108 B4FBF3F2 		udiv	r2, r4, r3
 3644 010c 03FB1244 		mls	r4, r3, r2, r4
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3645              		.loc 1 987 6 view .LVU1174
 3646 0110 2919     		adds	r1, r5, r4
 3647              	.LVL404:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3648              		.loc 1 988 4 is_stmt 1 view .LVU1175
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3649              		.loc 1 988 11 is_stmt 0 view .LVU1176
 3650 0112 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 3651 0114 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 3652 0116 1B04     		lsls	r3, r3, #16
 3653 0118 43EA0263 		orr	r3, r3, r2, lsl #24
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3654              		.loc 1 988 23 view .LVU1177
 3655 011c 03F07043 		and	r3, r3, #-268435456
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3656              		.loc 1 988 8 view .LVU1178
 3657 0120 3343     		orrs	r3, r3, r6
 3658              	.LVL405:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3659              		.loc 1 989 4 is_stmt 1 view .LVU1179
 3660 0122 2E55     		strb	r6, [r5, r4]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3661              		.loc 1 989 4 view .LVU1180
 3662 0124 C6F30722 		ubfx	r2, r6, #8, #8
 3663 0128 4A70     		strb	r2, [r1, #1]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3664              		.loc 1 989 4 view .LVU1181
 3665 012a C6F30742 		ubfx	r2, r6, #16, #8
 3666 012e 8A70     		strb	r2, [r1, #2]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3667              		.loc 1 989 4 view .LVU1182
 3668 0130 1B0E     		lsrs	r3, r3, #24
 3669              	.LVL406:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  /tmp/ccc896J6.s 			page 123


 3670              		.loc 1 989 4 is_stmt 0 view .LVU1183
 3671 0132 CB70     		strb	r3, [r1, #3]
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3672              		.loc 1 990 4 is_stmt 1 view .LVU1184
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3673              		.loc 1 990 14 is_stmt 0 view .LVU1185
 3674 0134 0123     		movs	r3, #1
 3675 0136 85F80434 		strb	r3, [r5, #1028]
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3676              		.loc 1 991 4 is_stmt 1 view .LVU1186
 3677 013a 02E0     		b	.L284
 3678              	.LVL407:
 3679              	.L291:
 3680              	.LCFI29:
 3681              		.cfi_def_cfa_offset 0
 3682              		.cfi_restore 4
 3683              		.cfi_restore 5
 3684              		.cfi_restore 6
 3685              		.cfi_restore 7
 3686              		.cfi_restore 8
 3687              		.cfi_restore 14
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3688              		.loc 1 958 7 is_stmt 0 view .LVU1187
 3689 013c 0220     		movs	r0, #2
 3690              	.LVL408:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3691              		.loc 1 998 2 is_stmt 1 view .LVU1188
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3692              		.loc 1 999 1 is_stmt 0 view .LVU1189
 3693 013e 7047     		bx	lr
 3694              	.LVL409:
 3695              	.L292:
 3696              	.LCFI30:
 3697              		.cfi_def_cfa_offset 24
 3698              		.cfi_offset 4, -24
 3699              		.cfi_offset 5, -20
 3700              		.cfi_offset 6, -16
 3701              		.cfi_offset 7, -12
 3702              		.cfi_offset 8, -8
 3703              		.cfi_offset 14, -4
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3704              		.loc 1 958 7 view .LVU1190
 3705 0140 0220     		movs	r0, #2
 3706              	.LVL410:
 3707              	.L284:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3708              		.loc 1 998 2 is_stmt 1 view .LVU1191
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3709              		.loc 1 999 1 is_stmt 0 view .LVU1192
 3710 0142 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3711              	.LVL411:
 3712              	.L293:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3713              		.loc 1 961 3 view .LVU1193
 3714 0146 0220     		movs	r0, #2
 3715              	.LVL412:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
ARM GAS  /tmp/ccc896J6.s 			page 124


 3716              		.loc 1 961 3 view .LVU1194
 3717 0148 FBE7     		b	.L284
 3718              		.cfi_endproc
 3719              	.LFE79:
 3721              		.section	.text.create_chain,"ax",%progbits
 3722              		.align	1
 3723              		.syntax unified
 3724              		.thumb
 3725              		.thumb_func
 3727              	create_chain:
 3728              	.LVL413:
 3729              	.LFB81:
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3730              		.loc 1 1067 1 is_stmt 1 view -0
 3731              		.cfi_startproc
 3732              		@ args = 0, pretend = 0, frame = 0
 3733              		@ frame_needed = 0, uses_anonymous_args = 0
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3734              		.loc 1 1067 1 is_stmt 0 view .LVU1196
 3735 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3736              	.LCFI31:
 3737              		.cfi_def_cfa_offset 24
 3738              		.cfi_offset 3, -24
 3739              		.cfi_offset 4, -20
 3740              		.cfi_offset 5, -16
 3741              		.cfi_offset 6, -12
 3742              		.cfi_offset 7, -8
 3743              		.cfi_offset 14, -4
 3744 0002 0546     		mov	r5, r0
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3745              		.loc 1 1068 2 is_stmt 1 view .LVU1197
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3746              		.loc 1 1069 2 view .LVU1198
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3747              		.loc 1 1072 2 view .LVU1199
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3748              		.loc 1 1072 5 is_stmt 0 view .LVU1200
 3749 0004 0F46     		mov	r7, r1
 3750 0006 41B9     		cbnz	r1, .L299
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3751              		.loc 1 1073 3 is_stmt 1 view .LVU1201
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3752              		.loc 1 1073 7 is_stmt 0 view .LVU1202
 3753 0008 D0F80C64 		ldr	r6, [r0, #1036]
 3754              	.LVL414:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3755              		.loc 1 1074 3 is_stmt 1 view .LVU1203
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3756              		.loc 1 1074 6 is_stmt 0 view .LVU1204
 3757 000c 9EB1     		cbz	r6, .L307
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3758              		.loc 1 1074 24 discriminator 2 view .LVU1205
 3759 000e D0F81434 		ldr	r3, [r0, #1044]
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3760              		.loc 1 1074 12 discriminator 2 view .LVU1206
 3761 0012 B342     		cmp	r3, r6
 3762 0014 10D8     		bhi	.L300
ARM GAS  /tmp/ccc896J6.s 			page 125


1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3763              		.loc 1 1074 40 discriminator 3 view .LVU1207
 3764 0016 0126     		movs	r6, #1
 3765              	.LVL415:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3766              		.loc 1 1074 40 discriminator 3 view .LVU1208
 3767 0018 0EE0     		b	.L300
 3768              	.LVL416:
 3769              	.L299:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3770              		.loc 1 1077 3 is_stmt 1 view .LVU1209
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3771              		.loc 1 1077 8 is_stmt 0 view .LVU1210
 3772 001a FFF7FEFF 		bl	get_fat
 3773              	.LVL417:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3774              		.loc 1 1077 8 view .LVU1211
 3775 001e 0346     		mov	r3, r0
 3776              	.LVL418:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3777              		.loc 1 1078 3 is_stmt 1 view .LVU1212
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3778              		.loc 1 1078 6 is_stmt 0 view .LVU1213
 3779 0020 0128     		cmp	r0, #1
 3780 0022 4BD9     		bls	.L309
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3781              		.loc 1 1079 3 is_stmt 1 view .LVU1214
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3782              		.loc 1 1079 6 is_stmt 0 view .LVU1215
 3783 0024 B0F1FF3F 		cmp	r0, #-1
 3784 0028 4DD0     		beq	.L298
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3785              		.loc 1 1080 3 is_stmt 1 view .LVU1216
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3786              		.loc 1 1080 14 is_stmt 0 view .LVU1217
 3787 002a D5F81424 		ldr	r2, [r5, #1044]
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3788              		.loc 1 1080 6 view .LVU1218
 3789 002e 8242     		cmp	r2, r0
 3790 0030 49D8     		bhi	.L298
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3791              		.loc 1 1081 7 view .LVU1219
 3792 0032 3E46     		mov	r6, r7
 3793 0034 00E0     		b	.L300
 3794              	.LVL419:
 3795              	.L307:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3796              		.loc 1 1074 40 discriminator 3 view .LVU1220
 3797 0036 0126     		movs	r6, #1
 3798              	.LVL420:
 3799              	.L300:
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3800              		.loc 1 1084 2 is_stmt 1 view .LVU1221
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3801              		.loc 1 1084 6 is_stmt 0 view .LVU1222
 3802 0038 3446     		mov	r4, r6
 3803 003a 0CE0     		b	.L304
ARM GAS  /tmp/ccc896J6.s 			page 126


 3804              	.LVL421:
 3805              	.L302:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3806              		.loc 1 1091 3 is_stmt 1 view .LVU1223
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3807              		.loc 1 1091 8 is_stmt 0 view .LVU1224
 3808 003c 2146     		mov	r1, r4
 3809 003e 2846     		mov	r0, r5
 3810 0040 FFF7FEFF 		bl	get_fat
 3811              	.LVL422:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3812              		.loc 1 1092 3 is_stmt 1 view .LVU1225
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3813              		.loc 1 1092 6 is_stmt 0 view .LVU1226
 3814 0044 0346     		mov	r3, r0
 3815 0046 78B1     		cbz	r0, .L303
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3816              		.loc 1 1093 3 is_stmt 1 view .LVU1227
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3817              		.loc 1 1093 6 is_stmt 0 view .LVU1228
 3818 0048 B0F1FF3F 		cmp	r0, #-1
 3819 004c 3BD0     		beq	.L298
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3820              		.loc 1 1093 24 discriminator 1 view .LVU1229
 3821 004e 0128     		cmp	r0, #1
 3822 0050 39D0     		beq	.L298
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3823              		.loc 1 1095 3 is_stmt 1 view .LVU1230
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3824              		.loc 1 1095 6 is_stmt 0 view .LVU1231
 3825 0052 B442     		cmp	r4, r6
 3826 0054 36D0     		beq	.L315
 3827              	.LVL423:
 3828              	.L304:
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
 3829              		.loc 1 1085 2 is_stmt 1 view .LVU1232
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3830              		.loc 1 1086 3 view .LVU1233
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3831              		.loc 1 1086 6 is_stmt 0 view .LVU1234
 3832 0056 0134     		adds	r4, r4, #1
 3833              	.LVL424:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3834              		.loc 1 1087 3 is_stmt 1 view .LVU1235
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3835              		.loc 1 1087 16 is_stmt 0 view .LVU1236
 3836 0058 D5F81434 		ldr	r3, [r5, #1044]
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3837              		.loc 1 1087 6 view .LVU1237
 3838 005c A342     		cmp	r3, r4
 3839 005e EDD8     		bhi	.L302
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 3840              		.loc 1 1088 4 is_stmt 1 view .LVU1238
 3841              	.LVL425:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3842              		.loc 1 1089 4 view .LVU1239
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccc896J6.s 			page 127


 3843              		.loc 1 1089 7 is_stmt 0 view .LVU1240
 3844 0060 012E     		cmp	r6, #1
 3845 0062 2DD9     		bls	.L310
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 3846              		.loc 1 1088 8 view .LVU1241
 3847 0064 0224     		movs	r4, #2
 3848 0066 E9E7     		b	.L302
 3849              	.LVL426:
 3850              	.L303:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3851              		.loc 1 1098 2 is_stmt 1 view .LVU1242
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3852              		.loc 1 1098 8 is_stmt 0 view .LVU1243
 3853 0068 6FF07042 		mvn	r2, #-268435456
 3854 006c 2146     		mov	r1, r4
 3855 006e 2846     		mov	r0, r5
 3856              	.LVL427:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3857              		.loc 1 1098 8 view .LVU1244
 3858 0070 FFF7FEFF 		bl	put_fat
 3859              	.LVL428:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3860              		.loc 1 1099 2 is_stmt 1 view .LVU1245
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3861              		.loc 1 1099 5 is_stmt 0 view .LVU1246
 3862 0074 0346     		mov	r3, r0
 3863 0076 D0B9     		cbnz	r0, .L305
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3864              		.loc 1 1099 19 discriminator 1 view .LVU1247
 3865 0078 97B9     		cbnz	r7, .L316
 3866              	.LVL429:
 3867              	.L306:
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3868              		.loc 1 1102 2 is_stmt 1 view .LVU1248
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3869              		.loc 1 1102 5 is_stmt 0 view .LVU1249
 3870 007a C3B9     		cbnz	r3, .L305
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3871              		.loc 1 1103 3 is_stmt 1 view .LVU1250
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3872              		.loc 1 1103 18 is_stmt 0 view .LVU1251
 3873 007c C5F80C44 		str	r4, [r5, #1036]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3874              		.loc 1 1104 3 is_stmt 1 view .LVU1252
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3875              		.loc 1 1104 9 is_stmt 0 view .LVU1253
 3876 0080 D5F81034 		ldr	r3, [r5, #1040]
 3877              	.LVL430:
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3878              		.loc 1 1104 6 view .LVU1254
 3879 0084 B3F1FF3F 		cmp	r3, #-1
 3880 0088 1FD0     		beq	.L312
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3881              		.loc 1 1105 4 is_stmt 1 view .LVU1255
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3882              		.loc 1 1105 18 is_stmt 0 view .LVU1256
 3883 008a 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccc896J6.s 			page 128


 3884 008c C5F81034 		str	r3, [r5, #1040]
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3885              		.loc 1 1106 4 is_stmt 1 view .LVU1257
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3886              		.loc 1 1106 6 is_stmt 0 view .LVU1258
 3887 0090 95F80534 		ldrb	r3, [r5, #1029]	@ zero_extendqisi2
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3888              		.loc 1 1106 17 view .LVU1259
 3889 0094 43F00103 		orr	r3, r3, #1
 3890 0098 85F80534 		strb	r3, [r5, #1029]
 3891 009c 2346     		mov	r3, r4
 3892 009e 12E0     		b	.L298
 3893              	.LVL431:
 3894              	.L316:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3895              		.loc 1 1100 3 is_stmt 1 view .LVU1260
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3896              		.loc 1 1100 9 is_stmt 0 view .LVU1261
 3897 00a0 2246     		mov	r2, r4
 3898 00a2 3946     		mov	r1, r7
 3899 00a4 2846     		mov	r0, r5
 3900              	.LVL432:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3901              		.loc 1 1100 9 view .LVU1262
 3902 00a6 FFF7FEFF 		bl	put_fat
 3903              	.LVL433:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3904              		.loc 1 1100 9 view .LVU1263
 3905 00aa 0346     		mov	r3, r0
 3906 00ac E5E7     		b	.L306
 3907              	.LVL434:
 3908              	.L305:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3909              		.loc 1 1109 3 is_stmt 1 view .LVU1264
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3910              		.loc 1 1109 43 is_stmt 0 view .LVU1265
 3911 00ae 012B     		cmp	r3, #1
 3912 00b0 01D0     		beq	.L317
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3913              		.loc 1 1109 43 discriminator 2 view .LVU1266
 3914 00b2 0123     		movs	r3, #1
 3915              	.LVL435:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3916              		.loc 1 1109 43 discriminator 2 view .LVU1267
 3917 00b4 07E0     		b	.L298
 3918              	.LVL436:
 3919              	.L317:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3920              		.loc 1 1109 43 discriminator 1 view .LVU1268
 3921 00b6 4FF0FF33 		mov	r3, #-1
 3922 00ba 04E0     		b	.L298
 3923              	.LVL437:
 3924              	.L309:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3925              		.loc 1 1078 22 discriminator 1 view .LVU1269
 3926 00bc 0123     		movs	r3, #1
 3927 00be 02E0     		b	.L298
ARM GAS  /tmp/ccc896J6.s 			page 129


 3928              	.LVL438:
 3929              	.L310:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3930              		.loc 1 1089 26 discriminator 1 view .LVU1270
 3931 00c0 0023     		movs	r3, #0
 3932 00c2 00E0     		b	.L298
 3933              	.LVL439:
 3934              	.L315:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3935              		.loc 1 1095 26 discriminator 1 view .LVU1271
 3936 00c4 0023     		movs	r3, #0
 3937              	.LVL440:
 3938              	.L298:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3939              		.loc 1 1113 1 view .LVU1272
 3940 00c6 1846     		mov	r0, r3
 3941 00c8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3942              	.LVL441:
 3943              	.L312:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3944              		.loc 1 1113 1 view .LVU1273
 3945 00ca 2346     		mov	r3, r4
 3946 00cc FBE7     		b	.L298
 3947              		.cfi_endproc
 3948              	.LFE81:
 3950              		.section	.text.dir_next,"ax",%progbits
 3951              		.align	1
 3952              		.syntax unified
 3953              		.thumb
 3954              		.thumb_func
 3956              	dir_next:
 3957              	.LVL442:
 3958              	.LFB84:
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3959              		.loc 1 1205 1 is_stmt 1 view -0
 3960              		.cfi_startproc
 3961              		@ args = 0, pretend = 0, frame = 0
 3962              		@ frame_needed = 0, uses_anonymous_args = 0
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3963              		.loc 1 1205 1 is_stmt 0 view .LVU1275
 3964 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3965              	.LCFI32:
 3966              		.cfi_def_cfa_offset 32
 3967              		.cfi_offset 3, -32
 3968              		.cfi_offset 4, -28
 3969              		.cfi_offset 5, -24
 3970              		.cfi_offset 6, -20
 3971              		.cfi_offset 7, -16
 3972              		.cfi_offset 8, -12
 3973              		.cfi_offset 9, -8
 3974              		.cfi_offset 14, -4
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 3975              		.loc 1 1206 2 is_stmt 1 view .LVU1276
1207:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3976              		.loc 1 1207 2 view .LVU1277
1209:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3977              		.loc 1 1209 2 view .LVU1278
ARM GAS  /tmp/ccc896J6.s 			page 130


1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3978              		.loc 1 1213 2 view .LVU1279
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3979              		.loc 1 1213 8 is_stmt 0 view .LVU1280
 3980 0004 B0F80664 		ldrh	r6, [r0, #1030]
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3981              		.loc 1 1213 16 view .LVU1281
 3982 0008 751C     		adds	r5, r6, #1
 3983              	.LVL443:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3984              		.loc 1 1214 2 is_stmt 1 view .LVU1282
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3985              		.loc 1 1214 5 is_stmt 0 view .LVU1283
 3986 000a ABB2     		uxth	r3, r5
 3987 000c 002B     		cmp	r3, #0
 3988 000e 00F09380 		beq	.L325
 3989 0012 0446     		mov	r4, r0
 3990 0014 0F46     		mov	r7, r1
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3991              		.loc 1 1214 26 discriminator 1 view .LVU1284
 3992 0016 D0F81024 		ldr	r2, [r0, #1040]
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3993              		.loc 1 1214 20 discriminator 1 view .LVU1285
 3994 001a 002A     		cmp	r2, #0
 3995 001c 00F08E80 		beq	.L326
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3996              		.loc 1 1217 2 is_stmt 1 view .LVU1286
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3997              		.loc 1 1217 13 is_stmt 0 view .LVU1287
 3998 0020 D0F80004 		ldr	r0, [r0, #1024]
 3999              	.LVL444:
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4000              		.loc 1 1217 13 view .LVU1288
 4001 0024 B0F80A34 		ldrh	r3, [r0, #1034]
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4002              		.loc 1 1217 24 view .LVU1289
 4003 0028 5B09     		lsrs	r3, r3, #5
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4004              		.loc 1 1217 10 view .LVU1290
 4005 002a B5FBF3F1 		udiv	r1, r5, r3
 4006              	.LVL445:
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4007              		.loc 1 1217 10 view .LVU1291
 4008 002e 03FB1153 		mls	r3, r3, r1, r5
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4009              		.loc 1 1217 5 view .LVU1292
 4010 0032 4BB9     		cbnz	r3, .L320
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4011              		.loc 1 1218 3 is_stmt 1 view .LVU1293
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4012              		.loc 1 1218 11 is_stmt 0 view .LVU1294
 4013 0034 0132     		adds	r2, r2, #1
 4014 0036 C4F81024 		str	r2, [r4, #1040]
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4015              		.loc 1 1220 3 is_stmt 1 view .LVU1295
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4016              		.loc 1 1220 10 is_stmt 0 view .LVU1296
ARM GAS  /tmp/ccc896J6.s 			page 131


 4017 003a D4F80C14 		ldr	r1, [r4, #1036]
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4018              		.loc 1 1220 6 view .LVU1297
 4019 003e B1B9     		cbnz	r1, .L321
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4020              		.loc 1 1221 4 is_stmt 1 view .LVU1298
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4021              		.loc 1 1221 19 is_stmt 0 view .LVU1299
 4022 0040 B0F80834 		ldrh	r3, [r0, #1032]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4023              		.loc 1 1221 7 view .LVU1300
 4024 0044 AB42     		cmp	r3, r5
 4025 0046 7BD9     		bls	.L337
 4026              	.LVL446:
 4027              	.L320:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4028              		.loc 1 1257 2 is_stmt 1 view .LVU1301
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4029              		.loc 1 1257 14 is_stmt 0 view .LVU1302
 4030 0048 0136     		adds	r6, r6, #1
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4031              		.loc 1 1257 12 view .LVU1303
 4032 004a A4F80664 		strh	r6, [r4, #1030]	@ movhi
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4033              		.loc 1 1258 2 is_stmt 1 view .LVU1304
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4034              		.loc 1 1258 14 is_stmt 0 view .LVU1305
 4035 004e D4F80034 		ldr	r3, [r4, #1024]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4036              		.loc 1 1258 35 view .LVU1306
 4037 0052 B3F80A24 		ldrh	r2, [r3, #1034]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4038              		.loc 1 1258 46 view .LVU1307
 4039 0056 5209     		lsrs	r2, r2, #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4040              		.loc 1 1258 32 view .LVU1308
 4041 0058 B5FBF2F1 		udiv	r1, r5, r2
 4042 005c 02FB1155 		mls	r5, r2, r1, r5
 4043              	.LVL447:
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4044              		.loc 1 1258 27 view .LVU1309
 4045 0060 03EB4513 		add	r3, r3, r5, lsl #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4046              		.loc 1 1258 10 view .LVU1310
 4047 0064 C4F81434 		str	r3, [r4, #1044]
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4048              		.loc 1 1260 2 is_stmt 1 view .LVU1311
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4049              		.loc 1 1260 9 is_stmt 0 view .LVU1312
 4050 0068 0020     		movs	r0, #0
 4051              	.LVL448:
 4052              	.L319:
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4053              		.loc 1 1261 1 view .LVU1313
 4054 006a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4055              	.LVL449:
 4056              	.L321:
ARM GAS  /tmp/ccc896J6.s 			page 132


1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4057              		.loc 1 1225 4 is_stmt 1 view .LVU1314
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4058              		.loc 1 1225 15 is_stmt 0 view .LVU1315
 4059 006e B0F80A34 		ldrh	r3, [r0, #1034]
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4060              		.loc 1 1225 26 view .LVU1316
 4061 0072 5B09     		lsrs	r3, r3, #5
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4062              		.loc 1 1225 12 view .LVU1317
 4063 0074 B5FBF3F3 		udiv	r3, r5, r3
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4064              		.loc 1 1225 47 view .LVU1318
 4065 0078 90F80224 		ldrb	r2, [r0, #1026]	@ zero_extendqisi2
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4066              		.loc 1 1225 55 view .LVU1319
 4067 007c 013A     		subs	r2, r2, #1
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4068              		.loc 1 1225 7 view .LVU1320
 4069 007e 13EA0208 		ands	r8, r3, r2
 4070 0082 E1D1     		bne	.L320
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 4071              		.loc 1 1226 5 is_stmt 1 view .LVU1321
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 4072              		.loc 1 1226 12 is_stmt 0 view .LVU1322
 4073 0084 FFF7FEFF 		bl	get_fat
 4074              	.LVL450:
 4075 0088 8146     		mov	r9, r0
 4076              	.LVL451:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4077              		.loc 1 1227 5 is_stmt 1 view .LVU1323
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4078              		.loc 1 1227 8 is_stmt 0 view .LVU1324
 4079 008a 0128     		cmp	r0, #1
 4080 008c 5AD9     		bls	.L328
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4081              		.loc 1 1228 5 is_stmt 1 view .LVU1325
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4082              		.loc 1 1228 8 is_stmt 0 view .LVU1326
 4083 008e B0F1FF3F 		cmp	r0, #-1
 4084 0092 59D0     		beq	.L329
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4085              		.loc 1 1229 5 is_stmt 1 view .LVU1327
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4086              		.loc 1 1229 19 is_stmt 0 view .LVU1328
 4087 0094 D4F80004 		ldr	r0, [r4, #1024]
 4088              	.LVL452:
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4089              		.loc 1 1229 23 view .LVU1329
 4090 0098 D0F81434 		ldr	r3, [r0, #1044]
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4091              		.loc 1 1229 8 view .LVU1330
 4092 009c 4B45     		cmp	r3, r9
 4093 009e 41D8     		bhi	.L322
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4094              		.loc 1 1231 6 is_stmt 1 view .LVU1331
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
ARM GAS  /tmp/ccc896J6.s 			page 133


 4095              		.loc 1 1231 9 is_stmt 0 view .LVU1332
 4096 00a0 002F     		cmp	r7, #0
 4097 00a2 53D0     		beq	.L330
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4098              		.loc 1 1232 6 is_stmt 1 view .LVU1333
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4099              		.loc 1 1232 13 is_stmt 0 view .LVU1334
 4100 00a4 D4F80C14 		ldr	r1, [r4, #1036]
 4101 00a8 FFF7FEFF 		bl	create_chain
 4102              	.LVL453:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4103              		.loc 1 1233 6 is_stmt 1 view .LVU1335
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4104              		.loc 1 1233 9 is_stmt 0 view .LVU1336
 4105 00ac 8146     		mov	r9, r0
 4106 00ae 0028     		cmp	r0, #0
 4107 00b0 4ED0     		beq	.L331
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4108              		.loc 1 1234 6 is_stmt 1 view .LVU1337
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4109              		.loc 1 1234 9 is_stmt 0 view .LVU1338
 4110 00b2 0128     		cmp	r0, #1
 4111 00b4 4ED0     		beq	.L332
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4112              		.loc 1 1235 6 is_stmt 1 view .LVU1339
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4113              		.loc 1 1235 9 is_stmt 0 view .LVU1340
 4114 00b6 B0F1FF3F 		cmp	r0, #-1
 4115 00ba 4DD0     		beq	.L333
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4116              		.loc 1 1237 6 is_stmt 1 view .LVU1341
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4117              		.loc 1 1237 10 is_stmt 0 view .LVU1342
 4118 00bc D4F80004 		ldr	r0, [r4, #1024]
 4119              	.LVL454:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4120              		.loc 1 1237 10 view .LVU1343
 4121 00c0 FFF7FEFF 		bl	sync_window
 4122              	.LVL455:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4123              		.loc 1 1237 9 discriminator 1 view .LVU1344
 4124 00c4 08B1     		cbz	r0, .L338
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4125              		.loc 1 1237 38 discriminator 1 view .LVU1345
 4126 00c6 0120     		movs	r0, #1
 4127 00c8 CFE7     		b	.L319
 4128              	.L338:
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4129              		.loc 1 1238 6 is_stmt 1 view .LVU1346
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4130              		.loc 1 1238 16 is_stmt 0 view .LVU1347
 4131 00ca D4F80004 		ldr	r0, [r4, #1024]
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4132              		.loc 1 1238 6 view .LVU1348
 4133 00ce B0F80A24 		ldrh	r2, [r0, #1034]
 4134 00d2 0021     		movs	r1, #0
 4135 00d4 FFF7FEFF 		bl	mem_set
ARM GAS  /tmp/ccc896J6.s 			page 134


 4136              	.LVL456:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4137              		.loc 1 1239 6 is_stmt 1 view .LVU1349
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4138              		.loc 1 1239 24 is_stmt 0 view .LVU1350
 4139 00d8 D4F80074 		ldr	r7, [r4, #1024]
 4140              	.LVL457:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4141              		.loc 1 1239 24 view .LVU1351
 4142 00dc 4946     		mov	r1, r9
 4143 00de 3846     		mov	r0, r7
 4144 00e0 FFF7FEFF 		bl	clust2sect
 4145              	.LVL458:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4146              		.loc 1 1239 22 discriminator 1 view .LVU1352
 4147 00e4 C7F82C04 		str	r0, [r7, #1068]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4148              		.loc 1 1240 6 is_stmt 1 view .LVU1353
 4149              	.LVL459:
 4150              	.L323:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4151              		.loc 1 1240 20 discriminator 1 view .LVU1354
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4152              		.loc 1 1240 24 is_stmt 0 discriminator 1 view .LVU1355
 4153 00e8 D4F80034 		ldr	r3, [r4, #1024]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4154              		.loc 1 1240 28 discriminator 1 view .LVU1356
 4155 00ec 93F80224 		ldrb	r2, [r3, #1026]	@ zero_extendqisi2
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4156              		.loc 1 1240 20 discriminator 1 view .LVU1357
 4157 00f0 4245     		cmp	r2, r8
 4158 00f2 11D9     		bls	.L339
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4159              		.loc 1 1241 7 is_stmt 1 view .LVU1358
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4160              		.loc 1 1241 21 is_stmt 0 view .LVU1359
 4161 00f4 0122     		movs	r2, #1
 4162 00f6 83F80424 		strb	r2, [r3, #1028]
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4163              		.loc 1 1242 7 is_stmt 1 view .LVU1360
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4164              		.loc 1 1242 11 is_stmt 0 view .LVU1361
 4165 00fa D4F80004 		ldr	r0, [r4, #1024]
 4166 00fe FFF7FEFF 		bl	sync_window
 4167              	.LVL460:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4168              		.loc 1 1242 10 discriminator 1 view .LVU1362
 4169 0102 58BB     		cbnz	r0, .L335
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4170              		.loc 1 1243 7 is_stmt 1 view .LVU1363
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4171              		.loc 1 1243 9 is_stmt 0 view .LVU1364
 4172 0104 D4F80024 		ldr	r2, [r4, #1024]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4173              		.loc 1 1243 13 view .LVU1365
 4174 0108 D2F82C34 		ldr	r3, [r2, #1068]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccc896J6.s 			page 135


 4175              		.loc 1 1243 22 view .LVU1366
 4176 010c 0133     		adds	r3, r3, #1
 4177 010e C2F82C34 		str	r3, [r2, #1068]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4178              		.loc 1 1240 38 is_stmt 1 discriminator 2 view .LVU1367
 4179 0112 08F10108 		add	r8, r8, #1
 4180              	.LVL461:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4181              		.loc 1 1240 38 is_stmt 0 discriminator 2 view .LVU1368
 4182 0116 E7E7     		b	.L323
 4183              	.LVL462:
 4184              	.L339:
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4185              		.loc 1 1245 6 is_stmt 1 view .LVU1369
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4186              		.loc 1 1245 12 is_stmt 0 view .LVU1370
 4187 0118 D3F82C24 		ldr	r2, [r3, #1068]
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4188              		.loc 1 1245 22 view .LVU1371
 4189 011c A2EB0802 		sub	r2, r2, r8
 4190 0120 C3F82C24 		str	r2, [r3, #1068]
 4191              	.LVL463:
 4192              	.L322:
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4193              		.loc 1 1251 5 is_stmt 1 view .LVU1372
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4194              		.loc 1 1251 15 is_stmt 0 view .LVU1373
 4195 0124 C4F80C94 		str	r9, [r4, #1036]
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4196              		.loc 1 1252 5 is_stmt 1 view .LVU1374
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4197              		.loc 1 1252 16 is_stmt 0 view .LVU1375
 4198 0128 4946     		mov	r1, r9
 4199 012a D4F80004 		ldr	r0, [r4, #1024]
 4200 012e FFF7FEFF 		bl	clust2sect
 4201              	.LVL464:
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4202              		.loc 1 1252 14 discriminator 1 view .LVU1376
 4203 0132 C4F81004 		str	r0, [r4, #1040]
 4204 0136 87E7     		b	.L320
 4205              	.LVL465:
 4206              	.L325:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4207              		.loc 1 1215 10 view .LVU1377
 4208 0138 0420     		movs	r0, #4
 4209              	.LVL466:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4210              		.loc 1 1215 10 view .LVU1378
 4211 013a 96E7     		b	.L319
 4212              	.LVL467:
 4213              	.L326:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4214              		.loc 1 1215 10 view .LVU1379
 4215 013c 0420     		movs	r0, #4
 4216              	.LVL468:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4217              		.loc 1 1215 10 view .LVU1380
ARM GAS  /tmp/ccc896J6.s 			page 136


 4218 013e 94E7     		b	.L319
 4219              	.LVL469:
 4220              	.L337:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4221              		.loc 1 1222 12 view .LVU1381
 4222 0140 0420     		movs	r0, #4
 4223 0142 92E7     		b	.L319
 4224              	.LVL470:
 4225              	.L328:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4226              		.loc 1 1227 27 discriminator 1 view .LVU1382
 4227 0144 0220     		movs	r0, #2
 4228              	.LVL471:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4229              		.loc 1 1227 27 discriminator 1 view .LVU1383
 4230 0146 90E7     		b	.L319
 4231              	.LVL472:
 4232              	.L329:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4233              		.loc 1 1228 36 discriminator 1 view .LVU1384
 4234 0148 0120     		movs	r0, #1
 4235              	.LVL473:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4236              		.loc 1 1228 36 discriminator 1 view .LVU1385
 4237 014a 8EE7     		b	.L319
 4238              	.L330:
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4239              		.loc 1 1231 27 discriminator 1 view .LVU1386
 4240 014c 0420     		movs	r0, #4
 4241 014e 8CE7     		b	.L319
 4242              	.LVL474:
 4243              	.L331:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4244              		.loc 1 1233 28 discriminator 1 view .LVU1387
 4245 0150 0720     		movs	r0, #7
 4246              	.LVL475:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4247              		.loc 1 1233 28 discriminator 1 view .LVU1388
 4248 0152 8AE7     		b	.L319
 4249              	.LVL476:
 4250              	.L332:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4251              		.loc 1 1234 28 discriminator 1 view .LVU1389
 4252 0154 0220     		movs	r0, #2
 4253              	.LVL477:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4254              		.loc 1 1234 28 discriminator 1 view .LVU1390
 4255 0156 88E7     		b	.L319
 4256              	.LVL478:
 4257              	.L333:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4258              		.loc 1 1235 37 discriminator 1 view .LVU1391
 4259 0158 0120     		movs	r0, #1
 4260              	.LVL479:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4261              		.loc 1 1235 37 discriminator 1 view .LVU1392
 4262 015a 86E7     		b	.L319
ARM GAS  /tmp/ccc896J6.s 			page 137


 4263              	.LVL480:
 4264              	.L335:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4265              		.loc 1 1242 39 discriminator 1 view .LVU1393
 4266 015c 0120     		movs	r0, #1
 4267 015e 84E7     		b	.L319
 4268              		.cfi_endproc
 4269              	.LFE84:
 4271              		.section	.text.dir_find,"ax",%progbits
 4272              		.align	1
 4273              		.syntax unified
 4274              		.thumb
 4275              		.thumb_func
 4277              	dir_find:
 4278              	.LVL481:
 4279              	.LFB88:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4280              		.loc 1 1531 1 is_stmt 1 view -0
 4281              		.cfi_startproc
 4282              		@ args = 0, pretend = 0, frame = 0
 4283              		@ frame_needed = 0, uses_anonymous_args = 0
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4284              		.loc 1 1531 1 is_stmt 0 view .LVU1395
 4285 0000 38B5     		push	{r3, r4, r5, lr}
 4286              	.LCFI33:
 4287              		.cfi_def_cfa_offset 16
 4288              		.cfi_offset 3, -16
 4289              		.cfi_offset 4, -12
 4290              		.cfi_offset 5, -8
 4291              		.cfi_offset 14, -4
 4292 0002 0446     		mov	r4, r0
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
 4293              		.loc 1 1532 2 is_stmt 1 view .LVU1396
1533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4294              		.loc 1 1533 2 view .LVU1397
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4295              		.loc 1 1538 2 view .LVU1398
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4296              		.loc 1 1538 8 is_stmt 0 view .LVU1399
 4297 0004 0021     		movs	r1, #0
 4298 0006 FFF7FEFF 		bl	dir_sdi
 4299              	.LVL482:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4300              		.loc 1 1539 2 is_stmt 1 view .LVU1400
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4301              		.loc 1 1539 5 is_stmt 0 view .LVU1401
 4302 000a 0546     		mov	r5, r0
 4303 000c 40B1     		cbz	r0, .L343
 4304              	.LVL483:
 4305              	.L341:
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4306              		.loc 1 1579 1 view .LVU1402
 4307 000e 2846     		mov	r0, r5
 4308 0010 38BD     		pop	{r3, r4, r5, pc}
 4309              	.LVL484:
 4310              	.L342:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
ARM GAS  /tmp/ccc896J6.s 			page 138


 4311              		.loc 1 1575 3 is_stmt 1 view .LVU1403
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4312              		.loc 1 1575 9 is_stmt 0 view .LVU1404
 4313 0012 0021     		movs	r1, #0
 4314 0014 2046     		mov	r0, r4
 4315 0016 FFF7FEFF 		bl	dir_next
 4316              	.LVL485:
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4317              		.loc 1 1576 15 is_stmt 1 view .LVU1405
 4318 001a 0546     		mov	r5, r0
 4319 001c 0028     		cmp	r0, #0
 4320 001e F6D1     		bne	.L341
 4321              	.LVL486:
 4322              	.L343:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4323              		.loc 1 1544 2 view .LVU1406
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4324              		.loc 1 1545 3 view .LVU1407
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4325              		.loc 1 1545 9 is_stmt 0 view .LVU1408
 4326 0020 D4F81014 		ldr	r1, [r4, #1040]
 4327 0024 D4F80004 		ldr	r0, [r4, #1024]
 4328              	.LVL487:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4329              		.loc 1 1545 9 view .LVU1409
 4330 0028 FFF7FEFF 		bl	move_window
 4331              	.LVL488:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4332              		.loc 1 1546 3 is_stmt 1 view .LVU1410
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4333              		.loc 1 1546 6 is_stmt 0 view .LVU1411
 4334 002c 0546     		mov	r5, r0
 4335 002e 0028     		cmp	r0, #0
 4336 0030 EDD1     		bne	.L341
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4337              		.loc 1 1547 3 is_stmt 1 view .LVU1412
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4338              		.loc 1 1547 7 is_stmt 0 view .LVU1413
 4339 0032 D4F81404 		ldr	r0, [r4, #1044]
 4340              	.LVL489:
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4341              		.loc 1 1548 3 is_stmt 1 view .LVU1414
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4342              		.loc 1 1548 5 is_stmt 0 view .LVU1415
 4343 0036 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 4344              	.LVL490:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4345              		.loc 1 1549 3 is_stmt 1 view .LVU1416
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4346              		.loc 1 1549 6 is_stmt 0 view .LVU1417
 4347 0038 5BB1     		cbz	r3, .L344
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4348              		.loc 1 1572 3 is_stmt 1 view .LVU1418
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4349              		.loc 1 1572 12 is_stmt 0 view .LVU1419
 4350 003a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
ARM GAS  /tmp/ccc896J6.s 			page 139


 4351              		.loc 1 1572 6 view .LVU1420
 4352 003c 13F0080F 		tst	r3, #8
 4353 0040 E7D1     		bne	.L342
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4354              		.loc 1 1572 37 discriminator 1 view .LVU1421
 4355 0042 0B22     		movs	r2, #11
 4356 0044 D4F81814 		ldr	r1, [r4, #1048]
 4357 0048 FFF7FEFF 		bl	mem_cmp
 4358              	.LVL491:
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4359              		.loc 1 1572 33 discriminator 1 view .LVU1422
 4360 004c 0028     		cmp	r0, #0
 4361 004e E0D1     		bne	.L342
 4362 0050 DDE7     		b	.L341
 4363              	.LVL492:
 4364              	.L344:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4365              		.loc 1 1549 21 discriminator 1 view .LVU1423
 4366 0052 0425     		movs	r5, #4
 4367              	.LVL493:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4368              		.loc 1 1549 21 discriminator 1 view .LVU1424
 4369 0054 DBE7     		b	.L341
 4370              		.cfi_endproc
 4371              	.LFE88:
 4373              		.section	.text.follow_path,"ax",%progbits
 4374              		.align	1
 4375              		.syntax unified
 4376              		.thumb
 4377              		.thumb_func
 4379              	follow_path:
 4380              	.LVL494:
 4381              	.LFB94:
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4382              		.loc 1 2129 1 is_stmt 1 view -0
 4383              		.cfi_startproc
 4384              		@ args = 0, pretend = 0, frame = 8
 4385              		@ frame_needed = 0, uses_anonymous_args = 0
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4386              		.loc 1 2129 1 is_stmt 0 view .LVU1426
 4387 0000 10B5     		push	{r4, lr}
 4388              	.LCFI34:
 4389              		.cfi_def_cfa_offset 8
 4390              		.cfi_offset 4, -8
 4391              		.cfi_offset 14, -4
 4392 0002 82B0     		sub	sp, sp, #8
 4393              	.LCFI35:
 4394              		.cfi_def_cfa_offset 16
 4395 0004 0446     		mov	r4, r0
 4396 0006 0191     		str	r1, [sp, #4]
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
 4397              		.loc 1 2130 2 is_stmt 1 view .LVU1427
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4398              		.loc 1 2131 2 view .LVU1428
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4399              		.loc 1 2141 2 view .LVU1429
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
ARM GAS  /tmp/ccc896J6.s 			page 140


 4400              		.loc 1 2141 6 is_stmt 0 view .LVU1430
 4401 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4402              		.loc 1 2141 5 view .LVU1431
 4403 000a 2F2B     		cmp	r3, #47
 4404 000c 01D0     		beq	.L347
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4405              		.loc 1 2141 19 discriminator 1 view .LVU1432
 4406 000e 5C2B     		cmp	r3, #92
 4407 0010 01D1     		bne	.L348
 4408              	.L347:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4409              		.loc 1 2142 3 is_stmt 1 view .LVU1433
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4410              		.loc 1 2142 7 is_stmt 0 view .LVU1434
 4411 0012 0131     		adds	r1, r1, #1
 4412              	.LVL495:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4413              		.loc 1 2142 7 view .LVU1435
 4414 0014 0191     		str	r1, [sp, #4]
 4415              	.LVL496:
 4416              	.L348:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4417              		.loc 1 2143 2 is_stmt 1 view .LVU1436
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4418              		.loc 1 2143 13 is_stmt 0 view .LVU1437
 4419 0016 0023     		movs	r3, #0
 4420 0018 C4F80834 		str	r3, [r4, #1032]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4421              		.loc 1 2146 2 is_stmt 1 view .LVU1438
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4422              		.loc 1 2146 12 is_stmt 0 view .LVU1439
 4423 001c 019B     		ldr	r3, [sp, #4]
 4424 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4425              		.loc 1 2146 5 view .LVU1440
 4426 0020 1F2B     		cmp	r3, #31
 4427 0022 1DD9     		bls	.L355
 4428              	.LVL497:
 4429              	.L349:
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4430              		.loc 1 2150 3 is_stmt 1 view .LVU1441
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4431              		.loc 1 2151 4 view .LVU1442
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4432              		.loc 1 2151 10 is_stmt 0 view .LVU1443
 4433 0024 01A9     		add	r1, sp, #4
 4434 0026 2046     		mov	r0, r4
 4435 0028 FFF7FEFF 		bl	create_name
 4436              	.LVL498:
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4437              		.loc 1 2152 4 is_stmt 1 view .LVU1444
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4438              		.loc 1 2152 7 is_stmt 0 view .LVU1445
 4439 002c 0346     		mov	r3, r0
 4440 002e F8B9     		cbnz	r0, .L350
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
ARM GAS  /tmp/ccc896J6.s 			page 141


 4441              		.loc 1 2153 4 is_stmt 1 view .LVU1446
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4442              		.loc 1 2153 10 is_stmt 0 view .LVU1447
 4443 0030 2046     		mov	r0, r4
 4444              	.LVL499:
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4445              		.loc 1 2153 10 view .LVU1448
 4446 0032 FFF7FEFF 		bl	dir_find
 4447              	.LVL500:
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4448              		.loc 1 2154 4 is_stmt 1 view .LVU1449
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4449              		.loc 1 2154 11 is_stmt 0 view .LVU1450
 4450 0036 D4F81834 		ldr	r3, [r4, #1048]
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4451              		.loc 1 2154 7 view .LVU1451
 4452 003a DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4453              	.LVL501:
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4454              		.loc 1 2155 4 is_stmt 1 view .LVU1452
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4455              		.loc 1 2155 7 is_stmt 0 view .LVU1453
 4456 003c 0346     		mov	r3, r0
 4457 003e D0B9     		cbnz	r0, .L356
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4458              		.loc 1 2167 4 is_stmt 1 view .LVU1454
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4459              		.loc 1 2167 7 is_stmt 0 view .LVU1455
 4460 0040 12F0040F 		tst	r2, #4
 4461 0044 14D1     		bne	.L350
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4462              		.loc 1 2168 4 is_stmt 1 view .LVU1456
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4463              		.loc 1 2168 8 is_stmt 0 view .LVU1457
 4464 0046 D4F81414 		ldr	r1, [r4, #1044]
 4465              	.LVL502:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4466              		.loc 1 2169 4 is_stmt 1 view .LVU1458
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4467              		.loc 1 2169 13 is_stmt 0 view .LVU1459
 4468 004a CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4469              		.loc 1 2169 7 view .LVU1460
 4470 004c 13F0100F 		tst	r3, #16
 4471 0050 18D0     		beq	.L353
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4472              		.loc 1 2172 4 is_stmt 1 view .LVU1461
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4473              		.loc 1 2172 17 is_stmt 0 view .LVU1462
 4474 0052 D4F80004 		ldr	r0, [r4, #1024]
 4475              	.LVL503:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4476              		.loc 1 2172 17 view .LVU1463
 4477 0056 FFF7FEFF 		bl	ld_clust
 4478              	.LVL504:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4479              		.loc 1 2172 15 discriminator 1 view .LVU1464
ARM GAS  /tmp/ccc896J6.s 			page 142


 4480 005a C4F80804 		str	r0, [r4, #1032]
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4481              		.loc 1 2150 3 is_stmt 1 view .LVU1465
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4482              		.loc 1 2151 8 is_stmt 0 view .LVU1466
 4483 005e E1E7     		b	.L349
 4484              	.LVL505:
 4485              	.L355:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4486              		.loc 1 2147 3 is_stmt 1 view .LVU1467
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4487              		.loc 1 2147 9 is_stmt 0 view .LVU1468
 4488 0060 0021     		movs	r1, #0
 4489 0062 2046     		mov	r0, r4
 4490              	.LVL506:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4491              		.loc 1 2147 9 view .LVU1469
 4492 0064 FFF7FEFF 		bl	dir_sdi
 4493              	.LVL507:
 4494 0068 0346     		mov	r3, r0
 4495              	.LVL508:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4496              		.loc 1 2148 3 is_stmt 1 view .LVU1470
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4497              		.loc 1 2148 11 is_stmt 0 view .LVU1471
 4498 006a 0022     		movs	r2, #0
 4499 006c C4F81424 		str	r2, [r4, #1044]
 4500              	.LVL509:
 4501              	.L350:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4502              		.loc 1 2176 2 is_stmt 1 view .LVU1472
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4503              		.loc 1 2177 1 is_stmt 0 view .LVU1473
 4504 0070 1846     		mov	r0, r3
 4505 0072 02B0     		add	sp, sp, #8
 4506              	.LCFI36:
 4507              		.cfi_remember_state
 4508              		.cfi_def_cfa_offset 8
 4509              		@ sp needed
 4510 0074 10BD     		pop	{r4, pc}
 4511              	.LVL510:
 4512              	.L356:
 4513              	.LCFI37:
 4514              		.cfi_restore_state
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4515              		.loc 1 2156 5 is_stmt 1 view .LVU1474
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4516              		.loc 1 2156 8 is_stmt 0 view .LVU1475
 4517 0076 0428     		cmp	r0, #4
 4518 0078 FAD1     		bne	.L350
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
 4519              		.loc 1 2157 6 is_stmt 1 view .LVU1476
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4520              		.loc 1 2162 7 view .LVU1477
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4521              		.loc 1 2162 10 is_stmt 0 view .LVU1478
 4522 007a 12F0040F 		tst	r2, #4
ARM GAS  /tmp/ccc896J6.s 			page 143


 4523 007e F7D1     		bne	.L350
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4524              		.loc 1 2162 32 discriminator 1 view .LVU1479
 4525 0080 0523     		movs	r3, #5
 4526 0082 F5E7     		b	.L350
 4527              	.LVL511:
 4528              	.L353:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4529              		.loc 1 2170 9 view .LVU1480
 4530 0084 0523     		movs	r3, #5
 4531 0086 F3E7     		b	.L350
 4532              		.cfi_endproc
 4533              	.LFE94:
 4535              		.section	.text.dir_alloc,"ax",%progbits
 4536              		.align	1
 4537              		.syntax unified
 4538              		.thumb
 4539              		.thumb_func
 4541              	dir_alloc:
 4542              	.LVL512:
 4543              	.LFB85:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4544              		.loc 1 1276 1 is_stmt 1 view -0
 4545              		.cfi_startproc
 4546              		@ args = 0, pretend = 0, frame = 0
 4547              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4548              		.loc 1 1276 1 is_stmt 0 view .LVU1482
 4549 0000 70B5     		push	{r4, r5, r6, lr}
 4550              	.LCFI38:
 4551              		.cfi_def_cfa_offset 16
 4552              		.cfi_offset 4, -16
 4553              		.cfi_offset 5, -12
 4554              		.cfi_offset 6, -8
 4555              		.cfi_offset 14, -4
 4556 0002 0446     		mov	r4, r0
 4557 0004 0E46     		mov	r6, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4558              		.loc 1 1277 2 is_stmt 1 view .LVU1483
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4559              		.loc 1 1278 2 view .LVU1484
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4560              		.loc 1 1281 2 view .LVU1485
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4561              		.loc 1 1281 8 is_stmt 0 view .LVU1486
 4562 0006 0021     		movs	r1, #0
 4563              	.LVL513:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4564              		.loc 1 1281 8 view .LVU1487
 4565 0008 FFF7FEFF 		bl	dir_sdi
 4566              	.LVL514:
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4567              		.loc 1 1282 2 is_stmt 1 view .LVU1488
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4568              		.loc 1 1282 5 is_stmt 0 view .LVU1489
 4569 000c 0246     		mov	r2, r0
 4570 000e D8B9     		cbnz	r0, .L358
ARM GAS  /tmp/ccc896J6.s 			page 144


1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4571              		.loc 1 1283 5 view .LVU1490
 4572 0010 0025     		movs	r5, #0
 4573 0012 08E0     		b	.L361
 4574              	.LVL515:
 4575              	.L359:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4576              		.loc 1 1288 5 is_stmt 1 view .LVU1491
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4577              		.loc 1 1288 8 is_stmt 0 view .LVU1492
 4578 0014 0135     		adds	r5, r5, #1
 4579              	.LVL516:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4580              		.loc 1 1288 8 view .LVU1493
 4581 0016 B542     		cmp	r5, r6
 4582 0018 16D0     		beq	.L358
 4583              	.LVL517:
 4584              	.L360:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4585              		.loc 1 1292 4 is_stmt 1 view .LVU1494
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4586              		.loc 1 1292 10 is_stmt 0 view .LVU1495
 4587 001a 0121     		movs	r1, #1
 4588 001c 2046     		mov	r0, r4
 4589              	.LVL518:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4590              		.loc 1 1292 10 view .LVU1496
 4591 001e FFF7FEFF 		bl	dir_next
 4592              	.LVL519:
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4593              		.loc 1 1293 16 is_stmt 1 view .LVU1497
 4594 0022 0246     		mov	r2, r0
 4595 0024 80B9     		cbnz	r0, .L358
 4596              	.LVL520:
 4597              	.L361:
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
 4598              		.loc 1 1284 3 view .LVU1498
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4599              		.loc 1 1285 4 view .LVU1499
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4600              		.loc 1 1285 10 is_stmt 0 view .LVU1500
 4601 0026 D4F81014 		ldr	r1, [r4, #1040]
 4602 002a D4F80004 		ldr	r0, [r4, #1024]
 4603              	.LVL521:
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4604              		.loc 1 1285 10 view .LVU1501
 4605 002e FFF7FEFF 		bl	move_window
 4606              	.LVL522:
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4607              		.loc 1 1286 4 is_stmt 1 view .LVU1502
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4608              		.loc 1 1286 7 is_stmt 0 view .LVU1503
 4609 0032 0246     		mov	r2, r0
 4610 0034 40B9     		cbnz	r0, .L358
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4611              		.loc 1 1287 4 is_stmt 1 view .LVU1504
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
ARM GAS  /tmp/ccc896J6.s 			page 145


 4612              		.loc 1 1287 10 is_stmt 0 view .LVU1505
 4613 0036 D4F81434 		ldr	r3, [r4, #1044]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4614              		.loc 1 1287 15 view .LVU1506
 4615 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4616              		.loc 1 1287 7 view .LVU1507
 4617 003c E52B     		cmp	r3, #229
 4618 003e E9D0     		beq	.L359
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4619              		.loc 1 1287 27 discriminator 1 view .LVU1508
 4620 0040 002B     		cmp	r3, #0
 4621 0042 E7D0     		beq	.L359
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4622              		.loc 1 1290 7 view .LVU1509
 4623 0044 0025     		movs	r5, #0
 4624              	.LVL523:
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4625              		.loc 1 1290 7 view .LVU1510
 4626 0046 E8E7     		b	.L360
 4627              	.LVL524:
 4628              	.L358:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4629              		.loc 1 1295 2 is_stmt 1 view .LVU1511
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4630              		.loc 1 1295 5 is_stmt 0 view .LVU1512
 4631 0048 042A     		cmp	r2, #4
 4632 004a 01D0     		beq	.L366
 4633              	.LVL525:
 4634              	.L362:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4635              		.loc 1 1296 2 is_stmt 1 view .LVU1513
1297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4636              		.loc 1 1297 1 is_stmt 0 view .LVU1514
 4637 004c 1046     		mov	r0, r2
 4638 004e 70BD     		pop	{r4, r5, r6, pc}
 4639              	.LVL526:
 4640              	.L366:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4641              		.loc 1 1295 29 discriminator 1 view .LVU1515
 4642 0050 0722     		movs	r2, #7
 4643              	.LVL527:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4644              		.loc 1 1295 29 discriminator 1 view .LVU1516
 4645 0052 FBE7     		b	.L362
 4646              		.cfi_endproc
 4647              	.LFE85:
 4649              		.section	.text.dir_register,"ax",%progbits
 4650              		.align	1
 4651              		.syntax unified
 4652              		.thumb
 4653              		.thumb_func
 4655              	dir_register:
 4656              	.LVL528:
 4657              	.LFB90:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4658              		.loc 1 1651 1 is_stmt 1 view -0
ARM GAS  /tmp/ccc896J6.s 			page 146


 4659              		.cfi_startproc
 4660              		@ args = 0, pretend = 0, frame = 0
 4661              		@ frame_needed = 0, uses_anonymous_args = 0
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4662              		.loc 1 1651 1 is_stmt 0 view .LVU1518
 4663 0000 38B5     		push	{r3, r4, r5, lr}
 4664              	.LCFI39:
 4665              		.cfi_def_cfa_offset 16
 4666              		.cfi_offset 3, -16
 4667              		.cfi_offset 4, -12
 4668              		.cfi_offset 5, -8
 4669              		.cfi_offset 14, -4
 4670 0002 0446     		mov	r4, r0
1652:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4671              		.loc 1 1652 2 is_stmt 1 view .LVU1519
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4672              		.loc 1 1699 2 view .LVU1520
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4673              		.loc 1 1699 8 is_stmt 0 view .LVU1521
 4674 0004 0121     		movs	r1, #1
 4675 0006 FFF7FEFF 		bl	dir_alloc
 4676              	.LVL529:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4677              		.loc 1 1702 2 is_stmt 1 view .LVU1522
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4678              		.loc 1 1702 5 is_stmt 0 view .LVU1523
 4679 000a 0546     		mov	r5, r0
 4680 000c 08B1     		cbz	r0, .L370
 4681              	.LVL530:
 4682              	.L368:
1714:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4683              		.loc 1 1714 2 is_stmt 1 view .LVU1524
1715:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4684              		.loc 1 1715 1 is_stmt 0 view .LVU1525
 4685 000e 2846     		mov	r0, r5
 4686 0010 38BD     		pop	{r3, r4, r5, pc}
 4687              	.LVL531:
 4688              	.L370:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4689              		.loc 1 1703 3 is_stmt 1 view .LVU1526
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4690              		.loc 1 1703 9 is_stmt 0 view .LVU1527
 4691 0012 D4F81014 		ldr	r1, [r4, #1040]
 4692 0016 D4F80004 		ldr	r0, [r4, #1024]
 4693              	.LVL532:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4694              		.loc 1 1703 9 view .LVU1528
 4695 001a FFF7FEFF 		bl	move_window
 4696              	.LVL533:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4697              		.loc 1 1704 3 is_stmt 1 view .LVU1529
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4698              		.loc 1 1704 6 is_stmt 0 view .LVU1530
 4699 001e 0546     		mov	r5, r0
 4700 0020 0028     		cmp	r0, #0
 4701 0022 F4D1     		bne	.L368
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
ARM GAS  /tmp/ccc896J6.s 			page 147


 4702              		.loc 1 1705 4 is_stmt 1 view .LVU1531
 4703 0024 2022     		movs	r2, #32
 4704 0026 0021     		movs	r1, #0
 4705 0028 D4F81404 		ldr	r0, [r4, #1044]
 4706              	.LVL534:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4707              		.loc 1 1705 4 is_stmt 0 view .LVU1532
 4708 002c FFF7FEFF 		bl	mem_set
 4709              	.LVL535:
1706:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4710              		.loc 1 1706 4 is_stmt 1 view .LVU1533
 4711 0030 0B22     		movs	r2, #11
 4712 0032 D4F81814 		ldr	r1, [r4, #1048]
 4713 0036 D4F81404 		ldr	r0, [r4, #1044]
 4714 003a FFF7FEFF 		bl	mem_cpy
 4715              	.LVL536:
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4716              		.loc 1 1710 4 view .LVU1534
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4717              		.loc 1 1710 6 is_stmt 0 view .LVU1535
 4718 003e D4F80034 		ldr	r3, [r4, #1024]
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4719              		.loc 1 1710 18 view .LVU1536
 4720 0042 0122     		movs	r2, #1
 4721 0044 83F80424 		strb	r2, [r3, #1028]
 4722 0048 E1E7     		b	.L368
 4723              		.cfi_endproc
 4724              	.LFE90:
 4726              		.section	.text.dir_read,"ax",%progbits
 4727              		.align	1
 4728              		.syntax unified
 4729              		.thumb
 4730              		.thumb_func
 4732              	dir_read:
 4733              	.LVL537:
 4734              	.LFB89:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4735              		.loc 1 1593 1 is_stmt 1 view -0
 4736              		.cfi_startproc
 4737              		@ args = 0, pretend = 0, frame = 0
 4738              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4739              		.loc 1 1593 1 is_stmt 0 view .LVU1538
 4740 0000 70B5     		push	{r4, r5, r6, lr}
 4741              	.LCFI40:
 4742              		.cfi_def_cfa_offset 16
 4743              		.cfi_offset 4, -16
 4744              		.cfi_offset 5, -12
 4745              		.cfi_offset 6, -8
 4746              		.cfi_offset 14, -4
 4747 0002 0446     		mov	r4, r0
 4748 0004 0D46     		mov	r5, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
 4749              		.loc 1 1594 2 is_stmt 1 view .LVU1539
1595:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4750              		.loc 1 1595 2 view .LVU1540
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
ARM GAS  /tmp/ccc896J6.s 			page 148


 4751              		.loc 1 1600 2 view .LVU1541
 4752              	.LVL538:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4753              		.loc 1 1601 2 view .LVU1542
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4754              		.loc 1 1600 6 is_stmt 0 view .LVU1543
 4755 0006 0426     		movs	r6, #4
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4756              		.loc 1 1601 8 view .LVU1544
 4757 0008 05E0     		b	.L372
 4758              	.LVL539:
 4759              	.L374:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4760              		.loc 1 1630 3 is_stmt 1 view .LVU1545
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4761              		.loc 1 1630 9 is_stmt 0 view .LVU1546
 4762 000a 0021     		movs	r1, #0
 4763 000c 2046     		mov	r0, r4
 4764              	.LVL540:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4765              		.loc 1 1630 9 view .LVU1547
 4766 000e FFF7FEFF 		bl	dir_next
 4767              	.LVL541:
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4768              		.loc 1 1631 3 is_stmt 1 view .LVU1548
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4769              		.loc 1 1631 6 is_stmt 0 view .LVU1549
 4770 0012 0646     		mov	r6, r0
 4771 0014 F8B9     		cbnz	r0, .L373
 4772              	.LVL542:
 4773              	.L372:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4774              		.loc 1 1601 9 is_stmt 1 view .LVU1550
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4775              		.loc 1 1601 11 is_stmt 0 view .LVU1551
 4776 0016 D4F81014 		ldr	r1, [r4, #1040]
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4777              		.loc 1 1601 9 view .LVU1552
 4778 001a E1B1     		cbz	r1, .L373
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4779              		.loc 1 1602 3 is_stmt 1 view .LVU1553
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4780              		.loc 1 1602 9 is_stmt 0 view .LVU1554
 4781 001c D4F80004 		ldr	r0, [r4, #1024]
 4782 0020 FFF7FEFF 		bl	move_window
 4783              	.LVL543:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4784              		.loc 1 1603 3 is_stmt 1 view .LVU1555
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4785              		.loc 1 1603 6 is_stmt 0 view .LVU1556
 4786 0024 0646     		mov	r6, r0
 4787 0026 B0B9     		cbnz	r0, .L373
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4788              		.loc 1 1604 3 is_stmt 1 view .LVU1557
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4789              		.loc 1 1604 7 is_stmt 0 view .LVU1558
 4790 0028 D4F81434 		ldr	r3, [r4, #1044]
ARM GAS  /tmp/ccc896J6.s 			page 149


 4791              	.LVL544:
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4792              		.loc 1 1605 3 is_stmt 1 view .LVU1559
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4793              		.loc 1 1605 5 is_stmt 0 view .LVU1560
 4794 002c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4795              	.LVL545:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4796              		.loc 1 1606 3 is_stmt 1 view .LVU1561
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4797              		.loc 1 1606 6 is_stmt 0 view .LVU1562
 4798 002e 8AB1     		cbz	r2, .L377
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4799              		.loc 1 1607 3 is_stmt 1 view .LVU1563
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4800              		.loc 1 1607 10 is_stmt 0 view .LVU1564
 4801 0030 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4802              	.LVL546:
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4803              		.loc 1 1607 5 view .LVU1565
 4804 0032 03F03F03 		and	r3, r3, #63
 4805              	.LVL547:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4806              		.loc 1 1627 3 is_stmt 1 view .LVU1566
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4807              		.loc 1 1627 6 is_stmt 0 view .LVU1567
 4808 0036 E52A     		cmp	r2, #229
 4809 0038 E7D0     		beq	.L374
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4810              		.loc 1 1627 17 discriminator 1 view .LVU1568
 4811 003a 2E2A     		cmp	r2, #46
 4812 003c E5D0     		beq	.L374
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4813              		.loc 1 1627 44 discriminator 2 view .LVU1569
 4814 003e 0F2B     		cmp	r3, #15
 4815 0040 E3D0     		beq	.L374
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4816              		.loc 1 1627 71 discriminator 3 view .LVU1570
 4817 0042 23F02003 		bic	r3, r3, #32
 4818              	.LVL548:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4819              		.loc 1 1627 62 discriminator 3 view .LVU1571
 4820 0046 082B     		cmp	r3, #8
 4821 0048 14BF     		ite	ne
 4822 004a 0023     		movne	r3, #0
 4823 004c 0123     		moveq	r3, #1
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4824              		.loc 1 1627 59 discriminator 3 view .LVU1572
 4825 004e AB42     		cmp	r3, r5
 4826 0050 DBD1     		bne	.L374
 4827 0052 00E0     		b	.L373
 4828              	.LVL549:
 4829              	.L377:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4830              		.loc 1 1606 21 discriminator 1 view .LVU1573
 4831 0054 0426     		movs	r6, #4
 4832              	.LVL550:
ARM GAS  /tmp/ccc896J6.s 			page 150


 4833              	.L373:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4834              		.loc 1 1634 2 is_stmt 1 view .LVU1574
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4835              		.loc 1 1634 5 is_stmt 0 view .LVU1575
 4836 0056 16B1     		cbz	r6, .L376
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4837              		.loc 1 1634 20 is_stmt 1 discriminator 1 view .LVU1576
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4838              		.loc 1 1634 29 is_stmt 0 discriminator 1 view .LVU1577
 4839 0058 0023     		movs	r3, #0
 4840 005a C4F81034 		str	r3, [r4, #1040]
 4841              	.L376:
1636:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4842              		.loc 1 1636 2 is_stmt 1 view .LVU1578
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4843              		.loc 1 1637 1 is_stmt 0 view .LVU1579
 4844 005e 3046     		mov	r0, r6
 4845 0060 70BD     		pop	{r4, r5, r6, pc}
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4846              		.loc 1 1637 1 view .LVU1580
 4847              		.cfi_endproc
 4848              	.LFE89:
 4850              		.section	.text.remove_chain,"ax",%progbits
 4851              		.align	1
 4852              		.syntax unified
 4853              		.thumb
 4854              		.thumb_func
 4856              	remove_chain:
 4857              	.LVL551:
 4858              	.LFB80:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4859              		.loc 1 1014 1 is_stmt 1 view -0
 4860              		.cfi_startproc
 4861              		@ args = 0, pretend = 0, frame = 0
 4862              		@ frame_needed = 0, uses_anonymous_args = 0
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4863              		.loc 1 1014 1 is_stmt 0 view .LVU1582
 4864 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4865              	.LCFI41:
 4866              		.cfi_def_cfa_offset 24
 4867              		.cfi_offset 3, -24
 4868              		.cfi_offset 4, -20
 4869              		.cfi_offset 5, -16
 4870              		.cfi_offset 6, -12
 4871              		.cfi_offset 7, -8
 4872              		.cfi_offset 14, -4
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4873              		.loc 1 1015 2 is_stmt 1 view .LVU1583
1016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 4874              		.loc 1 1016 2 view .LVU1584
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4875              		.loc 1 1021 2 view .LVU1585
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4876              		.loc 1 1021 5 is_stmt 0 view .LVU1586
 4877 0002 0129     		cmp	r1, #1
 4878 0004 2DD9     		bls	.L384
ARM GAS  /tmp/ccc896J6.s 			page 151


 4879 0006 0446     		mov	r4, r0
 4880 0008 0D46     		mov	r5, r1
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4881              		.loc 1 1021 28 discriminator 1 view .LVU1587
 4882 000a D0F81434 		ldr	r3, [r0, #1044]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4883              		.loc 1 1021 15 discriminator 1 view .LVU1588
 4884 000e 8B42     		cmp	r3, r1
 4885 0010 2AD9     		bls	.L385
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
 4886              		.loc 1 1025 7 view .LVU1589
 4887 0012 0027     		movs	r7, #0
 4888 0014 00E0     		b	.L381
 4889              	.LVL552:
 4890              	.L382:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4891              		.loc 1 1014 1 view .LVU1590
 4892 0016 3546     		mov	r5, r6
 4893              	.LVL553:
 4894              	.L381:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4895              		.loc 1 1026 15 is_stmt 1 view .LVU1591
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4896              		.loc 1 1026 19 is_stmt 0 view .LVU1592
 4897 0018 D4F81434 		ldr	r3, [r4, #1044]
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4898              		.loc 1 1026 15 view .LVU1593
 4899 001c AB42     		cmp	r3, r5
 4900 001e 21D9     		bls	.L380
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4901              		.loc 1 1027 4 is_stmt 1 view .LVU1594
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4902              		.loc 1 1027 10 is_stmt 0 view .LVU1595
 4903 0020 2946     		mov	r1, r5
 4904 0022 2046     		mov	r0, r4
 4905 0024 FFF7FEFF 		bl	get_fat
 4906              	.LVL554:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4907              		.loc 1 1028 4 is_stmt 1 view .LVU1596
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4908              		.loc 1 1028 7 is_stmt 0 view .LVU1597
 4909 0028 0646     		mov	r6, r0
 4910 002a D8B1     		cbz	r0, .L380
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4911              		.loc 1 1029 4 is_stmt 1 view .LVU1598
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4912              		.loc 1 1029 7 is_stmt 0 view .LVU1599
 4913 002c 0128     		cmp	r0, #1
 4914 002e 1DD0     		beq	.L386
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4915              		.loc 1 1030 4 is_stmt 1 view .LVU1600
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4916              		.loc 1 1030 7 is_stmt 0 view .LVU1601
 4917 0030 B0F1FF3F 		cmp	r0, #-1
 4918 0034 1CD0     		beq	.L387
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4919              		.loc 1 1031 4 is_stmt 1 view .LVU1602
ARM GAS  /tmp/ccc896J6.s 			page 152


1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4920              		.loc 1 1031 10 is_stmt 0 view .LVU1603
 4921 0036 0022     		movs	r2, #0
 4922 0038 2946     		mov	r1, r5
 4923 003a 2046     		mov	r0, r4
 4924              	.LVL555:
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4925              		.loc 1 1031 10 view .LVU1604
 4926 003c FFF7FEFF 		bl	put_fat
 4927              	.LVL556:
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4928              		.loc 1 1032 4 is_stmt 1 view .LVU1605
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4929              		.loc 1 1032 7 is_stmt 0 view .LVU1606
 4930 0040 0746     		mov	r7, r0
 4931 0042 78B9     		cbnz	r0, .L380
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4932              		.loc 1 1033 4 is_stmt 1 view .LVU1607
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4933              		.loc 1 1033 10 is_stmt 0 view .LVU1608
 4934 0044 D4F81034 		ldr	r3, [r4, #1040]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4935              		.loc 1 1033 7 view .LVU1609
 4936 0048 B3F1FF3F 		cmp	r3, #-1
 4937 004c E3D0     		beq	.L382
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 4938              		.loc 1 1034 5 is_stmt 1 view .LVU1610
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 4939              		.loc 1 1034 19 is_stmt 0 view .LVU1611
 4940 004e 0133     		adds	r3, r3, #1
 4941 0050 C4F81034 		str	r3, [r4, #1040]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4942              		.loc 1 1035 5 is_stmt 1 view .LVU1612
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4943              		.loc 1 1035 7 is_stmt 0 view .LVU1613
 4944 0054 94F80534 		ldrb	r3, [r4, #1029]	@ zero_extendqisi2
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4945              		.loc 1 1035 18 view .LVU1614
 4946 0058 43F00103 		orr	r3, r3, #1
 4947 005c 84F80534 		strb	r3, [r4, #1029]
 4948 0060 D9E7     		b	.L382
 4949              	.LVL557:
 4950              	.L384:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4951              		.loc 1 1022 7 view .LVU1615
 4952 0062 0227     		movs	r7, #2
 4953              	.LVL558:
 4954              	.L380:
1051:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4955              		.loc 1 1051 2 is_stmt 1 view .LVU1616
1052:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4956              		.loc 1 1052 1 is_stmt 0 view .LVU1617
 4957 0064 3846     		mov	r0, r7
 4958 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4959              	.LVL559:
 4960              	.L385:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 153


 4961              		.loc 1 1022 7 view .LVU1618
 4962 0068 0227     		movs	r7, #2
 4963 006a FBE7     		b	.L380
 4964              	.LVL560:
 4965              	.L386:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4966              		.loc 1 1029 24 discriminator 1 view .LVU1619
 4967 006c 0227     		movs	r7, #2
 4968              	.LVL561:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4969              		.loc 1 1029 24 discriminator 1 view .LVU1620
 4970 006e F9E7     		b	.L380
 4971              	.LVL562:
 4972              	.L387:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4973              		.loc 1 1030 33 discriminator 1 view .LVU1621
 4974 0070 0127     		movs	r7, #1
 4975              	.LVL563:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4976              		.loc 1 1030 33 discriminator 1 view .LVU1622
 4977 0072 F7E7     		b	.L380
 4978              		.cfi_endproc
 4979              	.LFE80:
 4981              		.section	.text.f_mount,"ax",%progbits
 4982              		.align	1
 4983              		.global	f_mount
 4984              		.syntax unified
 4985              		.thumb
 4986              		.thumb_func
 4988              	f_mount:
 4989              	.LVL564:
 4990              	.LFB99:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** 
2462:Middlewares/Third_Party/FatFs/src/ff.c **** 
2463:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 
2465:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 
2467:Middlewares/Third_Party/FatFs/src/ff.c **** --------------------------------------------------------------------------*/
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 
2471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
2473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 
2475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
2478:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* 0:Do not mount (delayed mount), 1:Mount immediately */
2479:Middlewares/Third_Party/FatFs/src/ff.c **** )
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4991              		.loc 1 2480 1 is_stmt 1 view -0
 4992              		.cfi_startproc
 4993              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccc896J6.s 			page 154


 4994              		@ frame_needed = 0, uses_anonymous_args = 0
 4995              		.loc 1 2480 1 is_stmt 0 view .LVU1624
 4996 0000 70B5     		push	{r4, r5, r6, lr}
 4997              	.LCFI42:
 4998              		.cfi_def_cfa_offset 16
 4999              		.cfi_offset 4, -16
 5000              		.cfi_offset 5, -12
 5001              		.cfi_offset 6, -8
 5002              		.cfi_offset 14, -4
 5003 0002 84B0     		sub	sp, sp, #16
 5004              	.LCFI43:
 5005              		.cfi_def_cfa_offset 32
 5006 0004 0190     		str	r0, [sp, #4]
 5007 0006 0091     		str	r1, [sp]
 5008 0008 1646     		mov	r6, r2
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5009              		.loc 1 2481 2 is_stmt 1 view .LVU1625
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 5010              		.loc 1 2482 2 view .LVU1626
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5011              		.loc 1 2483 2 view .LVU1627
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 5012              		.loc 1 2484 2 view .LVU1628
 5013              		.loc 1 2484 15 is_stmt 0 view .LVU1629
 5014 000a 0391     		str	r1, [sp, #12]
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 5015              		.loc 1 2487 2 is_stmt 1 view .LVU1630
 5016              		.loc 1 2487 8 is_stmt 0 view .LVU1631
 5017 000c 03A8     		add	r0, sp, #12
 5018              	.LVL565:
 5019              		.loc 1 2487 8 view .LVU1632
 5020 000e FFF7FEFF 		bl	get_ldnumber
 5021              	.LVL566:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5022              		.loc 1 2488 2 is_stmt 1 view .LVU1633
 5023              		.loc 1 2488 5 is_stmt 0 view .LVU1634
 5024 0012 041E     		subs	r4, r0, #0
 5025 0014 1DDB     		blt	.L393
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5026              		.loc 1 2489 2 is_stmt 1 view .LVU1635
 5027              		.loc 1 2489 6 is_stmt 0 view .LVU1636
 5028 0016 114B     		ldr	r3, .L398
 5029 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 5030              	.LVL567:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 5031              		.loc 1 2491 2 is_stmt 1 view .LVU1637
 5032              		.loc 1 2491 5 is_stmt 0 view .LVU1638
 5033 001c 2DB1     		cbz	r5, .L391
2492:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
 5034              		.loc 1 2493 3 is_stmt 1 view .LVU1639
 5035 001e 2846     		mov	r0, r5
 5036              	.LVL568:
 5037              		.loc 1 2493 3 is_stmt 0 view .LVU1640
ARM GAS  /tmp/ccc896J6.s 			page 155


 5038 0020 FFF7FEFF 		bl	clear_lock
 5039              	.LVL569:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2495:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
2496:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
2497:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 5040              		.loc 1 2498 3 is_stmt 1 view .LVU1641
 5041              		.loc 1 2498 16 is_stmt 0 view .LVU1642
 5042 0024 0023     		movs	r3, #0
 5043 0026 85F80034 		strb	r3, [r5, #1024]
 5044              	.L391:
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 5045              		.loc 1 2501 2 is_stmt 1 view .LVU1643
 5046              		.loc 1 2501 6 is_stmt 0 view .LVU1644
 5047 002a 019B     		ldr	r3, [sp, #4]
 5048              		.loc 1 2501 5 view .LVU1645
 5049 002c 13B1     		cbz	r3, .L392
2502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5050              		.loc 1 2502 3 is_stmt 1 view .LVU1646
 5051              		.loc 1 2502 15 is_stmt 0 view .LVU1647
 5052 002e 0022     		movs	r2, #0
 5053 0030 83F80024 		strb	r2, [r3, #1024]
 5054              	.L392:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
2505:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 5055              		.loc 1 2507 2 is_stmt 1 view .LVU1648
 5056              		.loc 1 2507 13 is_stmt 0 view .LVU1649
 5057 0034 094A     		ldr	r2, .L398
 5058 0036 42F82430 		str	r3, [r2, r4, lsl #2]
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 5059              		.loc 1 2509 2 is_stmt 1 view .LVU1650
 5060              		.loc 1 2509 5 is_stmt 0 view .LVU1651
 5061 003a 63B1     		cbz	r3, .L394
 5062              		.loc 1 2509 10 discriminator 2 view .LVU1652
 5063 003c 012E     		cmp	r6, #1
 5064 003e 02D0     		beq	.L397
 5065              		.loc 1 2509 30 discriminator 3 view .LVU1653
 5066 0040 0020     		movs	r0, #0
 5067              	.LVL570:
 5068              	.L390:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);	/* Force mounted the volume */
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
2513:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5069              		.loc 1 2513 1 view .LVU1654
 5070 0042 04B0     		add	sp, sp, #16
 5071              	.LCFI44:
 5072              		.cfi_remember_state
 5073              		.cfi_def_cfa_offset 16
 5074              		@ sp needed
ARM GAS  /tmp/ccc896J6.s 			page 156


 5075 0044 70BD     		pop	{r4, r5, r6, pc}
 5076              	.LVL571:
 5077              	.L397:
 5078              	.LCFI45:
 5079              		.cfi_restore_state
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5080              		.loc 1 2511 2 is_stmt 1 view .LVU1655
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5081              		.loc 1 2511 8 is_stmt 0 view .LVU1656
 5082 0046 0022     		movs	r2, #0
 5083 0048 6946     		mov	r1, sp
 5084 004a 01A8     		add	r0, sp, #4
 5085 004c FFF7FEFF 		bl	find_volume
 5086              	.LVL572:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5087              		.loc 1 2512 2 is_stmt 1 view .LVU1657
 5088 0050 F7E7     		b	.L390
 5089              	.LVL573:
 5090              	.L393:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5091              		.loc 1 2488 22 is_stmt 0 discriminator 1 view .LVU1658
 5092 0052 0B20     		movs	r0, #11
 5093              	.LVL574:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5094              		.loc 1 2488 22 discriminator 1 view .LVU1659
 5095 0054 F5E7     		b	.L390
 5096              	.LVL575:
 5097              	.L394:
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5098              		.loc 1 2509 30 discriminator 3 view .LVU1660
 5099 0056 0020     		movs	r0, #0
 5100 0058 F3E7     		b	.L390
 5101              	.L399:
 5102 005a 00BF     		.align	2
 5103              	.L398:
 5104 005c 00000000 		.word	FatFs
 5105              		.cfi_endproc
 5106              	.LFE99:
 5108              		.section	.text.f_open,"ax",%progbits
 5109              		.align	1
 5110              		.global	f_open
 5111              		.syntax unified
 5112              		.thumb
 5113              		.thumb_func
 5115              	f_open:
 5116              	.LVL576:
 5117              	.LFB100:
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2519:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
2520:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 
2522:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
ARM GAS  /tmp/ccc896J6.s 			page 157


2524:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
2526:Middlewares/Third_Party/FatFs/src/ff.c **** )
2527:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5118              		.loc 1 2527 1 is_stmt 1 view -0
 5119              		.cfi_startproc
 5120              		@ args = 0, pretend = 0, frame = 1080
 5121              		@ frame_needed = 0, uses_anonymous_args = 0
 5122              		.loc 1 2527 1 is_stmt 0 view .LVU1662
 5123 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5124              	.LCFI46:
 5125              		.cfi_def_cfa_offset 32
 5126              		.cfi_offset 4, -32
 5127              		.cfi_offset 5, -28
 5128              		.cfi_offset 6, -24
 5129              		.cfi_offset 7, -20
 5130              		.cfi_offset 8, -16
 5131              		.cfi_offset 9, -12
 5132              		.cfi_offset 10, -8
 5133              		.cfi_offset 14, -4
 5134 0004 ADF5876D 		sub	sp, sp, #1080
 5135              	.LCFI47:
 5136              		.cfi_def_cfa_offset 1112
 5137 0008 0191     		str	r1, [sp, #4]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5138              		.loc 1 2528 2 is_stmt 1 view .LVU1663
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 5139              		.loc 1 2529 2 view .LVU1664
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 5140              		.loc 1 2530 2 view .LVU1665
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 5141              		.loc 1 2531 2 view .LVU1666
2532:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl;
 5142              		.loc 1 2533 2 view .LVU1667
2534:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** 
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5143              		.loc 1 2537 2 view .LVU1668
 5144              		.loc 1 2537 5 is_stmt 0 view .LVU1669
 5145 000a 0028     		cmp	r0, #0
 5146 000c 00F0E380 		beq	.L409
 5147 0010 1446     		mov	r4, r2
 5148 0012 0646     		mov	r6, r0
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5149              		.loc 1 2538 2 is_stmt 1 view .LVU1670
 5150              		.loc 1 2538 9 is_stmt 0 view .LVU1671
 5151 0014 0023     		movs	r3, #0
 5152 0016 C0F80034 		str	r3, [r0, #1024]
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2541:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
 5153              		.loc 1 2542 2 is_stmt 1 view .LVU1672
 5154              		.loc 1 2542 7 is_stmt 0 view .LVU1673
 5155 001a 02F01F08 		and	r8, r2, #31
ARM GAS  /tmp/ccc896J6.s 			page 158


 5156              	.LVL577:
2543:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, (BYTE)(mode & ~FA_READ));
 5157              		.loc 1 2543 2 is_stmt 1 view .LVU1674
 5158              		.loc 1 2543 8 is_stmt 0 view .LVU1675
 5159 001e 02F01E07 		and	r7, r2, #30
 5160 0022 3A46     		mov	r2, r7
 5161 0024 01A9     		add	r1, sp, #4
 5162              	.LVL578:
 5163              		.loc 1 2543 8 view .LVU1676
 5164 0026 0DF58360 		add	r0, sp, #1048
 5165              	.LVL579:
 5166              		.loc 1 2543 8 view .LVU1677
 5167 002a FFF7FEFF 		bl	find_volume
 5168              	.LVL580:
2544:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2545:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ;
2546:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2547:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2548:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5169              		.loc 1 2548 2 is_stmt 1 view .LVU1678
 5170              		.loc 1 2548 5 is_stmt 0 view .LVU1679
 5171 002e 0546     		mov	r5, r0
 5172 0030 20B1     		cbz	r0, .L418
 5173              	.LVL581:
 5174              	.L401:
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2557:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2559:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
2567:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
2569:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
2576:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccc896J6.s 			page 159


2581:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2607:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
2614:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
2617:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2618:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 
2620:Middlewares/Third_Party/FatFs/src/ff.c **** #else				/* R/O configuration */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow succeeded */
2622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
2623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Current directory itself */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR)	/* It is a directory */
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2630:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
ARM GAS  /tmp/ccc896J6.s 			page 160


2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
2640:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 
2648:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
2649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5175              		.loc 1 2649 1 view .LVU1680
 5176 0032 2846     		mov	r0, r5
 5177 0034 0DF5876D 		add	sp, sp, #1080
 5178              	.LCFI48:
 5179              		.cfi_remember_state
 5180              		.cfi_def_cfa_offset 32
 5181              		@ sp needed
 5182 0038 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5183              	.LVL582:
 5184              	.L418:
 5185              	.LCFI49:
 5186              		.cfi_restore_state
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5187              		.loc 1 2549 3 is_stmt 1 view .LVU1681
 5188 003c 06AD     		add	r5, sp, #24
 5189 003e 03AB     		add	r3, sp, #12
 5190 0040 CDF83034 		str	r3, [sp, #1072]
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5191              		.loc 1 2550 3 view .LVU1682
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5192              		.loc 1 2550 9 is_stmt 0 view .LVU1683
 5193 0044 0199     		ldr	r1, [sp, #4]
 5194 0046 2846     		mov	r0, r5
 5195              	.LVL583:
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5196              		.loc 1 2550 9 view .LVU1684
 5197 0048 FFF7FEFF 		bl	follow_path
 5198              	.LVL584:
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5199              		.loc 1 2551 3 is_stmt 1 view .LVU1685
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5200              		.loc 1 2551 7 is_stmt 0 view .LVU1686
 5201 004c DDF82C94 		ldr	r9, [sp, #1068]
 5202              	.LVL585:
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5203              		.loc 1 2553 3 is_stmt 1 view .LVU1687
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5204              		.loc 1 2553 6 is_stmt 0 view .LVU1688
 5205 0050 0546     		mov	r5, r0
 5206 0052 48B9     		cbnz	r0, .L402
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5207              		.loc 1 2554 4 is_stmt 1 view .LVU1689
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5208              		.loc 1 2554 7 is_stmt 0 view .LVU1690
 5209 0054 B9F1000F 		cmp	r9, #0
ARM GAS  /tmp/ccc896J6.s 			page 161


 5210 0058 52D0     		beq	.L410
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5211              		.loc 1 2558 5 is_stmt 1 view .LVU1691
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5212              		.loc 1 2558 11 is_stmt 0 view .LVU1692
 5213 005a 391E     		subs	r1, r7, #0
 5214 005c 18BF     		it	ne
 5215 005e 0121     		movne	r1, #1
 5216 0060 06A8     		add	r0, sp, #24
 5217              	.LVL586:
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5218              		.loc 1 2558 11 view .LVU1693
 5219 0062 FFF7FEFF 		bl	chk_lock
 5220              	.LVL587:
 5221 0066 0546     		mov	r5, r0
 5222              	.LVL588:
 5223              	.L402:
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5224              		.loc 1 2562 3 is_stmt 1 view .LVU1694
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5225              		.loc 1 2562 6 is_stmt 0 view .LVU1695
 5226 0068 14F01C0F 		tst	r4, #28
 5227 006c 5ED0     		beq	.L403
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5228              		.loc 1 2563 4 is_stmt 1 view .LVU1696
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5229              		.loc 1 2563 7 is_stmt 0 view .LVU1697
 5230 006e 002D     		cmp	r5, #0
 5231 0070 52D0     		beq	.L404
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5232              		.loc 1 2564 5 is_stmt 1 view .LVU1698
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5233              		.loc 1 2564 8 is_stmt 0 view .LVU1699
 5234 0072 042D     		cmp	r5, #4
 5235 0074 46D0     		beq	.L419
 5236              	.LVL589:
 5237              	.L405:
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5238              		.loc 1 2570 5 is_stmt 1 view .LVU1700
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5239              		.loc 1 2570 10 is_stmt 0 view .LVU1701
 5240 0076 48F00808 		orr	r8, r8, #8
 5241              	.LVL590:
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5242              		.loc 1 2571 5 is_stmt 1 view .LVU1702
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5243              		.loc 1 2571 9 is_stmt 0 view .LVU1703
 5244 007a DDF82C94 		ldr	r9, [sp, #1068]
 5245              	.LVL591:
 5246              	.L406:
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5247              		.loc 1 2581 4 is_stmt 1 view .LVU1704
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5248              		.loc 1 2581 7 is_stmt 0 view .LVU1705
 5249 007e 002D     		cmp	r5, #0
 5250 0080 D7D1     		bne	.L401
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
ARM GAS  /tmp/ccc896J6.s 			page 162


 5251              		.loc 1 2581 21 discriminator 1 view .LVU1706
 5252 0082 18F0080F 		tst	r8, #8
 5253 0086 61D0     		beq	.L407
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5254              		.loc 1 2582 5 is_stmt 1 view .LVU1707
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5255              		.loc 1 2582 10 is_stmt 0 view .LVU1708
 5256 0088 FFF7FEFF 		bl	get_fattime
 5257              	.LVL592:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5258              		.loc 1 2583 5 is_stmt 1 view .LVU1709
 5259 008c 89F80E00 		strb	r0, [r9, #14]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5260              		.loc 1 2583 5 view .LVU1710
 5261 0090 C0F30723 		ubfx	r3, r0, #8, #8
 5262 0094 89F80F30 		strb	r3, [r9, #15]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5263              		.loc 1 2583 5 view .LVU1711
 5264 0098 C0F30743 		ubfx	r3, r0, #16, #8
 5265 009c 89F81030 		strb	r3, [r9, #16]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5266              		.loc 1 2583 5 view .LVU1712
 5267 00a0 000E     		lsrs	r0, r0, #24
 5268              	.LVL593:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5269              		.loc 1 2583 5 is_stmt 0 view .LVU1713
 5270 00a2 89F81100 		strb	r0, [r9, #17]
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5271              		.loc 1 2584 5 is_stmt 1 view .LVU1714
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5272              		.loc 1 2584 19 is_stmt 0 view .LVU1715
 5273 00a6 0024     		movs	r4, #0
 5274 00a8 89F80B40 		strb	r4, [r9, #11]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5275              		.loc 1 2585 5 is_stmt 1 view .LVU1716
 5276 00ac 89F81C40 		strb	r4, [r9, #28]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5277              		.loc 1 2585 5 view .LVU1717
 5278 00b0 89F81D40 		strb	r4, [r9, #29]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5279              		.loc 1 2585 5 view .LVU1718
 5280 00b4 89F81E40 		strb	r4, [r9, #30]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5281              		.loc 1 2585 5 view .LVU1719
 5282 00b8 89F81F40 		strb	r4, [r9, #31]
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5283              		.loc 1 2586 5 view .LVU1720
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5284              		.loc 1 2586 10 is_stmt 0 view .LVU1721
 5285 00bc 4946     		mov	r1, r9
 5286 00be DDF81804 		ldr	r0, [sp, #1048]
 5287 00c2 FFF7FEFF 		bl	ld_clust
 5288              	.LVL594:
 5289 00c6 0746     		mov	r7, r0
 5290              	.LVL595:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5291              		.loc 1 2587 5 is_stmt 1 view .LVU1722
ARM GAS  /tmp/ccc896J6.s 			page 163


 5292 00c8 2146     		mov	r1, r4
 5293 00ca 4846     		mov	r0, r9
 5294              	.LVL596:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5295              		.loc 1 2587 5 is_stmt 0 view .LVU1723
 5296 00cc FFF7FEFF 		bl	st_clust
 5297              	.LVL597:
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5298              		.loc 1 2588 5 is_stmt 1 view .LVU1724
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5299              		.loc 1 2588 7 is_stmt 0 view .LVU1725
 5300 00d0 DDF81804 		ldr	r0, [sp, #1048]
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5301              		.loc 1 2588 18 view .LVU1726
 5302 00d4 0123     		movs	r3, #1
 5303 00d6 80F80434 		strb	r3, [r0, #1028]
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5304              		.loc 1 2589 5 is_stmt 1 view .LVU1727
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5305              		.loc 1 2589 8 is_stmt 0 view .LVU1728
 5306 00da BFB3     		cbz	r7, .L407
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5307              		.loc 1 2590 6 is_stmt 1 view .LVU1729
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5308              		.loc 1 2590 9 is_stmt 0 view .LVU1730
 5309 00dc D0F82C44 		ldr	r4, [r0, #1068]
 5310              	.LVL598:
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5311              		.loc 1 2591 6 is_stmt 1 view .LVU1731
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5312              		.loc 1 2591 12 is_stmt 0 view .LVU1732
 5313 00e0 3946     		mov	r1, r7
 5314 00e2 FFF7FEFF 		bl	remove_chain
 5315              	.LVL599:
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5316              		.loc 1 2592 6 is_stmt 1 view .LVU1733
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5317              		.loc 1 2592 9 is_stmt 0 view .LVU1734
 5318 00e6 0546     		mov	r5, r0
 5319 00e8 0028     		cmp	r0, #0
 5320 00ea A2D1     		bne	.L401
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5321              		.loc 1 2593 7 is_stmt 1 view .LVU1735
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5322              		.loc 1 2593 9 is_stmt 0 view .LVU1736
 5323 00ec DDF81804 		ldr	r0, [sp, #1048]
 5324              	.LVL600:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5325              		.loc 1 2593 30 view .LVU1737
 5326 00f0 013F     		subs	r7, r7, #1
 5327              	.LVL601:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5328              		.loc 1 2593 25 view .LVU1738
 5329 00f2 C0F80C74 		str	r7, [r0, #1036]
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5330              		.loc 1 2594 7 is_stmt 1 view .LVU1739
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccc896J6.s 			page 164


 5331              		.loc 1 2594 13 is_stmt 0 view .LVU1740
 5332 00f6 2146     		mov	r1, r4
 5333 00f8 FFF7FEFF 		bl	move_window
 5334              	.LVL602:
 5335 00fc 0546     		mov	r5, r0
 5336              	.LVL603:
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5337              		.loc 1 2594 13 view .LVU1741
 5338 00fe 25E0     		b	.L407
 5339              	.LVL604:
 5340              	.L410:
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5341              		.loc 1 2555 9 view .LVU1742
 5342 0100 0625     		movs	r5, #6
 5343 0102 B1E7     		b	.L402
 5344              	.LVL605:
 5345              	.L419:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5346              		.loc 1 2566 6 is_stmt 1 view .LVU1743
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5347              		.loc 1 2566 12 is_stmt 0 view .LVU1744
 5348 0104 FFF7FEFF 		bl	enq_lock
 5349              	.LVL606:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5350              		.loc 1 2566 43 discriminator 1 view .LVU1745
 5351 0108 08B9     		cbnz	r0, .L420
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5352              		.loc 1 2566 43 discriminator 2 view .LVU1746
 5353 010a 1225     		movs	r5, #18
 5354              	.LVL607:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5355              		.loc 1 2566 43 discriminator 2 view .LVU1747
 5356 010c B3E7     		b	.L405
 5357              	.LVL608:
 5358              	.L420:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5359              		.loc 1 2566 25 discriminator 1 view .LVU1748
 5360 010e 06A8     		add	r0, sp, #24
 5361 0110 FFF7FEFF 		bl	dir_register
 5362              	.LVL609:
 5363 0114 0546     		mov	r5, r0
 5364              	.LVL610:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5365              		.loc 1 2566 25 discriminator 1 view .LVU1749
 5366 0116 AEE7     		b	.L405
 5367              	.LVL611:
 5368              	.L404:
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5369              		.loc 1 2574 5 is_stmt 1 view .LVU1750
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5370              		.loc 1 2574 12 is_stmt 0 view .LVU1751
 5371 0118 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5372              		.loc 1 2574 8 view .LVU1752
 5373 011c 13F0110F 		tst	r3, #17
 5374 0120 13D1     		bne	.L412
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
ARM GAS  /tmp/ccc896J6.s 			page 165


 5375              		.loc 1 2577 6 is_stmt 1 view .LVU1753
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5376              		.loc 1 2577 9 is_stmt 0 view .LVU1754
 5377 0122 14F0040F 		tst	r4, #4
 5378 0126 AAD0     		beq	.L406
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5379              		.loc 1 2578 11 view .LVU1755
 5380 0128 0825     		movs	r5, #8
 5381              	.LVL612:
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5382              		.loc 1 2578 11 view .LVU1756
 5383 012a 82E7     		b	.L401
 5384              	.LVL613:
 5385              	.L403:
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5386              		.loc 1 2600 4 is_stmt 1 view .LVU1757
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5387              		.loc 1 2600 7 is_stmt 0 view .LVU1758
 5388 012c 002D     		cmp	r5, #0
 5389 012e 80D1     		bne	.L401
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5390              		.loc 1 2601 5 is_stmt 1 view .LVU1759
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5391              		.loc 1 2601 12 is_stmt 0 view .LVU1760
 5392 0130 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5393              		.loc 1 2601 8 view .LVU1761
 5394 0134 13F0100F 		tst	r3, #16
 5395 0138 4FD1     		bne	.L414
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5396              		.loc 1 2604 6 is_stmt 1 view .LVU1762
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5397              		.loc 1 2604 9 is_stmt 0 view .LVU1763
 5398 013a 14F0020F 		tst	r4, #2
 5399 013e 05D0     		beq	.L407
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5400              		.loc 1 2604 28 discriminator 1 view .LVU1764
 5401 0140 13F0010F 		tst	r3, #1
 5402 0144 02D0     		beq	.L407
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5403              		.loc 1 2605 11 view .LVU1765
 5404 0146 0725     		movs	r5, #7
 5405              	.LVL614:
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5406              		.loc 1 2605 11 view .LVU1766
 5407 0148 73E7     		b	.L401
 5408              	.LVL615:
 5409              	.L412:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5410              		.loc 1 2575 10 view .LVU1767
 5411 014a 0725     		movs	r5, #7
 5412              	.LVL616:
 5413              	.L407:
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5414              		.loc 1 2609 3 is_stmt 1 view .LVU1768
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5415              		.loc 1 2609 6 is_stmt 0 view .LVU1769
ARM GAS  /tmp/ccc896J6.s 			page 166


 5416 014c 002D     		cmp	r5, #0
 5417 014e 7FF470AF 		bne	.L401
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5418              		.loc 1 2610 4 is_stmt 1 view .LVU1770
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5419              		.loc 1 2610 7 is_stmt 0 view .LVU1771
 5420 0152 18F0080F 		tst	r8, #8
 5421 0156 01D0     		beq	.L408
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5422              		.loc 1 2611 5 is_stmt 1 view .LVU1772
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5423              		.loc 1 2611 10 is_stmt 0 view .LVU1773
 5424 0158 48F02008 		orr	r8, r8, #32
 5425              	.LVL617:
 5426              	.L408:
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5427              		.loc 1 2612 4 is_stmt 1 view .LVU1774
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5428              		.loc 1 2612 21 is_stmt 0 view .LVU1775
 5429 015c 06A8     		add	r0, sp, #24
 5430 015e D0F80034 		ldr	r3, [r0, #1024]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5431              		.loc 1 2612 24 view .LVU1776
 5432 0162 D3F82C34 		ldr	r3, [r3, #1068]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5433              		.loc 1 2612 17 view .LVU1777
 5434 0166 C6F81C34 		str	r3, [r6, #1052]
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5435              		.loc 1 2613 4 is_stmt 1 view .LVU1778
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5436              		.loc 1 2613 16 is_stmt 0 view .LVU1779
 5437 016a C6F82094 		str	r9, [r6, #1056]
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5438              		.loc 1 2615 4 is_stmt 1 view .LVU1780
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5439              		.loc 1 2615 17 is_stmt 0 view .LVU1781
 5440 016e B8F1010F 		cmp	r8, #1
 5441 0172 94BF     		ite	ls
 5442 0174 0021     		movls	r1, #0
 5443 0176 0121     		movhi	r1, #1
 5444 0178 FFF7FEFF 		bl	inc_lock
 5445              	.LVL618:
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5446              		.loc 1 2615 15 discriminator 1 view .LVU1782
 5447 017c C6F82804 		str	r0, [r6, #1064]
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5448              		.loc 1 2616 4 is_stmt 1 view .LVU1783
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5449              		.loc 1 2616 7 is_stmt 0 view .LVU1784
 5450 0180 68B3     		cbz	r0, .L416
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5451              		.loc 1 2631 13 is_stmt 1 view .LVU1785
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5452              		.loc 1 2633 3 view .LVU1786
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5453              		.loc 1 2634 4 view .LVU1787
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
ARM GAS  /tmp/ccc896J6.s 			page 167


 5454              		.loc 1 2634 13 is_stmt 0 view .LVU1788
 5455 0182 86F80684 		strb	r8, [r6, #1030]
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5456              		.loc 1 2635 4 is_stmt 1 view .LVU1789
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5457              		.loc 1 2635 12 is_stmt 0 view .LVU1790
 5458 0186 0024     		movs	r4, #0
 5459 0188 86F80744 		strb	r4, [r6, #1031]
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5460              		.loc 1 2636 4 is_stmt 1 view .LVU1791
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5461              		.loc 1 2636 17 is_stmt 0 view .LVU1792
 5462 018c DDF81874 		ldr	r7, [sp, #1048]
 5463 0190 4946     		mov	r1, r9
 5464 0192 3846     		mov	r0, r7
 5465 0194 FFF7FEFF 		bl	ld_clust
 5466              	.LVL619:
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5467              		.loc 1 2636 15 discriminator 1 view .LVU1793
 5468 0198 C6F81004 		str	r0, [r6, #1040]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5469              		.loc 1 2637 4 is_stmt 1 view .LVU1794
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5470              		.loc 1 2637 16 is_stmt 0 view .LVU1795
 5471 019c 99F81F20 		ldrb	r2, [r9, #31]	@ zero_extendqisi2
 5472 01a0 99F81E30 		ldrb	r3, [r9, #30]	@ zero_extendqisi2
 5473 01a4 1B04     		lsls	r3, r3, #16
 5474 01a6 43EA0263 		orr	r3, r3, r2, lsl #24
 5475 01aa 99F81D20 		ldrb	r2, [r9, #29]	@ zero_extendqisi2
 5476 01ae 43EA0223 		orr	r3, r3, r2, lsl #8
 5477 01b2 99F81C20 		ldrb	r2, [r9, #28]	@ zero_extendqisi2
 5478 01b6 1343     		orrs	r3, r3, r2
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5479              		.loc 1 2637 14 view .LVU1796
 5480 01b8 C6F80C34 		str	r3, [r6, #1036]
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5481              		.loc 1 2638 4 is_stmt 1 view .LVU1797
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5482              		.loc 1 2638 13 is_stmt 0 view .LVU1798
 5483 01bc C6F80844 		str	r4, [r6, #1032]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5484              		.loc 1 2639 4 is_stmt 1 view .LVU1799
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5485              		.loc 1 2639 14 is_stmt 0 view .LVU1800
 5486 01c0 C6F81844 		str	r4, [r6, #1048]
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5487              		.loc 1 2641 4 is_stmt 1 view .LVU1801
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5488              		.loc 1 2641 14 is_stmt 0 view .LVU1802
 5489 01c4 C6F82444 		str	r4, [r6, #1060]
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5490              		.loc 1 2643 4 is_stmt 1 view .LVU1803
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5491              		.loc 1 2643 11 is_stmt 0 view .LVU1804
 5492 01c8 C6F80074 		str	r7, [r6, #1024]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5493              		.loc 1 2644 4 is_stmt 1 view .LVU1805
ARM GAS  /tmp/ccc896J6.s 			page 168


2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5494              		.loc 1 2644 19 is_stmt 0 view .LVU1806
 5495 01cc B7F80634 		ldrh	r3, [r7, #1030]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5496              		.loc 1 2644 11 view .LVU1807
 5497 01d0 A6F80434 		strh	r3, [r6, #1028]	@ movhi
 5498 01d4 2DE7     		b	.L401
 5499              	.LVL620:
 5500              	.L409:
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5501              		.loc 1 2537 18 discriminator 1 view .LVU1808
 5502 01d6 0925     		movs	r5, #9
 5503 01d8 2BE7     		b	.L401
 5504              	.LVL621:
 5505              	.L414:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5506              		.loc 1 2602 10 view .LVU1809
 5507 01da 0425     		movs	r5, #4
 5508              	.LVL622:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5509              		.loc 1 2602 10 view .LVU1810
 5510 01dc 29E7     		b	.L401
 5511              	.LVL623:
 5512              	.L416:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5513              		.loc 1 2616 25 discriminator 1 view .LVU1811
 5514 01de 0225     		movs	r5, #2
 5515              	.LVL624:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5516              		.loc 1 2616 25 discriminator 1 view .LVU1812
 5517 01e0 27E7     		b	.L401
 5518              		.cfi_endproc
 5519              	.LFE100:
 5521              		.section	.text.f_read,"ax",%progbits
 5522              		.align	1
 5523              		.global	f_read
 5524              		.syntax unified
 5525              		.thumb
 5526              		.thumb_func
 5528              	f_read:
 5529              	.LVL625:
 5530              	.LFB101:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 
2654:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2655:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
2656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 
2658:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 		/* Pointer to the file object */
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,		/* Pointer to data buffer */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,		/* Number of bytes to read */
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br		/* Pointer to number of bytes read */
2663:Middlewares/Third_Party/FatFs/src/ff.c **** )
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccc896J6.s 			page 169


 5531              		.loc 1 2664 1 is_stmt 1 view -0
 5532              		.cfi_startproc
 5533              		@ args = 0, pretend = 0, frame = 8
 5534              		@ frame_needed = 0, uses_anonymous_args = 0
 5535              		.loc 1 2664 1 is_stmt 0 view .LVU1814
 5536 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5537              	.LCFI50:
 5538              		.cfi_def_cfa_offset 36
 5539              		.cfi_offset 4, -36
 5540              		.cfi_offset 5, -32
 5541              		.cfi_offset 6, -28
 5542              		.cfi_offset 7, -24
 5543              		.cfi_offset 8, -20
 5544              		.cfi_offset 9, -16
 5545              		.cfi_offset 10, -12
 5546              		.cfi_offset 11, -8
 5547              		.cfi_offset 14, -4
 5548 0004 83B0     		sub	sp, sp, #12
 5549              	.LCFI51:
 5550              		.cfi_def_cfa_offset 48
 5551 0006 0446     		mov	r4, r0
 5552 0008 0F46     		mov	r7, r1
 5553 000a 1546     		mov	r5, r2
 5554 000c 9846     		mov	r8, r3
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5555              		.loc 1 2665 2 is_stmt 1 view .LVU1815
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect, remain;
 5556              		.loc 1 2666 2 view .LVU1816
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc;
 5557              		.loc 1 2667 2 view .LVU1817
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect, *rbuff = (BYTE*)buff;
 5558              		.loc 1 2668 2 view .LVU1818
 5559              	.LVL626:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 5560              		.loc 1 2671 2 view .LVU1819
 5561              		.loc 1 2671 6 is_stmt 0 view .LVU1820
 5562 000e 0023     		movs	r3, #0
 5563              	.LVL627:
 5564              		.loc 1 2671 6 view .LVU1821
 5565 0010 C8F80030 		str	r3, [r8]
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);							/* Check validity */
 5566              		.loc 1 2673 2 is_stmt 1 view .LVU1822
 5567              		.loc 1 2673 8 is_stmt 0 view .LVU1823
 5568 0014 FFF7FEFF 		bl	validate
 5569              	.LVL628:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5570              		.loc 1 2674 2 is_stmt 1 view .LVU1824
 5571              		.loc 1 2674 5 is_stmt 0 view .LVU1825
 5572 0018 0190     		str	r0, [sp, #4]
 5573 001a 0028     		cmp	r0, #0
 5574 001c 40F0E580 		bne	.L422
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)								/* Check error */
 5575              		.loc 1 2675 2 is_stmt 1 view .LVU1826
 5576              		.loc 1 2675 8 is_stmt 0 view .LVU1827
ARM GAS  /tmp/ccc896J6.s 			page 170


 5577 0020 94F80734 		ldrb	r3, [r4, #1031]	@ zero_extendqisi2
 5578 0024 0193     		str	r3, [sp, #4]
 5579              		.loc 1 2675 5 view .LVU1828
 5580 0026 002B     		cmp	r3, #0
 5581 0028 40F0DF80 		bne	.L422
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) 					/* Check access mode */
 5582              		.loc 1 2677 2 is_stmt 1 view .LVU1829
 5583              		.loc 1 2677 10 is_stmt 0 view .LVU1830
 5584 002c 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 5585              		.loc 1 2677 5 view .LVU1831
 5586 0030 13F0010F 		tst	r3, #1
 5587 0034 00F0EB80 		beq	.L444
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5588              		.loc 1 2679 2 is_stmt 1 view .LVU1832
 5589              		.loc 1 2679 13 is_stmt 0 view .LVU1833
 5590 0038 D4F80C64 		ldr	r6, [r4, #1036]
 5591              		.loc 1 2679 25 view .LVU1834
 5592 003c D4F80834 		ldr	r3, [r4, #1032]
 5593              		.loc 1 2679 9 view .LVU1835
 5594 0040 F61A     		subs	r6, r6, r3
 5595              	.LVL629:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5596              		.loc 1 2680 2 is_stmt 1 view .LVU1836
 5597              		.loc 1 2680 5 is_stmt 0 view .LVU1837
 5598 0042 AE42     		cmp	r6, r5
 5599 0044 C0F08380 		bcc	.L442
 5600 0048 2E46     		mov	r6, r5
 5601              	.LVL630:
 5602              		.loc 1 2680 5 view .LVU1838
 5603 004a 80E0     		b	.L442
 5604              	.LVL631:
 5605              	.L427:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
2690:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5606              		.loc 1 2691 6 is_stmt 1 view .LVU1839
 5607              		.loc 1 2691 12 is_stmt 0 view .LVU1840
 5608 004c D4F82434 		ldr	r3, [r4, #1060]
 5609              		.loc 1 2691 9 view .LVU1841
 5610 0050 1BB1     		cbz	r3, .L429
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5611              		.loc 1 2692 7 is_stmt 1 view .LVU1842
 5612              		.loc 1 2692 14 is_stmt 0 view .LVU1843
 5613 0052 2046     		mov	r0, r4
 5614 0054 FFF7FEFF 		bl	clmt_clust
 5615              	.LVL632:
 5616              		.loc 1 2692 14 view .LVU1844
ARM GAS  /tmp/ccc896J6.s 			page 171


 5617 0058 94E0     		b	.L428
 5618              	.LVL633:
 5619              	.L429:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2694:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, fp->clust);	/* Follow cluster chain on the FAT */
 5620              		.loc 1 2695 7 is_stmt 1 view .LVU1845
 5621              		.loc 1 2695 14 is_stmt 0 view .LVU1846
 5622 005a D4F81414 		ldr	r1, [r4, #1044]
 5623 005e FFF7FEFF 		bl	get_fat
 5624              	.LVL634:
 5625 0062 8FE0     		b	.L428
 5626              	.LVL635:
 5627              	.L451:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fp->fs, FR_INT_ERR);
 5628              		.loc 1 2697 19 is_stmt 1 discriminator 1 view .LVU1847
 5629 0064 4FF0020A 		mov	r10, #2
 5630 0068 84F807A4 		strb	r10, [r4, #1031]
 5631              		.loc 1 2697 19 view .LVU1848
 5632              		.loc 1 2697 19 is_stmt 0 discriminator 1 view .LVU1849
 5633 006c CDF804A0 		str	r10, [sp, #4]
 5634              		.loc 1 2697 19 view .LVU1850
 5635 0070 BBE0     		b	.L422
 5636              	.L452:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5637              		.loc 1 2698 29 is_stmt 1 discriminator 1 view .LVU1851
 5638 0072 4FF0010A 		mov	r10, #1
 5639 0076 84F807A4 		strb	r10, [r4, #1031]
 5640              		.loc 1 2698 29 view .LVU1852
 5641              		.loc 1 2698 29 is_stmt 0 discriminator 1 view .LVU1853
 5642 007a CDF804A0 		str	r10, [sp, #4]
 5643              		.loc 1 2698 29 view .LVU1854
 5644 007e B4E0     		b	.L422
 5645              	.LVL636:
 5646              	.L453:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5647              		.loc 1 2702 15 is_stmt 1 discriminator 1 view .LVU1855
 5648 0080 4FF0020A 		mov	r10, #2
 5649 0084 84F807A4 		strb	r10, [r4, #1031]
 5650              		.loc 1 2702 15 view .LVU1856
 5651              		.loc 1 2702 15 is_stmt 0 discriminator 1 view .LVU1857
 5652 0088 CDF804A0 		str	r10, [sp, #4]
 5653              		.loc 1 2702 15 view .LVU1858
 5654 008c ADE0     		b	.L422
 5655              	.LVL637:
 5656              	.L435:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/ccc896J6.s 			page 172


 5657              		.loc 1 2709 32 is_stmt 1 view .LVU1859
2710:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
2711:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->wflag && fp->fs->winsect - sect < cc)
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), fp->fs->win.d8, SS(fp->fs));
2714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA__DIRTY) && fp->dsect - sect < cc)
 5658              		.loc 1 2715 5 view .LVU1860
 5659              		.loc 1 2715 12 is_stmt 0 view .LVU1861
 5660 008e 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 5661              		.loc 1 2715 8 view .LVU1862
 5662 0092 13F0400F 		tst	r3, #64
 5663 0096 05D0     		beq	.L436
 5664              		.loc 1 2715 37 discriminator 1 view .LVU1863
 5665 0098 D4F81834 		ldr	r3, [r4, #1048]
 5666              		.loc 1 2715 45 discriminator 1 view .LVU1864
 5667 009c A3EB0903 		sub	r3, r3, r9
 5668              		.loc 1 2715 32 discriminator 1 view .LVU1865
 5669 00a0 5345     		cmp	r3, r10
 5670 00a2 06D3     		bcc	.L448
 5671              	.L436:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
2717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2718:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fp->fs) * cc;			/* Number of bytes transferred */
 5672              		.loc 1 2719 5 is_stmt 1 view .LVU1866
 5673              		.loc 1 2719 12 is_stmt 0 view .LVU1867
 5674 00a4 D4F80034 		ldr	r3, [r4, #1024]
 5675 00a8 B3F80A54 		ldrh	r5, [r3, #1034]
 5676              	.LVL638:
 5677              		.loc 1 2719 10 view .LVU1868
 5678 00ac 0AFB05F5 		mul	r5, r10, r5
 5679              	.LVL639:
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5680              		.loc 1 2720 5 is_stmt 1 view .LVU1869
 5681 00b0 41E0     		b	.L437
 5682              	.LVL640:
 5683              	.L448:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5684              		.loc 1 2716 6 view .LVU1870
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5685              		.loc 1 2716 44 is_stmt 0 view .LVU1871
 5686 00b2 D4F80024 		ldr	r2, [r4, #1024]
 5687 00b6 B2F80A24 		ldrh	r2, [r2, #1034]
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5688              		.loc 1 2716 6 view .LVU1872
 5689 00ba 2146     		mov	r1, r4
 5690 00bc 02FB0370 		mla	r0, r2, r3, r7
 5691 00c0 FFF7FEFF 		bl	mem_cpy
 5692              	.LVL641:
 5693 00c4 EEE7     		b	.L436
 5694              	.L433:
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {			/* Load data sector if not in cache */
 5695              		.loc 1 2723 4 is_stmt 1 view .LVU1873
 5696              		.loc 1 2723 10 is_stmt 0 view .LVU1874
ARM GAS  /tmp/ccc896J6.s 			page 173


 5697 00c6 D4F81824 		ldr	r2, [r4, #1048]
 5698              		.loc 1 2723 7 view .LVU1875
 5699 00ca 4A45     		cmp	r2, r9
 5700 00cc 1ED0     		beq	.L438
2724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 5701              		.loc 1 2725 5 is_stmt 1 view .LVU1876
 5702              		.loc 1 2725 11 is_stmt 0 view .LVU1877
 5703 00ce 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 5704              		.loc 1 2725 8 view .LVU1878
 5705 00d2 13F0400F 		tst	r3, #64
 5706 00d6 0ED0     		beq	.L439
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 5707              		.loc 1 2726 6 is_stmt 1 view .LVU1879
 5708              		.loc 1 2726 10 is_stmt 0 view .LVU1880
 5709 00d8 0123     		movs	r3, #1
 5710 00da 2146     		mov	r1, r4
 5711 00dc 9BF80104 		ldrb	r0, [fp, #1025]	@ zero_extendqisi2
 5712 00e0 FFF7FEFF 		bl	disk_write
 5713              	.LVL642:
 5714              		.loc 1 2726 9 discriminator 1 view .LVU1881
 5715 00e4 0028     		cmp	r0, #0
 5716 00e6 40F08480 		bne	.L449
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 5717              		.loc 1 2727 33 is_stmt 1 view .LVU1882
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5718              		.loc 1 2728 6 view .LVU1883
 5719              		.loc 1 2728 8 is_stmt 0 view .LVU1884
 5720 00ea 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 5721              		.loc 1 2728 15 view .LVU1885
 5722 00ee 23F04003 		bic	r3, r3, #64
 5723 00f2 84F80634 		strb	r3, [r4, #1030]
 5724              	.L439:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2730:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)	/* Fill sector cache */
 5725              		.loc 1 2731 5 is_stmt 1 view .LVU1886
 5726              		.loc 1 2731 21 is_stmt 0 view .LVU1887
 5727 00f6 D4F80004 		ldr	r0, [r4, #1024]
 5728              		.loc 1 2731 9 view .LVU1888
 5729 00fa 0123     		movs	r3, #1
 5730 00fc 4A46     		mov	r2, r9
 5731 00fe 2146     		mov	r1, r4
 5732 0100 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 5733 0104 FFF7FEFF 		bl	disk_read
 5734              	.LVL643:
 5735              		.loc 1 2731 8 discriminator 1 view .LVU1889
 5736 0108 0028     		cmp	r0, #0
 5737 010a 79D1     		bne	.L450
 5738              	.L438:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5739              		.loc 1 2732 32 is_stmt 1 view .LVU1890
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2734:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 5740              		.loc 1 2735 4 view .LVU1891
 5741              		.loc 1 2735 14 is_stmt 0 view .LVU1892
ARM GAS  /tmp/ccc896J6.s 			page 174


 5742 010c C4F81894 		str	r9, [r4, #1048]
 5743              	.LVL644:
 5744              	.L425:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));	/* Get partial sector data from sector buffer 
 5745              		.loc 1 2737 3 is_stmt 1 view .LVU1893
 5746              		.loc 1 2737 10 is_stmt 0 view .LVU1894
 5747 0110 D4F80034 		ldr	r3, [r4, #1024]
 5748 0114 B3F80A54 		ldrh	r5, [r3, #1034]
 5749              		.loc 1 2737 32 view .LVU1895
 5750 0118 D4F80814 		ldr	r1, [r4, #1032]
 5751              		.loc 1 2737 39 view .LVU1896
 5752 011c B1FBF5F3 		udiv	r3, r1, r5
 5753 0120 05FB1311 		mls	r1, r5, r3, r1
 5754              		.loc 1 2737 8 view .LVU1897
 5755 0124 6D1A     		subs	r5, r5, r1
 5756              	.LVL645:
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;
 5757              		.loc 1 2738 3 is_stmt 1 view .LVU1898
 5758              		.loc 1 2738 6 is_stmt 0 view .LVU1899
 5759 0126 AE42     		cmp	r6, r5
 5760 0128 00D2     		bcs	.L441
 5761              		.loc 1 2738 24 discriminator 1 view .LVU1900
 5762 012a 3546     		mov	r5, r6
 5763              	.LVL646:
 5764              	.L441:
2739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)		/* Move sector window */
2741:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->fs->win.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
2743:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->buf.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
 5765              		.loc 1 2744 3 is_stmt 1 view .LVU1901
 5766 012c 2A46     		mov	r2, r5
 5767 012e 2144     		add	r1, r1, r4
 5768 0130 3846     		mov	r0, r7
 5769 0132 FFF7FEFF 		bl	mem_cpy
 5770              	.LVL647:
 5771              	.L437:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5772              		.loc 1 2683 47 view .LVU1902
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5773              		.loc 1 2683 9 is_stmt 0 view .LVU1903
 5774 0136 2F44     		add	r7, r7, r5
 5775              	.LVL648:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5776              		.loc 1 2683 20 view .LVU1904
 5777 0138 D4F80834 		ldr	r3, [r4, #1032]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5778              		.loc 1 2683 27 view .LVU1905
 5779 013c 2B44     		add	r3, r3, r5
 5780 013e C4F80834 		str	r3, [r4, #1032]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5781              		.loc 1 2683 36 view .LVU1906
 5782 0142 D8F80030 		ldr	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5783              		.loc 1 2683 40 view .LVU1907
ARM GAS  /tmp/ccc896J6.s 			page 175


 5784 0146 2B44     		add	r3, r3, r5
 5785 0148 C8F80030 		str	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5786              		.loc 1 2683 53 view .LVU1908
 5787 014c 761B     		subs	r6, r6, r5
 5788              	.LVL649:
 5789              	.L442:
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 5790              		.loc 1 2682 11 is_stmt 1 view .LVU1909
 5791 014e 002E     		cmp	r6, #0
 5792 0150 4BD0     		beq	.L422
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5793              		.loc 1 2684 3 view .LVU1910
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5794              		.loc 1 2684 10 is_stmt 0 view .LVU1911
 5795 0152 D4F80814 		ldr	r1, [r4, #1032]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5796              		.loc 1 2684 19 view .LVU1912
 5797 0156 D4F80004 		ldr	r0, [r4, #1024]
 5798 015a B0F80A54 		ldrh	r5, [r0, #1034]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5799              		.loc 1 2684 17 view .LVU1913
 5800 015e B1FBF5F3 		udiv	r3, r1, r5
 5801 0162 05FB1313 		mls	r3, r5, r3, r1
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5802              		.loc 1 2684 6 view .LVU1914
 5803 0166 002B     		cmp	r3, #0
 5804 0168 D2D1     		bne	.L425
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5805              		.loc 1 2685 4 is_stmt 1 view .LVU1915
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5806              		.loc 1 2685 28 is_stmt 0 view .LVU1916
 5807 016a B1FBF5F5 		udiv	r5, r1, r5
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5808              		.loc 1 2685 50 view .LVU1917
 5809 016e 90F80234 		ldrb	r3, [r0, #1026]	@ zero_extendqisi2
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5810              		.loc 1 2685 58 view .LVU1918
 5811 0172 013B     		subs	r3, r3, #1
 5812 0174 DBB2     		uxtb	r3, r3
 5813              	.LVL650:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5814              		.loc 1 2686 4 is_stmt 1 view .LVU1919
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5815              		.loc 1 2686 7 is_stmt 0 view .LVU1920
 5816 0176 1D40     		ands	r5, r5, r3
 5817              	.LVL651:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5818              		.loc 1 2686 7 view .LVU1921
 5819 0178 0DD1     		bne	.L426
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5820              		.loc 1 2687 5 is_stmt 1 view .LVU1922
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5821              		.loc 1 2687 8 is_stmt 0 view .LVU1923
 5822 017a 0029     		cmp	r1, #0
 5823 017c 7FF466AF 		bne	.L427
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
ARM GAS  /tmp/ccc896J6.s 			page 176


 5824              		.loc 1 2688 6 is_stmt 1 view .LVU1924
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 5825              		.loc 1 2688 11 is_stmt 0 view .LVU1925
 5826 0180 D4F81004 		ldr	r0, [r4, #1040]
 5827              	.LVL652:
 5828              	.L428:
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5829              		.loc 1 2697 5 is_stmt 1 view .LVU1926
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5830              		.loc 1 2697 8 is_stmt 0 view .LVU1927
 5831 0184 0128     		cmp	r0, #1
 5832 0186 7FF66DAF 		bls	.L451
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5833              		.loc 1 2697 44 is_stmt 1 discriminator 2 view .LVU1928
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5834              		.loc 1 2698 5 view .LVU1929
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5835              		.loc 1 2698 8 is_stmt 0 view .LVU1930
 5836 018a B0F1FF3F 		cmp	r0, #-1
 5837 018e 3FF470AF 		beq	.L452
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5838              		.loc 1 2698 55 is_stmt 1 discriminator 2 view .LVU1931
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5839              		.loc 1 2699 5 view .LVU1932
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5840              		.loc 1 2699 15 is_stmt 0 view .LVU1933
 5841 0192 C4F81404 		str	r0, [r4, #1044]
 5842              	.LVL653:
 5843              	.L426:
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5844              		.loc 1 2701 4 is_stmt 1 view .LVU1934
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5845              		.loc 1 2701 11 is_stmt 0 view .LVU1935
 5846 0196 D4F800B4 		ldr	fp, [r4, #1024]
 5847 019a D4F81414 		ldr	r1, [r4, #1044]
 5848 019e 5846     		mov	r0, fp
 5849 01a0 FFF7FEFF 		bl	clust2sect
 5850              	.LVL654:
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5851              		.loc 1 2702 4 is_stmt 1 view .LVU1936
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5852              		.loc 1 2702 7 is_stmt 0 view .LVU1937
 5853 01a4 8146     		mov	r9, r0
 5854 01a6 0028     		cmp	r0, #0
 5855 01a8 3FF46AAF 		beq	.L453
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5856              		.loc 1 2702 40 is_stmt 1 discriminator 2 view .LVU1938
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5857              		.loc 1 2703 4 view .LVU1939
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5858              		.loc 1 2703 9 is_stmt 0 view .LVU1940
 5859 01ac A944     		add	r9, r9, r5
 5860              	.LVL655:
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5861              		.loc 1 2704 4 is_stmt 1 view .LVU1941
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5862              		.loc 1 2704 15 is_stmt 0 view .LVU1942
ARM GAS  /tmp/ccc896J6.s 			page 177


 5863 01ae BBF80A34 		ldrh	r3, [fp, #1034]
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5864              		.loc 1 2704 7 view .LVU1943
 5865 01b2 B6FBF3FA 		udiv	r10, r6, r3
 5866              	.LVL656:
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5867              		.loc 1 2705 4 is_stmt 1 view .LVU1944
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5868              		.loc 1 2705 7 is_stmt 0 view .LVU1945
 5869 01b6 B342     		cmp	r3, r6
 5870 01b8 85D8     		bhi	.L433
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5871              		.loc 1 2706 5 is_stmt 1 view .LVU1946
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5872              		.loc 1 2706 15 is_stmt 0 view .LVU1947
 5873 01ba 05EB0A03 		add	r3, r5, r10
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5874              		.loc 1 2706 28 view .LVU1948
 5875 01be 9BF80224 		ldrb	r2, [fp, #1026]	@ zero_extendqisi2
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5876              		.loc 1 2706 8 view .LVU1949
 5877 01c2 9342     		cmp	r3, r2
 5878 01c4 01D9     		bls	.L434
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5879              		.loc 1 2707 6 is_stmt 1 view .LVU1950
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5880              		.loc 1 2707 25 is_stmt 0 view .LVU1951
 5881 01c6 A2EB050A 		sub	r10, r2, r5
 5882              	.LVL657:
 5883              	.L434:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5884              		.loc 1 2708 5 is_stmt 1 view .LVU1952
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5885              		.loc 1 2708 9 is_stmt 0 view .LVU1953
 5886 01ca 5346     		mov	r3, r10
 5887 01cc 4A46     		mov	r2, r9
 5888 01ce 3946     		mov	r1, r7
 5889 01d0 9BF80104 		ldrb	r0, [fp, #1025]	@ zero_extendqisi2
 5890 01d4 FFF7FEFF 		bl	disk_read
 5891              	.LVL658:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5892              		.loc 1 2708 8 discriminator 1 view .LVU1954
 5893 01d8 0028     		cmp	r0, #0
 5894 01da 3FF458AF 		beq	.L435
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5895              		.loc 1 2709 6 is_stmt 1 view .LVU1955
 5896 01de 4FF0010A 		mov	r10, #1
 5897              	.LVL659:
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5898              		.loc 1 2709 6 is_stmt 0 view .LVU1956
 5899 01e2 84F807A4 		strb	r10, [r4, #1031]
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5900              		.loc 1 2709 6 is_stmt 1 view .LVU1957
 5901 01e6 CDF804A0 		str	r10, [sp, #4]
 5902              	.LVL660:
 5903              	.L422:
2745:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 178


2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5904              		.loc 1 2749 1 is_stmt 0 view .LVU1958
 5905 01ea 0198     		ldr	r0, [sp, #4]
 5906 01ec 03B0     		add	sp, sp, #12
 5907              	.LCFI52:
 5908              		.cfi_remember_state
 5909              		.cfi_def_cfa_offset 36
 5910              		@ sp needed
 5911 01ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5912              	.LVL661:
 5913              	.L449:
 5914              	.LCFI53:
 5915              		.cfi_restore_state
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5916              		.loc 1 2727 7 is_stmt 1 view .LVU1959
 5917 01f2 4FF0010A 		mov	r10, #1
 5918              	.LVL662:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5919              		.loc 1 2727 7 is_stmt 0 view .LVU1960
 5920 01f6 84F807A4 		strb	r10, [r4, #1031]
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5921              		.loc 1 2727 7 is_stmt 1 view .LVU1961
 5922 01fa CDF804A0 		str	r10, [sp, #4]
 5923 01fe F4E7     		b	.L422
 5924              	.LVL663:
 5925              	.L450:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5926              		.loc 1 2732 6 view .LVU1962
 5927 0200 4FF0010A 		mov	r10, #1
 5928              	.LVL664:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5929              		.loc 1 2732 6 is_stmt 0 view .LVU1963
 5930 0204 84F807A4 		strb	r10, [r4, #1031]
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5931              		.loc 1 2732 6 is_stmt 1 view .LVU1964
 5932 0208 CDF804A0 		str	r10, [sp, #4]
 5933 020c EDE7     		b	.L422
 5934              	.LVL665:
 5935              	.L444:
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5936              		.loc 1 2678 3 is_stmt 0 view .LVU1965
 5937 020e 0723     		movs	r3, #7
 5938 0210 0193     		str	r3, [sp, #4]
 5939 0212 EAE7     		b	.L422
 5940              		.cfi_endproc
 5941              	.LFE101:
 5943              		.section	.text.f_write,"ax",%progbits
 5944              		.align	1
 5945              		.global	f_write
 5946              		.syntax unified
 5947              		.thumb
 5948              		.thumb_func
 5950              	f_write:
 5951              	.LVL666:
ARM GAS  /tmp/ccc896J6.s 			page 179


 5952              	.LFB102:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** 
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 
2754:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2755:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2756:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
2757:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 
2759:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void *buff,	/* Pointer to the data to be written */
2762:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
2764:Middlewares/Third_Party/FatFs/src/ff.c **** )
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5953              		.loc 1 2765 1 is_stmt 1 view -0
 5954              		.cfi_startproc
 5955              		@ args = 0, pretend = 0, frame = 8
 5956              		@ frame_needed = 0, uses_anonymous_args = 0
 5957              		.loc 1 2765 1 is_stmt 0 view .LVU1967
 5958 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5959              	.LCFI54:
 5960              		.cfi_def_cfa_offset 36
 5961              		.cfi_offset 4, -36
 5962              		.cfi_offset 5, -32
 5963              		.cfi_offset 6, -28
 5964              		.cfi_offset 7, -24
 5965              		.cfi_offset 8, -20
 5966              		.cfi_offset 9, -16
 5967              		.cfi_offset 10, -12
 5968              		.cfi_offset 11, -8
 5969              		.cfi_offset 14, -4
 5970 0004 83B0     		sub	sp, sp, #12
 5971              	.LCFI55:
 5972              		.cfi_def_cfa_offset 48
 5973 0006 0446     		mov	r4, r0
 5974 0008 0F46     		mov	r7, r1
 5975 000a 1546     		mov	r5, r2
 5976 000c 9846     		mov	r8, r3
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5977              		.loc 1 2766 2 is_stmt 1 view .LVU1968
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 5978              		.loc 1 2767 2 view .LVU1969
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc;
 5979              		.loc 1 2768 2 view .LVU1970
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 5980              		.loc 1 2769 2 view .LVU1971
 5981              	.LVL667:
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
 5982              		.loc 1 2770 2 view .LVU1972
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 5983              		.loc 1 2773 2 view .LVU1973
 5984              		.loc 1 2773 6 is_stmt 0 view .LVU1974
ARM GAS  /tmp/ccc896J6.s 			page 180


 5985 000e 0023     		movs	r3, #0
 5986              	.LVL668:
 5987              		.loc 1 2773 6 view .LVU1975
 5988 0010 C8F80030 		str	r3, [r8]
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity */
 5989              		.loc 1 2775 2 is_stmt 1 view .LVU1976
 5990              		.loc 1 2775 8 is_stmt 0 view .LVU1977
 5991 0014 FFF7FEFF 		bl	validate
 5992              	.LVL669:
2776:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5993              		.loc 1 2776 2 is_stmt 1 view .LVU1978
 5994              		.loc 1 2776 5 is_stmt 0 view .LVU1979
 5995 0018 0190     		str	r0, [sp, #4]
 5996 001a 0028     		cmp	r0, #0
 5997 001c 54D1     		bne	.L455
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)							/* Check error */
 5998              		.loc 1 2777 2 is_stmt 1 view .LVU1980
 5999              		.loc 1 2777 8 is_stmt 0 view .LVU1981
 6000 001e 94F80734 		ldrb	r3, [r4, #1031]	@ zero_extendqisi2
 6001 0022 0193     		str	r3, [sp, #4]
 6002              		.loc 1 2777 5 view .LVU1982
 6003 0024 002B     		cmp	r3, #0
 6004 0026 4FD1     		bne	.L455
2778:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2779:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE))				/* Check access mode */
 6005              		.loc 1 2779 2 is_stmt 1 view .LVU1983
 6006              		.loc 1 2779 10 is_stmt 0 view .LVU1984
 6007 0028 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 6008              		.loc 1 2779 5 view .LVU1985
 6009 002c 13F0020F 		tst	r3, #2
 6010 0030 00F01181 		beq	.L480
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2781:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6011              		.loc 1 2781 2 is_stmt 1 view .LVU1986
 6012              		.loc 1 2781 8 is_stmt 0 view .LVU1987
 6013 0034 D4F80834 		ldr	r3, [r4, #1032]
 6014              		.loc 1 2781 5 view .LVU1988
 6015 0038 EB42     		cmn	r3, r5
 6016 003a C0F0CB80 		bcc	.L477
 6017              		.loc 1 2781 37 discriminator 1 view .LVU1989
 6018 003e 0025     		movs	r5, #0
 6019              	.LVL670:
 6020              		.loc 1 2781 37 discriminator 1 view .LVU1990
 6021 0040 C8E0     		b	.L477
 6022              	.LVL671:
 6023              	.L460:
2782:Middlewares/Third_Party/FatFs/src/ff.c **** 
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
ARM GAS  /tmp/ccc896J6.s 			page 181


2792:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
2793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 6024              		.loc 1 2794 6 is_stmt 1 view .LVU1991
 6025              		.loc 1 2794 12 is_stmt 0 view .LVU1992
 6026 0042 D4F82434 		ldr	r3, [r4, #1060]
 6027              		.loc 1 2794 9 view .LVU1993
 6028 0046 002B     		cmp	r3, #0
 6029 0048 42D0     		beq	.L463
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6030              		.loc 1 2795 7 is_stmt 1 view .LVU1994
 6031              		.loc 1 2795 14 is_stmt 0 view .LVU1995
 6032 004a 2046     		mov	r0, r4
 6033 004c FFF7FEFF 		bl	clmt_clust
 6034              	.LVL672:
 6035 0050 0346     		mov	r3, r0
 6036              	.LVL673:
 6037              	.L462:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, fp->clust);	/* Follow or stretch cluster chain on the FAT */
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 6038              		.loc 1 2800 5 is_stmt 1 view .LVU1996
 6039              		.loc 1 2800 8 is_stmt 0 view .LVU1997
 6040 0052 002B     		cmp	r3, #0
 6041 0054 00F0F080 		beq	.L464
 6042              	.L461:
 6043              	.LVL674:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 6044              		.loc 1 2801 5 is_stmt 1 view .LVU1998
 6045              		.loc 1 2801 8 is_stmt 0 view .LVU1999
 6046 0058 012B     		cmp	r3, #1
 6047 005a 3FD0     		beq	.L484
 6048              		.loc 1 2801 45 is_stmt 1 discriminator 2 view .LVU2000
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6049              		.loc 1 2802 5 view .LVU2001
 6050              		.loc 1 2802 8 is_stmt 0 view .LVU2002
 6051 005c B3F1FF3F 		cmp	r3, #-1
 6052 0060 43D0     		beq	.L485
 6053              		.loc 1 2802 55 is_stmt 1 discriminator 2 view .LVU2003
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6054              		.loc 1 2803 5 view .LVU2004
 6055              		.loc 1 2803 15 is_stmt 0 view .LVU2005
 6056 0062 C4F81434 		str	r3, [r4, #1044]
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 6057              		.loc 1 2804 5 is_stmt 1 view .LVU2006
 6058              		.loc 1 2804 11 is_stmt 0 view .LVU2007
 6059 0066 D4F81024 		ldr	r2, [r4, #1040]
 6060              		.loc 1 2804 8 view .LVU2008
 6061 006a 0AB9     		cbnz	r2, .L459
 6062              		.loc 1 2804 26 is_stmt 1 discriminator 1 view .LVU2009
 6063              		.loc 1 2804 37 is_stmt 0 discriminator 1 view .LVU2010
 6064 006c C4F81034 		str	r3, [r4, #1040]
 6065              	.L459:
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
ARM GAS  /tmp/ccc896J6.s 			page 182


2807:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fs->winsect == fp->dsect && sync_window(fp->fs))	/* Write-back sector cache */
2808:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
2809:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
 6066              		.loc 1 2810 4 is_stmt 1 view .LVU2011
 6067              		.loc 1 2810 10 is_stmt 0 view .LVU2012
 6068 0070 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
 6069              		.loc 1 2810 7 view .LVU2013
 6070 0074 13F0400F 		tst	r3, #64
 6071 0078 3ED1     		bne	.L486
 6072              	.L467:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
 6073              		.loc 1 2816 4 is_stmt 1 view .LVU2014
 6074              		.loc 1 2816 11 is_stmt 0 view .LVU2015
 6075 007a D4F800B4 		ldr	fp, [r4, #1024]
 6076 007e D4F81414 		ldr	r1, [r4, #1044]
 6077 0082 5846     		mov	r0, fp
 6078 0084 FFF7FEFF 		bl	clust2sect
 6079              	.LVL675:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 6080              		.loc 1 2817 4 is_stmt 1 view .LVU2016
 6081              		.loc 1 2817 7 is_stmt 0 view .LVU2017
 6082 0088 8146     		mov	r9, r0
 6083 008a 0028     		cmp	r0, #0
 6084 008c 4DD0     		beq	.L487
 6085              		.loc 1 2817 40 is_stmt 1 discriminator 2 view .LVU2018
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6086              		.loc 1 2818 4 view .LVU2019
 6087              		.loc 1 2818 9 is_stmt 0 view .LVU2020
 6088 008e B144     		add	r9, r9, r6
 6089              	.LVL676:
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fp->fs);			/* When remaining bytes >= sector size, */
 6090              		.loc 1 2819 4 is_stmt 1 view .LVU2021
 6091              		.loc 1 2819 15 is_stmt 0 view .LVU2022
 6092 0090 BBF80A34 		ldrh	r3, [fp, #1034]
 6093              		.loc 1 2819 7 view .LVU2023
 6094 0094 B5FBF3FA 		udiv	r10, r5, r3
 6095              	.LVL677:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6096              		.loc 1 2820 4 is_stmt 1 view .LVU2024
 6097              		.loc 1 2820 7 is_stmt 0 view .LVU2025
 6098 0098 AB42     		cmp	r3, r5
 6099 009a 6AD8     		bhi	.L470
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 6100              		.loc 1 2821 5 is_stmt 1 view .LVU2026
 6101              		.loc 1 2821 15 is_stmt 0 view .LVU2027
 6102 009c 06EB0A03 		add	r3, r6, r10
 6103              		.loc 1 2821 28 view .LVU2028
 6104 00a0 9BF80224 		ldrb	r2, [fp, #1026]	@ zero_extendqisi2
 6105              		.loc 1 2821 8 view .LVU2029
 6106 00a4 9342     		cmp	r3, r2
 6107 00a6 01D9     		bls	.L471
ARM GAS  /tmp/ccc896J6.s 			page 183


2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6108              		.loc 1 2822 6 is_stmt 1 view .LVU2030
 6109              		.loc 1 2822 25 is_stmt 0 view .LVU2031
 6110 00a8 A2EB060A 		sub	r10, r2, r6
 6111              	.LVL678:
 6112              	.L471:
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 6113              		.loc 1 2823 5 is_stmt 1 view .LVU2032
 6114              		.loc 1 2823 9 is_stmt 0 view .LVU2033
 6115 00ac 5346     		mov	r3, r10
 6116 00ae 4A46     		mov	r2, r9
 6117 00b0 3946     		mov	r1, r7
 6118 00b2 9BF80104 		ldrb	r0, [fp, #1025]	@ zero_extendqisi2
 6119 00b6 FFF7FEFF 		bl	disk_write
 6120              	.LVL679:
 6121              		.loc 1 2823 8 discriminator 1 view .LVU2034
 6122 00ba E8B3     		cbz	r0, .L472
2824:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6123              		.loc 1 2824 6 is_stmt 1 view .LVU2035
 6124 00bc 4FF0010A 		mov	r10, #1
 6125              	.LVL680:
 6126              		.loc 1 2824 6 is_stmt 0 view .LVU2036
 6127 00c0 84F807A4 		strb	r10, [r4, #1031]
 6128              		.loc 1 2824 6 is_stmt 1 view .LVU2037
 6129 00c4 CDF804A0 		str	r10, [sp, #4]
 6130              	.LVL681:
 6131              	.L455:
2825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
2826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct 
2828:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->fs->win.d8, wbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), SS(fp->fs));
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fs->wflag = 0;
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2831:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
2835:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2837:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->fsize) {	/* Avoid silly cache filling at growing edge */
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fp->fs)) ABORT(fp->fs, FR_DISK_ERR);
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->winsect = sect;
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2846:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2852:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccc896J6.s 			page 184


2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
2857:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)	/* Move sector window */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->fs->win.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fs->wflag = 1;
2862:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr > fp->fsize) fp->fsize = fp->fptr;	/* Update file size if needed */
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6132              		.loc 1 2872 1 is_stmt 0 view .LVU2038
 6133 00c8 0198     		ldr	r0, [sp, #4]
 6134 00ca 03B0     		add	sp, sp, #12
 6135              	.LCFI56:
 6136              		.cfi_remember_state
 6137              		.cfi_def_cfa_offset 36
 6138              		@ sp needed
 6139 00cc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6140              	.LVL682:
 6141              	.L463:
 6142              	.LCFI57:
 6143              		.cfi_restore_state
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6144              		.loc 1 2798 7 is_stmt 1 view .LVU2039
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6145              		.loc 1 2798 14 is_stmt 0 view .LVU2040
 6146 00d0 D4F81414 		ldr	r1, [r4, #1044]
 6147 00d4 FFF7FEFF 		bl	create_chain
 6148              	.LVL683:
 6149 00d8 0346     		mov	r3, r0
 6150 00da BAE7     		b	.L462
 6151              	.L484:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6152              		.loc 1 2801 20 is_stmt 1 discriminator 1 view .LVU2041
 6153 00dc 4FF0020A 		mov	r10, #2
 6154 00e0 84F807A4 		strb	r10, [r4, #1031]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6155              		.loc 1 2801 20 view .LVU2042
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6156              		.loc 1 2801 20 is_stmt 0 discriminator 1 view .LVU2043
 6157 00e4 CDF804A0 		str	r10, [sp, #4]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6158              		.loc 1 2801 20 view .LVU2044
 6159 00e8 EEE7     		b	.L455
 6160              	.L485:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6161              		.loc 1 2802 29 is_stmt 1 discriminator 1 view .LVU2045
 6162 00ea 4FF0010A 		mov	r10, #1
 6163 00ee 84F807A4 		strb	r10, [r4, #1031]
ARM GAS  /tmp/ccc896J6.s 			page 185


2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6164              		.loc 1 2802 29 view .LVU2046
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6165              		.loc 1 2802 29 is_stmt 0 discriminator 1 view .LVU2047
 6166 00f2 CDF804A0 		str	r10, [sp, #4]
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6167              		.loc 1 2802 29 view .LVU2048
 6168 00f6 E7E7     		b	.L455
 6169              	.L486:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6170              		.loc 1 2811 5 is_stmt 1 view .LVU2049
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6171              		.loc 1 2811 22 is_stmt 0 view .LVU2050
 6172 00f8 D4F80004 		ldr	r0, [r4, #1024]
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6173              		.loc 1 2811 9 view .LVU2051
 6174 00fc 0123     		movs	r3, #1
 6175 00fe D4F81824 		ldr	r2, [r4, #1048]
 6176 0102 2146     		mov	r1, r4
 6177 0104 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 6178 0108 FFF7FEFF 		bl	disk_write
 6179              	.LVL684:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6180              		.loc 1 2811 8 discriminator 1 view .LVU2052
 6181 010c 30B9     		cbnz	r0, .L488
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6182              		.loc 1 2812 32 is_stmt 1 view .LVU2053
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6183              		.loc 1 2813 5 view .LVU2054
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6184              		.loc 1 2813 7 is_stmt 0 view .LVU2055
 6185 010e 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6186              		.loc 1 2813 14 view .LVU2056
 6187 0112 23F04003 		bic	r3, r3, #64
 6188 0116 84F80634 		strb	r3, [r4, #1030]
 6189 011a AEE7     		b	.L467
 6190              	.L488:
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6191              		.loc 1 2812 6 is_stmt 1 view .LVU2057
 6192 011c 4FF0010A 		mov	r10, #1
 6193 0120 84F807A4 		strb	r10, [r4, #1031]
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6194              		.loc 1 2812 6 view .LVU2058
 6195 0124 CDF804A0 		str	r10, [sp, #4]
 6196 0128 CEE7     		b	.L455
 6197              	.LVL685:
 6198              	.L487:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6199              		.loc 1 2817 15 discriminator 1 view .LVU2059
 6200 012a 4FF0020A 		mov	r10, #2
 6201 012e 84F807A4 		strb	r10, [r4, #1031]
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6202              		.loc 1 2817 15 view .LVU2060
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6203              		.loc 1 2817 15 is_stmt 0 discriminator 1 view .LVU2061
 6204 0132 CDF804A0 		str	r10, [sp, #4]
ARM GAS  /tmp/ccc896J6.s 			page 186


2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6205              		.loc 1 2817 15 view .LVU2062
 6206 0136 C7E7     		b	.L455
 6207              	.LVL686:
 6208              	.L472:
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6209              		.loc 1 2824 32 is_stmt 1 view .LVU2063
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6210              		.loc 1 2832 5 view .LVU2064
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6211              		.loc 1 2832 11 is_stmt 0 view .LVU2065
 6212 0138 D4F81834 		ldr	r3, [r4, #1048]
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6213              		.loc 1 2832 19 view .LVU2066
 6214 013c A3EB0903 		sub	r3, r3, r9
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6215              		.loc 1 2832 8 view .LVU2067
 6216 0140 5345     		cmp	r3, r10
 6217 0142 06D3     		bcc	.L489
 6218              	.L473:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6219              		.loc 1 2838 5 is_stmt 1 view .LVU2068
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6220              		.loc 1 2838 12 is_stmt 0 view .LVU2069
 6221 0144 D4F80034 		ldr	r3, [r4, #1024]
 6222 0148 B3F80A64 		ldrh	r6, [r3, #1034]
 6223              	.LVL687:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6224              		.loc 1 2838 10 view .LVU2070
 6225 014c 0AFB06F6 		mul	r6, r10, r6
 6226              	.LVL688:
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6227              		.loc 1 2839 5 is_stmt 1 view .LVU2071
 6228 0150 34E0     		b	.L474
 6229              	.LVL689:
 6230              	.L489:
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6231              		.loc 1 2833 6 view .LVU2072
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6232              		.loc 1 2833 56 is_stmt 0 view .LVU2073
 6233 0152 D4F80024 		ldr	r2, [r4, #1024]
 6234 0156 B2F80A24 		ldrh	r2, [r2, #1034]
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6235              		.loc 1 2833 6 view .LVU2074
 6236 015a 02FB0371 		mla	r1, r2, r3, r7
 6237 015e 2046     		mov	r0, r4
 6238 0160 FFF7FEFF 		bl	mem_cpy
 6239              	.LVL690:
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6240              		.loc 1 2834 6 is_stmt 1 view .LVU2075
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6241              		.loc 1 2834 8 is_stmt 0 view .LVU2076
 6242 0164 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6243              		.loc 1 2834 15 view .LVU2077
 6244 0168 23F04003 		bic	r3, r3, #64
 6245 016c 84F80634 		strb	r3, [r4, #1030]
ARM GAS  /tmp/ccc896J6.s 			page 187


 6246 0170 E8E7     		b	.L473
 6247              	.L470:
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6248              		.loc 1 2847 4 is_stmt 1 view .LVU2078
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6249              		.loc 1 2847 10 is_stmt 0 view .LVU2079
 6250 0172 D4F81834 		ldr	r3, [r4, #1048]
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6251              		.loc 1 2847 7 view .LVU2080
 6252 0176 4B45     		cmp	r3, r9
 6253 0178 05D0     		beq	.L475
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6254              		.loc 1 2848 5 is_stmt 1 view .LVU2081
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6255              		.loc 1 2848 11 is_stmt 0 view .LVU2082
 6256 017a D4F80824 		ldr	r2, [r4, #1032]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6257              		.loc 1 2848 22 view .LVU2083
 6258 017e D4F80C34 		ldr	r3, [r4, #1036]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6259              		.loc 1 2848 8 view .LVU2084
 6260 0182 9A42     		cmp	r2, r3
 6261 0184 48D3     		bcc	.L490
 6262              	.L475:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6263              		.loc 1 2850 33 is_stmt 1 view .LVU2085
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6264              		.loc 1 2853 4 view .LVU2086
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6265              		.loc 1 2853 14 is_stmt 0 view .LVU2087
 6266 0186 C4F81894 		str	r9, [r4, #1048]
 6267              	.LVL691:
 6268              	.L458:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6269              		.loc 1 2855 3 is_stmt 1 view .LVU2088
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6270              		.loc 1 2855 10 is_stmt 0 view .LVU2089
 6271 018a D4F80034 		ldr	r3, [r4, #1024]
 6272 018e B3F80A64 		ldrh	r6, [r3, #1034]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6273              		.loc 1 2855 32 view .LVU2090
 6274 0192 D4F80804 		ldr	r0, [r4, #1032]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6275              		.loc 1 2855 39 view .LVU2091
 6276 0196 B0FBF6F3 		udiv	r3, r0, r6
 6277 019a 06FB1300 		mls	r0, r6, r3, r0
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6278              		.loc 1 2855 8 view .LVU2092
 6279 019e 361A     		subs	r6, r6, r0
 6280              	.LVL692:
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6281              		.loc 1 2856 3 is_stmt 1 view .LVU2093
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6282              		.loc 1 2856 6 is_stmt 0 view .LVU2094
 6283 01a0 B542     		cmp	r5, r6
 6284 01a2 00D2     		bcs	.L476
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
ARM GAS  /tmp/ccc896J6.s 			page 188


 6285              		.loc 1 2856 24 discriminator 1 view .LVU2095
 6286 01a4 2E46     		mov	r6, r5
 6287              	.LVL693:
 6288              	.L476:
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
 6289              		.loc 1 2863 3 is_stmt 1 view .LVU2096
 6290 01a6 3246     		mov	r2, r6
 6291 01a8 3946     		mov	r1, r7
 6292 01aa 2044     		add	r0, r0, r4
 6293 01ac FFF7FEFF 		bl	mem_cpy
 6294              	.LVL694:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6295              		.loc 1 2864 3 view .LVU2097
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6296              		.loc 1 2864 5 is_stmt 0 view .LVU2098
 6297 01b0 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6298              		.loc 1 2864 12 view .LVU2099
 6299 01b4 43F04003 		orr	r3, r3, #64
 6300 01b8 84F80634 		strb	r3, [r4, #1030]
 6301              	.L474:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6302              		.loc 1 2784 47 is_stmt 1 view .LVU2100
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6303              		.loc 1 2784 9 is_stmt 0 view .LVU2101
 6304 01bc 3744     		add	r7, r7, r6
 6305              	.LVL695:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6306              		.loc 1 2784 20 view .LVU2102
 6307 01be D4F80834 		ldr	r3, [r4, #1032]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6308              		.loc 1 2784 27 view .LVU2103
 6309 01c2 3344     		add	r3, r3, r6
 6310 01c4 C4F80834 		str	r3, [r4, #1032]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6311              		.loc 1 2784 36 view .LVU2104
 6312 01c8 D8F80030 		ldr	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6313              		.loc 1 2784 40 view .LVU2105
 6314 01cc 3344     		add	r3, r3, r6
 6315 01ce C8F80030 		str	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6316              		.loc 1 2784 53 view .LVU2106
 6317 01d2 AD1B     		subs	r5, r5, r6
 6318              	.LVL696:
 6319              	.L477:
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6320              		.loc 1 2783 11 is_stmt 1 view .LVU2107
 6321 01d4 85B3     		cbz	r5, .L464
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6322              		.loc 1 2785 3 view .LVU2108
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6323              		.loc 1 2785 10 is_stmt 0 view .LVU2109
 6324 01d6 D4F80814 		ldr	r1, [r4, #1032]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6325              		.loc 1 2785 19 view .LVU2110
 6326 01da D4F80004 		ldr	r0, [r4, #1024]
ARM GAS  /tmp/ccc896J6.s 			page 189


 6327 01de B0F80A64 		ldrh	r6, [r0, #1034]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6328              		.loc 1 2785 17 view .LVU2111
 6329 01e2 B1FBF6F3 		udiv	r3, r1, r6
 6330 01e6 06FB1313 		mls	r3, r6, r3, r1
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6331              		.loc 1 2785 6 view .LVU2112
 6332 01ea 002B     		cmp	r3, #0
 6333 01ec CDD1     		bne	.L458
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6334              		.loc 1 2786 4 is_stmt 1 view .LVU2113
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6335              		.loc 1 2786 28 is_stmt 0 view .LVU2114
 6336 01ee B1FBF6F6 		udiv	r6, r1, r6
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6337              		.loc 1 2786 50 view .LVU2115
 6338 01f2 90F80234 		ldrb	r3, [r0, #1026]	@ zero_extendqisi2
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6339              		.loc 1 2786 58 view .LVU2116
 6340 01f6 013B     		subs	r3, r3, #1
 6341 01f8 DBB2     		uxtb	r3, r3
 6342              	.LVL697:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6343              		.loc 1 2787 4 is_stmt 1 view .LVU2117
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6344              		.loc 1 2787 7 is_stmt 0 view .LVU2118
 6345 01fa 1E40     		ands	r6, r6, r3
 6346              	.LVL698:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6347              		.loc 1 2787 7 view .LVU2119
 6348 01fc 7FF438AF 		bne	.L459
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6349              		.loc 1 2788 5 is_stmt 1 view .LVU2120
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6350              		.loc 1 2788 8 is_stmt 0 view .LVU2121
 6351 0200 0029     		cmp	r1, #0
 6352 0202 7FF41EAF 		bne	.L460
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6353              		.loc 1 2789 6 is_stmt 1 view .LVU2122
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6354              		.loc 1 2789 11 is_stmt 0 view .LVU2123
 6355 0206 D4F81034 		ldr	r3, [r4, #1040]
 6356              	.LVL699:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6357              		.loc 1 2790 6 is_stmt 1 view .LVU2124
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6358              		.loc 1 2790 9 is_stmt 0 view .LVU2125
 6359 020a 002B     		cmp	r3, #0
 6360 020c 7FF424AF 		bne	.L461
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6361              		.loc 1 2791 7 is_stmt 1 view .LVU2126
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6362              		.loc 1 2791 14 is_stmt 0 view .LVU2127
 6363 0210 FFF7FEFF 		bl	create_chain
 6364              	.LVL700:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6365              		.loc 1 2791 14 view .LVU2128
ARM GAS  /tmp/ccc896J6.s 			page 190


 6366 0214 0346     		mov	r3, r0
 6367              	.LVL701:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6368              		.loc 1 2791 14 view .LVU2129
 6369 0216 1CE7     		b	.L462
 6370              	.LVL702:
 6371              	.L490:
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6372              		.loc 1 2849 6 view .LVU2130
 6373 0218 0123     		movs	r3, #1
 6374 021a 4A46     		mov	r2, r9
 6375 021c 2146     		mov	r1, r4
 6376 021e 9BF80104 		ldrb	r0, [fp, #1025]	@ zero_extendqisi2
 6377 0222 FFF7FEFF 		bl	disk_read
 6378              	.LVL703:
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6379              		.loc 1 2848 30 discriminator 1 view .LVU2131
 6380 0226 0028     		cmp	r0, #0
 6381 0228 ADD0     		beq	.L475
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6382              		.loc 1 2850 7 is_stmt 1 view .LVU2132
 6383 022a 4FF0010A 		mov	r10, #1
 6384              	.LVL704:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6385              		.loc 1 2850 7 is_stmt 0 view .LVU2133
 6386 022e 84F807A4 		strb	r10, [r4, #1031]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6387              		.loc 1 2850 7 is_stmt 1 view .LVU2134
 6388 0232 CDF804A0 		str	r10, [sp, #4]
 6389 0236 47E7     		b	.L455
 6390              	.LVL705:
 6391              	.L464:
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6392              		.loc 1 2868 2 view .LVU2135
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6393              		.loc 1 2868 8 is_stmt 0 view .LVU2136
 6394 0238 D4F80834 		ldr	r3, [r4, #1032]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6395              		.loc 1 2868 19 view .LVU2137
 6396 023c D4F80C24 		ldr	r2, [r4, #1036]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6397              		.loc 1 2868 5 view .LVU2138
 6398 0240 9342     		cmp	r3, r2
 6399 0242 01D9     		bls	.L479
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6400              		.loc 1 2868 28 is_stmt 1 discriminator 1 view .LVU2139
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6401              		.loc 1 2868 38 is_stmt 0 discriminator 1 view .LVU2140
 6402 0244 C4F80C34 		str	r3, [r4, #1036]
 6403              	.L479:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6404              		.loc 1 2869 2 is_stmt 1 view .LVU2141
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6405              		.loc 1 2869 4 is_stmt 0 view .LVU2142
 6406 0248 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6407              		.loc 1 2869 11 view .LVU2143
ARM GAS  /tmp/ccc896J6.s 			page 191


 6408 024c 43F02003 		orr	r3, r3, #32
 6409 0250 84F80634 		strb	r3, [r4, #1030]
2871:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6410              		.loc 1 2871 2 is_stmt 1 view .LVU2144
 6411 0254 38E7     		b	.L455
 6412              	.LVL706:
 6413              	.L480:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6414              		.loc 1 2780 3 is_stmt 0 view .LVU2145
 6415 0256 0723     		movs	r3, #7
 6416 0258 0193     		str	r3, [sp, #4]
 6417 025a 35E7     		b	.L455
 6418              		.cfi_endproc
 6419              	.LFE102:
 6421              		.section	.text.putc_bfd,"ax",%progbits
 6422              		.align	1
 6423              		.syntax unified
 6424              		.thumb
 6425              		.thumb_func
 6427              	putc_bfd:
 6428              	.LVL707:
 6429              	.LFB119:
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 
2877:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2878:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 
2881:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** )
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
2894:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2901:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
ARM GAS  /tmp/ccc896J6.s 			page 192


2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2916:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 
2921:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 
2926:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2927:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
2928:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 
2930:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp		/* Pointer to the file object to be closed */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** )
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 
2937:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
2940:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2944:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2945:Middlewares/Third_Party/FatFs/src/ff.c **** 			FATFS *fs = fp->fs;
2946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
2954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** 
2961:Middlewares/Third_Party/FatFs/src/ff.c **** 
2962:Middlewares/Third_Party/FatFs/src/ff.c **** 
2963:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2964:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
ARM GAS  /tmp/ccc896J6.s 			page 193


2965:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 
2967:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
2968:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
2969:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** )
2972:Middlewares/Third_Party/FatFs/src/ff.c **** {
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 
2979:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 
2981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
2983:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
2988:Middlewares/Third_Party/FatFs/src/ff.c **** )
2989:Middlewares/Third_Party/FatFs/src/ff.c **** {
2990:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2992:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2993:Middlewares/Third_Party/FatFs/src/ff.c **** 
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dj.dir) {
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->cdir = dj.sclust;	/* Start directory itself */
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.dir[DIR_Attr] & AM_DIR)	/* Reached to the directory */
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->cdir = ld_clust(dj.fs, dj.dir);
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3015:Middlewares/Third_Party/FatFs/src/ff.c **** }
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 
3018:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3019:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
ARM GAS  /tmp/ccc896J6.s 			page 194


3022:Middlewares/Third_Party/FatFs/src/ff.c **** )
3023:Middlewares/Third_Party/FatFs/src/ff.c **** {
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, (const TCHAR**)&buff, 0);	/* Get current volume */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = dj.fs->cdir;			/* Start to follow upper directory from current directory */
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((ccl = dj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 1);			/* Get parent directory */
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3043:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 0);
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.sclust = ld_clust(dj.fs, dj.dir);	/* Goto parent directory */
3046:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 0);
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {							/* Find the entry links to the child directory */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_read(&dj, 0);
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ccl == ld_clust(dj.fs, dj.dir)) break;	/* Found the entry */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(&dj, 0);	
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3056:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfname = buff;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfsize = i;
3059:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = fno.fname;
3062:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*buff) tp = buff;
3064:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (n = 0; tp[n]; n++) ;
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < n + 3) {
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE; break;
3068:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (n) buff[--i] = tp[--n];
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 			buff[--i] = '/';
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3074:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3077:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
ARM GAS  /tmp/ccc896J6.s 			page 195


3079:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3091:Middlewares/Third_Party/FatFs/src/ff.c **** }
3092:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 
3097:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3098:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3099:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3100:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 
3102:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File pointer from top of file */
3105:Middlewares/Third_Party/FatFs/src/ff.c **** )
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 
3119:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
ARM GAS  /tmp/ccc896J6.s 			page 196


3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3157:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
3165:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
3166:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3169:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3172:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
3177:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 			) ofs = fp->fsize;
3181:Middlewares/Third_Party/FatFs/src/ff.c **** 
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
ARM GAS  /tmp/ccc896J6.s 			page 197


3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
3199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3202:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
3205:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3211:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3212:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
3219:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
3225:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
3229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
3235:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3236:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3242:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3248:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 198


3250:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
3252:Middlewares/Third_Party/FatFs/src/ff.c **** 
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** )
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
3283:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3299:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
3305:Middlewares/Third_Party/FatFs/src/ff.c **** 
3306:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  /tmp/ccc896J6.s 			page 199


3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
3308:Middlewares/Third_Party/FatFs/src/ff.c **** 
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 
3312:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3313:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
3314:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 
3316:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
3317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
3318:Middlewares/Third_Party/FatFs/src/ff.c **** )
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3325:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 		FATFS *fs = dp->fs;
3327:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3328:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 
3342:Middlewares/Third_Party/FatFs/src/ff.c **** 
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 
3344:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3345:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
3346:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 
3348:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
3350:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3351:Middlewares/Third_Party/FatFs/src/ff.c **** )
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
ARM GAS  /tmp/ccc896J6.s 			page 200


3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_BUF();
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dp->fs, res);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 
3385:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
3386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3387:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find next file                                                        */
3388:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3389:Middlewares/Third_Party/FatFs/src/ff.c **** 
3390:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** )
3394:Middlewares/Third_Party/FatFs/src/ff.c **** {
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
3401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fno->lfname && pattern_matching(dp->pat, fno->lfname, 0, 0)) break;	/* Test for LFN if exist 
3403:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;	/* Test for SFN */
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 
3408:Middlewares/Third_Party/FatFs/src/ff.c **** }
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 
3412:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3413:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find first file                                                       */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 
3416:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
ARM GAS  /tmp/ccc896J6.s 			page 201


3421:Middlewares/Third_Party/FatFs/src/ff.c **** )
3422:Middlewares/Third_Party/FatFs/src/ff.c **** {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
3427:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
3430:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3431:Middlewares/Third_Party/FatFs/src/ff.c **** }
3432:Middlewares/Third_Party/FatFs/src/ff.c **** 
3433:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 
3437:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
3438:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3439:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
3440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 
3442:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3445:Middlewares/Third_Party/FatFs/src/ff.c **** )
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
3469:Middlewares/Third_Party/FatFs/src/ff.c **** 
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 
3471:Middlewares/Third_Party/FatFs/src/ff.c **** 
3472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3474:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 
3477:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
ARM GAS  /tmp/ccc896J6.s 			page 202


3478:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
3481:Middlewares/Third_Party/FatFs/src/ff.c **** )
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 
3489:Middlewares/Third_Party/FatFs/src/ff.c **** 
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
3509:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fs->n_fatent;
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  /tmp/ccc896J6.s 			page 203


3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 
3540:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3541:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
3542:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 
3544:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
3545:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3546:Middlewares/Third_Party/FatFs/src/ff.c **** )
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
3568:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
3584:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccc896J6.s 			page 204


3592:Middlewares/Third_Party/FatFs/src/ff.c **** 
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 
3595:Middlewares/Third_Party/FatFs/src/ff.c **** 
3596:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3597:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File or Directory                                            */
3598:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
3602:Middlewares/Third_Party/FatFs/src/ff.c **** )
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3609:Middlewares/Third_Party/FatFs/src/ff.c **** 
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
3618:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
3620:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
3632:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == dj.fs->cdir) {		 		/* Is it the current directory? */
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3636:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3646:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccc896J6.s 			page 205


3649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
3661:Middlewares/Third_Party/FatFs/src/ff.c **** 
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 
3663:Middlewares/Third_Party/FatFs/src/ff.c **** 
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 
3665:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3666:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
3667:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3668:Middlewares/Third_Party/FatFs/src/ff.c **** 
3669:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
3671:Middlewares/Third_Party/FatFs/src/ff.c **** )
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3678:Middlewares/Third_Party/FatFs/src/ff.c **** 
3679:Middlewares/Third_Party/FatFs/src/ff.c **** 
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
ARM GAS  /tmp/ccc896J6.s 			page 206


3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3717:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3728:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3732:Middlewares/Third_Party/FatFs/src/ff.c **** 
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 
3739:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3740:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
3741:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 
3743:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
3747:Middlewares/Third_Party/FatFs/src/ff.c **** )
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3753:Middlewares/Third_Party/FatFs/src/ff.c **** 
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
ARM GAS  /tmp/ccc896J6.s 			page 207


3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 
3782:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3783:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename File/Directory                                                 */
3784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 
3786:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object to be renamed */
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** )
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number of the source object */
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
3808:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
ARM GAS  /tmp/ccc896J6.s 			page 208


3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3823:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
3845:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of critical section */
3847:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3848:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3850:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3853:Middlewares/Third_Party/FatFs/src/ff.c **** 
3854:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(djo.fs, res);
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 
3860:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3861:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
3862:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
3865:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
3866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
3867:Middlewares/Third_Party/FatFs/src/ff.c **** )
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
ARM GAS  /tmp/ccc896J6.s 			page 209


3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3887:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 
3896:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 
3899:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
3901:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
3902:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
3903:Middlewares/Third_Party/FatFs/src/ff.c **** 
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 
3907:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
3908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get volume label                                                      */
3910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 
3912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
3916:Middlewares/Third_Party/FatFs/src/ff.c **** )
3917:Middlewares/Third_Party/FatFs/src/ff.c **** {
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3920:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
3921:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3924:Middlewares/Third_Party/FatFs/src/ff.c **** 
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = 0;					/* Open root directory */
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccc896J6.s 			page 210


3934:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {			/* A volume label is exist */
3936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = j = 0;
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (i < 11) ? dj.dir[i++] : ' ';
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsDBCS1(w) && i < 11 && IsDBCS2(dj.dir[i]))
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = w << 8 | dj.dir[i++];
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j++] = ff_convert(w, 1);	/* OEM -> Unicode */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (j < 11);
3944:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(label, dj.dir, 11);
3946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				j = 11;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j] = 0;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!j) break;
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (label[--j] == ' ');
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {	/* No label, return nul string */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 				label[0] = 0;
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dj.fs, dj.fs->volbase);
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = dj.fs->fs_type == FS_FAT32 ? BS_VolID32 : BS_VolID;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = LD_DWORD(&dj.fs->win.d8[i]);
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3970:Middlewares/Third_Party/FatFs/src/ff.c **** }
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 
3972:Middlewares/Third_Party/FatFs/src/ff.c **** 
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 
3974:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3976:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set volume label                                                      */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 
3979:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
3981:Middlewares/Third_Party/FatFs/src/ff.c **** )
3982:Middlewares/Third_Party/FatFs/src/ff.c **** {
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE vn[11];
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, sl;
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 211


3991:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &label, 1);
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res) LEAVE_FF(dj.fs, res);
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create a volume label in directory form */
3996:Middlewares/Third_Party/FatFs/src/ff.c **** 	vn[0] = 0;
3997:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (sl = 0; label[sl]; sl++) ;				/* Get name length */
3998:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ; sl && label[sl - 1] == ' '; sl--) ;	/* Remove trailing spaces */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sl) {	/* Create volume label in directory form */
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = j = 0;
4001:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4002:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(label[i++]), 0);
4004:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (BYTE)label[i++];
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w))
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (j < 10 && i < sl && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
4014:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4017:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4018:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("\"*+,.:;<=>\?[]|\x7F", w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) /* Reject i
4020:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(dj.fs, FR_INVALID_NAME);
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x100) vn[j++] = (BYTE)(w >> 8);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 			vn[j++] = (BYTE)w;
4023:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i < sl);
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j < 11) vn[j++] = ' ';	/* Fill remaining name field */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (vn[0] == DDEM) LEAVE_FF(dj.fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.sclust = 0;					/* Open root directory */
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* A volume label is found */
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (vn[0]) {
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir, vn, 11);	/* Change the volume label name */
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dj.dir + DIR_WrtTime, tm);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[0] = DDEM;			/* Remove the volume label */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.fs->wflag = 1;
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(dj.fs);
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {					/* No volume label is found or error */
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (vn[0]) {				/* Create volume label as new */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry for volume label */
ARM GAS  /tmp/ccc896J6.s 			page 212


4048:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZ_DIRE);	/* Set volume label */
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dj.dir, vn, 11);
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.dir[DIR_Attr] = AM_VOL;
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 						tm = GET_FATTIME();
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 						ST_DWORD(dj.dir + DIR_WrtTime, tm);
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->wflag = 1;
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(dj.fs);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4059:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4060:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** }
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
4067:Middlewares/Third_Party/FatFs/src/ff.c **** 
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 
4070:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4071:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly (available on only tiny cfg)      */
4072:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD && _FS_TINY
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
4077:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
4079:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
4080:Middlewares/Third_Party/FatFs/src/ff.c **** )
4081:Middlewares/Third_Party/FatFs/src/ff.c **** {
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD remain, clst, sect;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);								/* Check validity of the object */
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)									/* Check error */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
4094:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ))						/* Check access mode */
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream becomes busy */
4101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {			/* On the sector boundary? */
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {							/* On the cluster boundary? */
ARM GAS  /tmp/ccc896J6.s 			page 213


4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust : get_fat(fp->fs, fp->clust);
4107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fp->fs, FR_INT_ERR);
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fp->fs, fp->clust);		/* Get current data sector */
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fp->fs, FR_INT_ERR);
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, sect) != FR_OK)		/* Move sector window */
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->dsect = sect;
4118:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - (WORD)(fp->fptr % SS(fp->fs));	/* Forward data from sector window */
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(&fp->fs->win.d8[(WORD)fp->fptr % SS(fp->fs)], rcnt);
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fp->fs, FR_INT_ERR);
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
4125:Middlewares/Third_Party/FatFs/src/ff.c **** }
4126:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 
4130:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
4131:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4132:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create file system on the logical drive                               */
4133:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4134:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_ROOTDIR	512		/* Number of root directory entries for FAT12/16 */
4135:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_FATS		1		/* Number of FATs (1 or 2) */
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 
4138:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
4139:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sfd,			/* Partitioning rule 0:FDISK, 1:SFD */
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT au				/* Size of allocation unit in unit of byte or sector */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** )
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD eb[2];
4156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4157:Middlewares/Third_Party/FatFs/src/ff.c **** 
4158:Middlewares/Third_Party/FatFs/src/ff.c **** 
4159:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
ARM GAS  /tmp/ccc896J6.s 			page 214


4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get disk statics */
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4173:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK || SS(fs) > _MAX_SS || SS(fs) < _MIN_SS)
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, fs->win.d8, 0, 1) != RES_OK) return FR_DISK_ERR;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!tbl[4]) return FR_MKFS_ABORTED;	/* No partition? */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = LD_DWORD(tbl + 8);	/* Volume start sector */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol = LD_DWORD(tbl + 12);	/* Volume size */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a partition in this function */
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-compute number of clusters and FAT sub-type */
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine offset and size of FAT structure */
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
4214:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
ARM GAS  /tmp/ccc896J6.s 			page 215


4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Align data start sector to erase block boundary (for flash memory media) */
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
4232:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
4234:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine number of clusters and final check of validity of the FAT sub-type */
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 
4242:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[4] = sys;
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to teh MBR */
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 		md = 0xF8;
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
4263:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
ARM GAS  /tmp/ccc896J6.s 			page 216


4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create BPB in the VBR */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fs->win.d8;							/* Clear sector */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
4296:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
4298:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize FAT area */
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	wsect = b_fat;
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < N_FATS; i++) {		/* Initialize each FAT copy */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
ARM GAS  /tmp/ccc896J6.s 			page 217


4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4348:Middlewares/Third_Party/FatFs/src/ff.c **** 
4349:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize root directory */
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 
4356:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM	/* Erase data area if needed */
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 		eb[0] = wsect; eb[1] = wsect + (n_clst - ((fmt == FS_FAT32) ? 1 : 0)) * au - 1;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, eb);
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4361:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create FSINFO if needed */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 
4379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
4380:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4381:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
4382:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4383:Middlewares/Third_Party/FatFs/src/ff.c **** 
4384:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
4385:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD szt[],	/* Pointer to the size table for each partitions */
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
4388:Middlewares/Third_Party/FatFs/src/ff.c **** )
4389:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccc896J6.s 			page 218


4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
4392:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine CHS in the table regardless of the drive geometry */
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
4421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x06;						/* System type (temporary setting) */
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 8, s_part);			/* Start sector in LBA */
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 12, sz_part);			/* Partition size */
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
4438:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(p, 0xAA55);
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
4443:Middlewares/Third_Party/FatFs/src/ff.c **** }
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 
4446:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
ARM GAS  /tmp/ccc896J6.s 			page 219


4447:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 
4452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
4453:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
4455:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 
4457:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** )
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
4470:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4471:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
4472:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4473:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4475:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence */
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence */
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4493:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
4497:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
4501:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
ARM GAS  /tmp/ccc896J6.s 			page 220


4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
4511:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
4512:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4513:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4517:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
4522:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 
4527:Middlewares/Third_Party/FatFs/src/ff.c **** 
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 
4530:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4531:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
4532:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4533:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
4534:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4535:Middlewares/Third_Party/FatFs/src/ff.c **** 
4536:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp;
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];
4540:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 
4543:Middlewares/Third_Party/FatFs/src/ff.c **** static
4544:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
4547:Middlewares/Third_Party/FatFs/src/ff.c **** )
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6430              		.loc 1 4548 1 is_stmt 1 view -0
 6431              		.cfi_startproc
 6432              		@ args = 0, pretend = 0, frame = 8
 6433              		@ frame_needed = 0, uses_anonymous_args = 0
 6434              		.loc 1 4548 1 is_stmt 0 view .LVU2147
 6435 0000 70B5     		push	{r4, r5, r6, lr}
 6436              	.LCFI58:
 6437              		.cfi_def_cfa_offset 16
 6438              		.cfi_offset 4, -16
 6439              		.cfi_offset 5, -12
 6440              		.cfi_offset 6, -8
 6441              		.cfi_offset 14, -4
ARM GAS  /tmp/ccc896J6.s 			page 221


 6442 0002 82B0     		sub	sp, sp, #8
 6443              	.LCFI59:
 6444              		.cfi_def_cfa_offset 24
 6445 0004 0446     		mov	r4, r0
 6446 0006 0D46     		mov	r5, r1
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6447              		.loc 1 4549 2 is_stmt 1 view .LVU2148
4550:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 6448              		.loc 1 4550 2 view .LVU2149
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n')	 /* LF -> CRLF conversion */
 6449              		.loc 1 4553 2 view .LVU2150
 6450              		.loc 1 4553 5 is_stmt 0 view .LVU2151
 6451 0008 0A29     		cmp	r1, #10
 6452 000a 0DD0     		beq	.L498
 6453              	.LVL708:
 6454              	.L492:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;	/* Buffer write index (-1:error) */
 6455              		.loc 1 4556 2 is_stmt 1 view .LVU2152
 6456              		.loc 1 4556 4 is_stmt 0 view .LVU2153
 6457 000c 6368     		ldr	r3, [r4, #4]
 6458              	.LVL709:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6459              		.loc 1 4557 2 is_stmt 1 view .LVU2154
 6460              		.loc 1 4557 5 is_stmt 0 view .LVU2155
 6461 000e 002B     		cmp	r3, #0
 6462 0010 08DB     		blt	.L491
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
4567:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
4576:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4578:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
4580:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 222


4585:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 6463              		.loc 1 4586 2 is_stmt 1 view .LVU2156
 6464              		.loc 1 4586 11 is_stmt 0 view .LVU2157
 6465 0012 5E1C     		adds	r6, r3, #1
 6466              	.LVL710:
 6467              		.loc 1 4586 15 view .LVU2158
 6468 0014 2344     		add	r3, r3, r4
 6469 0016 1D73     		strb	r5, [r3, #12]
4587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 6470              		.loc 1 4589 2 is_stmt 1 view .LVU2159
 6471              		.loc 1 4589 5 is_stmt 0 view .LVU2160
 6472 0018 3C2E     		cmp	r6, #60
 6473 001a 09DC     		bgt	.L499
 6474              	.LVL711:
 6475              	.L495:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 6476              		.loc 1 4593 2 is_stmt 1 view .LVU2161
 6477              		.loc 1 4593 10 is_stmt 0 view .LVU2162
 6478 001c 6660     		str	r6, [r4, #4]
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6479              		.loc 1 4594 2 is_stmt 1 view .LVU2163
 6480              		.loc 1 4594 4 is_stmt 0 view .LVU2164
 6481 001e A368     		ldr	r3, [r4, #8]
 6482              		.loc 1 4594 10 view .LVU2165
 6483 0020 0133     		adds	r3, r3, #1
 6484 0022 A360     		str	r3, [r4, #8]
 6485              	.LVL712:
 6486              	.L491:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6487              		.loc 1 4595 1 view .LVU2166
 6488 0024 02B0     		add	sp, sp, #8
 6489              	.LCFI60:
 6490              		.cfi_remember_state
 6491              		.cfi_def_cfa_offset 16
 6492              		@ sp needed
 6493 0026 70BD     		pop	{r4, r5, r6, pc}
 6494              	.LVL713:
 6495              	.L498:
 6496              	.LCFI61:
 6497              		.cfi_restore_state
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6498              		.loc 1 4554 3 is_stmt 1 view .LVU2167
 6499 0028 0D21     		movs	r1, #13
 6500              	.LVL714:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6501              		.loc 1 4554 3 is_stmt 0 view .LVU2168
 6502 002a FFF7E9FF 		bl	putc_bfd
 6503              	.LVL715:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6504              		.loc 1 4554 3 view .LVU2169
 6505 002e EDE7     		b	.L492
ARM GAS  /tmp/ccc896J6.s 			page 223


 6506              	.LVL716:
 6507              	.L499:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6508              		.loc 1 4590 3 is_stmt 1 view .LVU2170
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6509              		.loc 1 4590 21 is_stmt 0 view .LVU2171
 6510 0030 2146     		mov	r1, r4
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6511              		.loc 1 4590 3 view .LVU2172
 6512 0032 51F80C0B 		ldr	r0, [r1], #12
 6513 0036 01AB     		add	r3, sp, #4
 6514 0038 3246     		mov	r2, r6
 6515 003a FFF7FEFF 		bl	f_write
 6516              	.LVL717:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6517              		.loc 1 4591 3 is_stmt 1 view .LVU2173
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6518              		.loc 1 4591 11 is_stmt 0 view .LVU2174
 6519 003e 019B     		ldr	r3, [sp, #4]
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6520              		.loc 1 4591 27 view .LVU2175
 6521 0040 9E42     		cmp	r6, r3
 6522 0042 02D0     		beq	.L500
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6523              		.loc 1 4591 27 discriminator 2 view .LVU2176
 6524 0044 4FF0FF36 		mov	r6, #-1
 6525              	.LVL718:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6526              		.loc 1 4591 27 discriminator 2 view .LVU2177
 6527 0048 E8E7     		b	.L495
 6528              	.LVL719:
 6529              	.L500:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6530              		.loc 1 4591 27 discriminator 1 view .LVU2178
 6531 004a 0026     		movs	r6, #0
 6532              	.LVL720:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6533              		.loc 1 4591 27 discriminator 1 view .LVU2179
 6534 004c E6E7     		b	.L495
 6535              		.cfi_endproc
 6536              	.LFE119:
 6538              		.section	.text.f_sync,"ax",%progbits
 6539              		.align	1
 6540              		.global	f_sync
 6541              		.syntax unified
 6542              		.thumb
 6543              		.thumb_func
 6545              	f_sync:
 6546              	.LVL721:
 6547              	.LFB103:
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6548              		.loc 1 2884 1 is_stmt 1 view -0
 6549              		.cfi_startproc
 6550              		@ args = 0, pretend = 0, frame = 0
 6551              		@ frame_needed = 0, uses_anonymous_args = 0
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6552              		.loc 1 2884 1 is_stmt 0 view .LVU2181
ARM GAS  /tmp/ccc896J6.s 			page 224


 6553 0000 38B5     		push	{r3, r4, r5, lr}
 6554              	.LCFI62:
 6555              		.cfi_def_cfa_offset 16
 6556              		.cfi_offset 3, -16
 6557              		.cfi_offset 4, -12
 6558              		.cfi_offset 5, -8
 6559              		.cfi_offset 14, -4
 6560 0002 0446     		mov	r4, r0
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 6561              		.loc 1 2885 2 is_stmt 1 view .LVU2182
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 6562              		.loc 1 2886 2 view .LVU2183
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6563              		.loc 1 2887 2 view .LVU2184
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6564              		.loc 1 2890 2 view .LVU2185
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6565              		.loc 1 2890 8 is_stmt 0 view .LVU2186
 6566 0004 FFF7FEFF 		bl	validate
 6567              	.LVL722:
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6568              		.loc 1 2891 2 is_stmt 1 view .LVU2187
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6569              		.loc 1 2891 5 is_stmt 0 view .LVU2188
 6570 0008 00BB     		cbnz	r0, .L502
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6571              		.loc 1 2892 3 is_stmt 1 view .LVU2189
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6572              		.loc 1 2892 9 is_stmt 0 view .LVU2190
 6573 000a 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6574              		.loc 1 2892 6 view .LVU2191
 6575 000e 13F0200F 		tst	r3, #32
 6576 0012 1BD0     		beq	.L502
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6577              		.loc 1 2895 4 is_stmt 1 view .LVU2192
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6578              		.loc 1 2895 7 is_stmt 0 view .LVU2193
 6579 0014 13F0400F 		tst	r3, #64
 6580 0018 11D0     		beq	.L503
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6581              		.loc 1 2896 5 is_stmt 1 view .LVU2194
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6582              		.loc 1 2896 22 is_stmt 0 view .LVU2195
 6583 001a D4F80004 		ldr	r0, [r4, #1024]
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6584              		.loc 1 2896 9 view .LVU2196
 6585 001e 0123     		movs	r3, #1
 6586 0020 D4F81824 		ldr	r2, [r4, #1048]
 6587 0024 2146     		mov	r1, r4
 6588 0026 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 6589 002a FFF7FEFF 		bl	disk_write
 6590              	.LVL723:
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6591              		.loc 1 2896 8 discriminator 1 view .LVU2197
 6592 002e 0028     		cmp	r0, #0
 6593 0030 43D1     		bne	.L504
ARM GAS  /tmp/ccc896J6.s 			page 225


2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6594              		.loc 1 2898 5 is_stmt 1 view .LVU2198
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6595              		.loc 1 2898 7 is_stmt 0 view .LVU2199
 6596 0032 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6597              		.loc 1 2898 14 view .LVU2200
 6598 0036 23F04003 		bic	r3, r3, #64
 6599 003a 84F80634 		strb	r3, [r4, #1030]
 6600              	.L503:
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6601              		.loc 1 2902 4 is_stmt 1 view .LVU2201
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6602              		.loc 1 2902 10 is_stmt 0 view .LVU2202
 6603 003e D4F81C14 		ldr	r1, [r4, #1052]
 6604 0042 D4F80004 		ldr	r0, [r4, #1024]
 6605 0046 FFF7FEFF 		bl	move_window
 6606              	.LVL724:
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6607              		.loc 1 2903 4 is_stmt 1 view .LVU2203
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6608              		.loc 1 2903 7 is_stmt 0 view .LVU2204
 6609 004a 00B1     		cbz	r0, .L506
 6610              	.LVL725:
 6611              	.L502:
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6612              		.loc 1 2919 1 view .LVU2205
 6613 004c 38BD     		pop	{r3, r4, r5, pc}
 6614              	.LVL726:
 6615              	.L506:
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6616              		.loc 1 2904 5 is_stmt 1 view .LVU2206
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6617              		.loc 1 2904 9 is_stmt 0 view .LVU2207
 6618 004e D4F82054 		ldr	r5, [r4, #1056]
 6619              	.LVL727:
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6620              		.loc 1 2905 5 is_stmt 1 view .LVU2208
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6621              		.loc 1 2905 8 is_stmt 0 view .LVU2209
 6622 0052 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6623              		.loc 1 2905 19 view .LVU2210
 6624 0054 43F02003 		orr	r3, r3, #32
 6625 0058 EB72     		strb	r3, [r5, #11]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6626              		.loc 1 2906 5 is_stmt 1 view .LVU2211
 6627 005a 94F80C34 		ldrb	r3, [r4, #1036]	@ zero_extendqisi2
 6628 005e 2B77     		strb	r3, [r5, #28]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6629              		.loc 1 2906 5 view .LVU2212
 6630 0060 B4F80C34 		ldrh	r3, [r4, #1036]
 6631 0064 1B0A     		lsrs	r3, r3, #8
 6632 0066 6B77     		strb	r3, [r5, #29]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6633              		.loc 1 2906 5 view .LVU2213
 6634 0068 94F80E34 		ldrb	r3, [r4, #1038]	@ zero_extendqisi2
ARM GAS  /tmp/ccc896J6.s 			page 226


 6635 006c AB77     		strb	r3, [r5, #30]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6636              		.loc 1 2906 5 view .LVU2214
 6637 006e 94F80F34 		ldrb	r3, [r4, #1039]	@ zero_extendqisi2
 6638 0072 EB77     		strb	r3, [r5, #31]
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6639              		.loc 1 2907 5 view .LVU2215
 6640 0074 D4F81014 		ldr	r1, [r4, #1040]
 6641 0078 2846     		mov	r0, r5
 6642              	.LVL728:
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6643              		.loc 1 2907 5 is_stmt 0 view .LVU2216
 6644 007a FFF7FEFF 		bl	st_clust
 6645              	.LVL729:
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6646              		.loc 1 2908 5 is_stmt 1 view .LVU2217
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6647              		.loc 1 2908 10 is_stmt 0 view .LVU2218
 6648 007e FFF7FEFF 		bl	get_fattime
 6649              	.LVL730:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6650              		.loc 1 2909 5 is_stmt 1 view .LVU2219
 6651 0082 A875     		strb	r0, [r5, #22]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6652              		.loc 1 2909 5 view .LVU2220
 6653 0084 C0F30723 		ubfx	r3, r0, #8, #8
 6654 0088 EB75     		strb	r3, [r5, #23]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6655              		.loc 1 2909 5 view .LVU2221
 6656 008a C0F30743 		ubfx	r3, r0, #16, #8
 6657 008e 2B76     		strb	r3, [r5, #24]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6658              		.loc 1 2909 5 view .LVU2222
 6659 0090 000E     		lsrs	r0, r0, #24
 6660              	.LVL731:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6661              		.loc 1 2909 5 is_stmt 0 view .LVU2223
 6662 0092 6876     		strb	r0, [r5, #25]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6663              		.loc 1 2910 5 is_stmt 1 view .LVU2224
 6664 0094 0023     		movs	r3, #0
 6665 0096 AB74     		strb	r3, [r5, #18]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6666              		.loc 1 2910 5 view .LVU2225
 6667 0098 EB74     		strb	r3, [r5, #19]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6668              		.loc 1 2911 5 view .LVU2226
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6669              		.loc 1 2911 7 is_stmt 0 view .LVU2227
 6670 009a 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6671              		.loc 1 2911 14 view .LVU2228
 6672 009e 23F02003 		bic	r3, r3, #32
 6673 00a2 84F80634 		strb	r3, [r4, #1030]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6674              		.loc 1 2912 5 is_stmt 1 view .LVU2229
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
ARM GAS  /tmp/ccc896J6.s 			page 227


 6675              		.loc 1 2912 7 is_stmt 0 view .LVU2230
 6676 00a6 D4F80034 		ldr	r3, [r4, #1024]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6677              		.loc 1 2912 19 view .LVU2231
 6678 00aa 0122     		movs	r2, #1
 6679 00ac 83F80424 		strb	r2, [r3, #1028]
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6680              		.loc 1 2913 5 is_stmt 1 view .LVU2232
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6681              		.loc 1 2913 11 is_stmt 0 view .LVU2233
 6682 00b0 D4F80004 		ldr	r0, [r4, #1024]
 6683 00b4 FFF7FEFF 		bl	sync_fs
 6684              	.LVL732:
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6685              		.loc 1 2913 11 view .LVU2234
 6686 00b8 C8E7     		b	.L502
 6687              	.LVL733:
 6688              	.L504:
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6689              		.loc 1 2897 6 view .LVU2235
 6690 00ba 0120     		movs	r0, #1
 6691 00bc C6E7     		b	.L502
 6692              		.cfi_endproc
 6693              	.LFE103:
 6695              		.section	.text.f_close,"ax",%progbits
 6696              		.align	1
 6697              		.global	f_close
 6698              		.syntax unified
 6699              		.thumb
 6700              		.thumb_func
 6702              	f_close:
 6703              	.LVL734:
 6704              	.LFB104:
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6705              		.loc 1 2933 1 is_stmt 1 view -0
 6706              		.cfi_startproc
 6707              		@ args = 0, pretend = 0, frame = 0
 6708              		@ frame_needed = 0, uses_anonymous_args = 0
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6709              		.loc 1 2933 1 is_stmt 0 view .LVU2237
 6710 0000 10B5     		push	{r4, lr}
 6711              	.LCFI63:
 6712              		.cfi_def_cfa_offset 8
 6713              		.cfi_offset 4, -8
 6714              		.cfi_offset 14, -4
 6715 0002 0446     		mov	r4, r0
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6716              		.loc 1 2934 2 is_stmt 1 view .LVU2238
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6717              		.loc 1 2938 2 view .LVU2239
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6718              		.loc 1 2938 8 is_stmt 0 view .LVU2240
 6719 0004 FFF7FEFF 		bl	f_sync
 6720              	.LVL735:
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6721              		.loc 1 2939 2 is_stmt 1 view .LVU2241
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 228


 6722              		.loc 1 2939 5 is_stmt 0 view .LVU2242
 6723 0008 00B1     		cbz	r0, .L510
 6724              	.L508:
 6725              	.LVL736:
2957:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6726              		.loc 1 2957 2 is_stmt 1 view .LVU2243
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6727              		.loc 1 2958 1 is_stmt 0 view .LVU2244
 6728 000a 10BD     		pop	{r4, pc}
 6729              	.LVL737:
 6730              	.L510:
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6731              		.loc 1 2942 3 is_stmt 1 view .LVU2245
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6732              		.loc 1 2942 9 is_stmt 0 view .LVU2246
 6733 000c 2046     		mov	r0, r4
 6734 000e FFF7FEFF 		bl	validate
 6735              	.LVL738:
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6736              		.loc 1 2943 3 is_stmt 1 view .LVU2247
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6737              		.loc 1 2943 6 is_stmt 0 view .LVU2248
 6738 0012 0028     		cmp	r0, #0
 6739 0014 F9D1     		bne	.L508
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6740              		.loc 1 2948 4 is_stmt 1 view .LVU2249
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6741              		.loc 1 2948 10 is_stmt 0 view .LVU2250
 6742 0016 D4F82804 		ldr	r0, [r4, #1064]
 6743              	.LVL739:
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6744              		.loc 1 2948 10 view .LVU2251
 6745 001a FFF7FEFF 		bl	dec_lock
 6746              	.LVL740:
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6747              		.loc 1 2949 4 is_stmt 1 view .LVU2252
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6748              		.loc 1 2949 7 is_stmt 0 view .LVU2253
 6749 001e 0028     		cmp	r0, #0
 6750 0020 F3D1     		bne	.L508
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6751              		.loc 1 2951 5 is_stmt 1 view .LVU2254
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6752              		.loc 1 2951 12 is_stmt 0 view .LVU2255
 6753 0022 C4F80004 		str	r0, [r4, #1024]
 6754 0026 F0E7     		b	.L508
 6755              		.cfi_endproc
 6756              	.LFE104:
 6758              		.section	.text.f_lseek,"ax",%progbits
 6759              		.align	1
 6760              		.global	f_lseek
 6761              		.syntax unified
 6762              		.thumb
 6763              		.thumb_func
 6765              	f_lseek:
 6766              	.LVL741:
 6767              	.LFB105:
ARM GAS  /tmp/ccc896J6.s 			page 229


3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6768              		.loc 1 3106 1 is_stmt 1 view -0
 6769              		.cfi_startproc
 6770              		@ args = 0, pretend = 0, frame = 0
 6771              		@ frame_needed = 0, uses_anonymous_args = 0
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6772              		.loc 1 3106 1 is_stmt 0 view .LVU2257
 6773 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6774              	.LCFI64:
 6775              		.cfi_def_cfa_offset 40
 6776              		.cfi_offset 3, -40
 6777              		.cfi_offset 4, -36
 6778              		.cfi_offset 5, -32
 6779              		.cfi_offset 6, -28
 6780              		.cfi_offset 7, -24
 6781              		.cfi_offset 8, -20
 6782              		.cfi_offset 9, -16
 6783              		.cfi_offset 10, -12
 6784              		.cfi_offset 11, -8
 6785              		.cfi_offset 14, -4
 6786 0004 0446     		mov	r4, r0
 6787 0006 0D46     		mov	r5, r1
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
 6788              		.loc 1 3107 2 is_stmt 1 view .LVU2258
3108:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 6789              		.loc 1 3108 2 view .LVU2259
3110:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6790              		.loc 1 3110 2 view .LVU2260
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6791              		.loc 1 3114 2 view .LVU2261
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6792              		.loc 1 3114 8 is_stmt 0 view .LVU2262
 6793 0008 FFF7FEFF 		bl	validate
 6794              	.LVL742:
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6795              		.loc 1 3115 2 is_stmt 1 view .LVU2263
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6796              		.loc 1 3115 5 is_stmt 0 view .LVU2264
 6797 000c 0646     		mov	r6, r0
 6798 000e 0028     		cmp	r0, #0
 6799 0010 40F08981 		bne	.L512
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6800              		.loc 1 3116 2 is_stmt 1 view .LVU2265
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6801              		.loc 1 3116 8 is_stmt 0 view .LVU2266
 6802 0014 94F80734 		ldrb	r3, [r4, #1031]	@ zero_extendqisi2
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6803              		.loc 1 3116 5 view .LVU2267
 6804 0018 002B     		cmp	r3, #0
 6805 001a 40F08381 		bne	.L546
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6806              		.loc 1 3120 2 is_stmt 1 view .LVU2268
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6807              		.loc 1 3120 8 is_stmt 0 view .LVU2269
 6808 001e D4F82434 		ldr	r3, [r4, #1060]
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6809              		.loc 1 3120 5 view .LVU2270
ARM GAS  /tmp/ccc896J6.s 			page 230


 6810 0022 002B     		cmp	r3, #0
 6811 0024 00F0A080 		beq	.L513
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6812              		.loc 1 3121 3 is_stmt 1 view .LVU2271
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6813              		.loc 1 3121 6 is_stmt 0 view .LVU2272
 6814 0028 B5F1FF3F 		cmp	r5, #-1
 6815 002c 4ED0     		beq	.L554
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6816              		.loc 1 3147 4 is_stmt 1 view .LVU2273
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6817              		.loc 1 3147 16 is_stmt 0 view .LVU2274
 6818 002e D4F80C74 		ldr	r7, [r4, #1036]
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6819              		.loc 1 3147 7 view .LVU2275
 6820 0032 AF42     		cmp	r7, r5
 6821 0034 00D3     		bcc	.L521
 6822 0036 2F46     		mov	r7, r5
 6823              	.L521:
 6824              	.LVL743:
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6825              		.loc 1 3149 4 is_stmt 1 view .LVU2276
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6826              		.loc 1 3149 13 is_stmt 0 view .LVU2277
 6827 0038 C4F80874 		str	r7, [r4, #1032]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6828              		.loc 1 3150 4 is_stmt 1 view .LVU2278
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6829              		.loc 1 3150 7 is_stmt 0 view .LVU2279
 6830 003c 002F     		cmp	r7, #0
 6831 003e 00F07281 		beq	.L512
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6832              		.loc 1 3151 5 is_stmt 1 view .LVU2280
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6833              		.loc 1 3151 17 is_stmt 0 view .LVU2281
 6834 0042 7D1E     		subs	r5, r7, #1
 6835 0044 2946     		mov	r1, r5
 6836 0046 2046     		mov	r0, r4
 6837              	.LVL744:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6838              		.loc 1 3151 17 view .LVU2282
 6839 0048 FFF7FEFF 		bl	clmt_clust
 6840              	.LVL745:
 6841 004c 0146     		mov	r1, r0
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6842              		.loc 1 3151 15 discriminator 1 view .LVU2283
 6843 004e C4F81404 		str	r0, [r4, #1044]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6844              		.loc 1 3152 5 is_stmt 1 view .LVU2284
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6845              		.loc 1 3152 11 is_stmt 0 view .LVU2285
 6846 0052 D4F80084 		ldr	r8, [r4, #1024]
 6847 0056 4046     		mov	r0, r8
 6848 0058 FFF7FEFF 		bl	clust2sect
 6849              	.LVL746:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6850              		.loc 1 3153 5 is_stmt 1 view .LVU2286
ARM GAS  /tmp/ccc896J6.s 			page 231


3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6851              		.loc 1 3153 8 is_stmt 0 view .LVU2287
 6852 005c 0028     		cmp	r0, #0
 6853 005e 77D0     		beq	.L555
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6854              		.loc 1 3153 40 is_stmt 1 discriminator 2 view .LVU2288
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6855              		.loc 1 3154 5 view .LVU2289
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6856              		.loc 1 3154 24 is_stmt 0 view .LVU2290
 6857 0060 B8F80A34 		ldrh	r3, [r8, #1034]
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6858              		.loc 1 3154 22 view .LVU2291
 6859 0064 B5FBF3F5 		udiv	r5, r5, r3
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6860              		.loc 1 3154 44 view .LVU2292
 6861 0068 98F80224 		ldrb	r2, [r8, #1026]	@ zero_extendqisi2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6862              		.loc 1 3154 52 view .LVU2293
 6863 006c 013A     		subs	r2, r2, #1
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6864              		.loc 1 3154 35 view .LVU2294
 6865 006e 1540     		ands	r5, r5, r2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6866              		.loc 1 3154 9 view .LVU2295
 6867 0070 0544     		add	r5, r5, r0
 6868              	.LVL747:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6869              		.loc 1 3155 5 is_stmt 1 view .LVU2296
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6870              		.loc 1 3155 18 is_stmt 0 view .LVU2297
 6871 0072 B7FBF3F2 		udiv	r2, r7, r3
 6872 0076 03FB1277 		mls	r7, r3, r2, r7
 6873              	.LVL748:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6874              		.loc 1 3155 8 view .LVU2298
 6875 007a 002F     		cmp	r7, #0
 6876 007c 00F05381 		beq	.L512
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6877              		.loc 1 3155 43 discriminator 1 view .LVU2299
 6878 0080 D4F81824 		ldr	r2, [r4, #1048]
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6879              		.loc 1 3155 31 discriminator 1 view .LVU2300
 6880 0084 AA42     		cmp	r2, r5
 6881 0086 00F04E81 		beq	.L512
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6882              		.loc 1 3158 6 is_stmt 1 view .LVU2301
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6883              		.loc 1 3158 12 is_stmt 0 view .LVU2302
 6884 008a 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6885              		.loc 1 3158 9 view .LVU2303
 6886 008e 13F0400F 		tst	r3, #64
 6887 0092 0DD0     		beq	.L523
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6888              		.loc 1 3159 7 is_stmt 1 view .LVU2304
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/ccc896J6.s 			page 232


 6889              		.loc 1 3159 11 is_stmt 0 view .LVU2305
 6890 0094 0123     		movs	r3, #1
 6891 0096 2146     		mov	r1, r4
 6892 0098 98F80104 		ldrb	r0, [r8, #1025]	@ zero_extendqisi2
 6893 009c FFF7FEFF 		bl	disk_write
 6894              	.LVL749:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6895              		.loc 1 3159 10 discriminator 1 view .LVU2306
 6896 00a0 0028     		cmp	r0, #0
 6897 00a2 59D1     		bne	.L556
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6898              		.loc 1 3160 34 is_stmt 1 view .LVU2307
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6899              		.loc 1 3161 7 view .LVU2308
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6900              		.loc 1 3161 9 is_stmt 0 view .LVU2309
 6901 00a4 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6902              		.loc 1 3161 16 view .LVU2310
 6903 00a8 23F04003 		bic	r3, r3, #64
 6904 00ac 84F80634 		strb	r3, [r4, #1030]
 6905              	.L523:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6906              		.loc 1 3164 6 is_stmt 1 view .LVU2311
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6907              		.loc 1 3164 22 is_stmt 0 view .LVU2312
 6908 00b0 D4F80004 		ldr	r0, [r4, #1024]
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6909              		.loc 1 3164 10 view .LVU2313
 6910 00b4 0123     		movs	r3, #1
 6911 00b6 2A46     		mov	r2, r5
 6912 00b8 2146     		mov	r1, r4
 6913 00ba 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 6914 00be FFF7FEFF 		bl	disk_read
 6915              	.LVL750:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6916              		.loc 1 3164 9 discriminator 1 view .LVU2314
 6917 00c2 0028     		cmp	r0, #0
 6918 00c4 4CD1     		bne	.L557
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6919              		.loc 1 3165 33 is_stmt 1 view .LVU2315
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6920              		.loc 1 3167 6 view .LVU2316
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6921              		.loc 1 3167 16 is_stmt 0 view .LVU2317
 6922 00c6 C4F81854 		str	r5, [r4, #1048]
 6923 00ca 2CE1     		b	.L512
 6924              	.LVL751:
 6925              	.L554:
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 6926              		.loc 1 3122 4 is_stmt 1 view .LVU2318
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6927              		.loc 1 3123 4 view .LVU2319
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6928              		.loc 1 3123 15 is_stmt 0 view .LVU2320
 6929 00cc 9846     		mov	r8, r3
 6930              	.LVL752:
ARM GAS  /tmp/ccc896J6.s 			page 233


3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6931              		.loc 1 3123 9 view .LVU2321
 6932 00ce 58F804BB 		ldr	fp, [r8], #4
 6933              	.LVL753:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6934              		.loc 1 3123 19 is_stmt 1 view .LVU2322
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6935              		.loc 1 3124 4 view .LVU2323
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6936              		.loc 1 3124 7 is_stmt 0 view .LVU2324
 6937 00d2 D4F810A4 		ldr	r10, [r4, #1040]
 6938              	.LVL754:
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6939              		.loc 1 3125 4 is_stmt 1 view .LVU2325
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6940              		.loc 1 3125 7 is_stmt 0 view .LVU2326
 6941 00d6 BAF1000F 		cmp	r10, #0
 6942 00da 2CD0     		beq	.L547
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6943              		.loc 1 3123 24 view .LVU2327
 6944 00dc 4FF00209 		mov	r9, #2
 6945              	.LVL755:
 6946              	.L520:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 6947              		.loc 1 3126 5 is_stmt 1 view .LVU2328
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6948              		.loc 1 3128 6 view .LVU2329
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6949              		.loc 1 3128 16 view .LVU2330
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6950              		.loc 1 3128 25 view .LVU2331
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6951              		.loc 1 3128 30 is_stmt 0 view .LVU2332
 6952 00e0 09F10209 		add	r9, r9, #2
 6953              	.LVL756:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6954              		.loc 1 3128 30 view .LVU2333
 6955 00e4 5146     		mov	r1, r10
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6956              		.loc 1 3128 20 view .LVU2334
 6957 00e6 0027     		movs	r7, #0
 6958              	.LVL757:
 6959              	.L518:
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 6960              		.loc 1 3129 6 is_stmt 1 view .LVU2335
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6961              		.loc 1 3130 7 view .LVU2336
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6962              		.loc 1 3130 17 view .LVU2337
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6963              		.loc 1 3130 20 is_stmt 0 view .LVU2338
 6964 00e8 0137     		adds	r7, r7, #1
 6965              	.LVL758:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6966              		.loc 1 3131 7 is_stmt 1 view .LVU2339
 6967 00ea 0D46     		mov	r5, r1
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
ARM GAS  /tmp/ccc896J6.s 			page 234


 6968              		.loc 1 3131 12 is_stmt 0 view .LVU2340
 6969 00ec D4F80004 		ldr	r0, [r4, #1024]
 6970 00f0 FFF7FEFF 		bl	get_fat
 6971              	.LVL759:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6972              		.loc 1 3131 12 view .LVU2341
 6973 00f4 0146     		mov	r1, r0
 6974              	.LVL760:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6975              		.loc 1 3132 7 is_stmt 1 view .LVU2342
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6976              		.loc 1 3132 10 is_stmt 0 view .LVU2343
 6977 00f6 0128     		cmp	r0, #1
 6978 00f8 15D9     		bls	.L558
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6979              		.loc 1 3132 45 is_stmt 1 discriminator 2 view .LVU2344
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6980              		.loc 1 3133 7 view .LVU2345
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6981              		.loc 1 3133 10 is_stmt 0 view .LVU2346
 6982 00fa B0F1FF3F 		cmp	r0, #-1
 6983 00fe 16D0     		beq	.L559
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6984              		.loc 1 3133 55 is_stmt 1 discriminator 2 view .LVU2347
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6985              		.loc 1 3134 18 view .LVU2348
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6986              		.loc 1 3134 25 is_stmt 0 view .LVU2349
 6987 0100 0135     		adds	r5, r5, #1
 6988              	.LVL761:
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6989              		.loc 1 3134 18 view .LVU2350
 6990 0102 8542     		cmp	r5, r0
 6991 0104 F0D0     		beq	.L518
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6992              		.loc 1 3135 6 is_stmt 1 view .LVU2351
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6993              		.loc 1 3135 9 is_stmt 0 view .LVU2352
 6994 0106 CB45     		cmp	fp, r9
 6995 0108 05D3     		bcc	.L519
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6996              		.loc 1 3136 7 is_stmt 1 view .LVU2353
 6997              	.LVL762:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6998              		.loc 1 3136 14 is_stmt 0 view .LVU2354
 6999 010a 4346     		mov	r3, r8
 7000 010c 43F8087B 		str	r7, [r3], #8
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7001              		.loc 1 3136 21 is_stmt 1 view .LVU2355
 7002              	.LVL763:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7003              		.loc 1 3136 28 is_stmt 0 view .LVU2356
 7004 0110 C8F804A0 		str	r10, [r8, #4]
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7005              		.loc 1 3136 25 view .LVU2357
 7006 0114 9846     		mov	r8, r3
 7007              	.LVL764:
ARM GAS  /tmp/ccc896J6.s 			page 235


 7008              	.L519:
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7009              		.loc 1 3138 17 is_stmt 1 view .LVU2358
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7010              		.loc 1 3138 21 is_stmt 0 view .LVU2359
 7011 0116 D4F80034 		ldr	r3, [r4, #1024]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7012              		.loc 1 3138 25 view .LVU2360
 7013 011a D3F81434 		ldr	r3, [r3, #1044]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7014              		.loc 1 3138 17 view .LVU2361
 7015 011e 8B42     		cmp	r3, r1
 7016 0120 0BD9     		bls	.L515
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7017              		.loc 1 3131 12 view .LVU2362
 7018 0122 8A46     		mov	r10, r1
 7019              	.LVL765:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7020              		.loc 1 3131 12 view .LVU2363
 7021 0124 DCE7     		b	.L520
 7022              	.LVL766:
 7023              	.L558:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7024              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2364
 7025 0126 0226     		movs	r6, #2
 7026              	.LVL767:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7027              		.loc 1 3132 20 is_stmt 0 discriminator 1 view .LVU2365
 7028 0128 84F80764 		strb	r6, [r4, #1031]
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7029              		.loc 1 3132 20 is_stmt 1 view .LVU2366
 7030 012c FBE0     		b	.L512
 7031              	.LVL768:
 7032              	.L559:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7033              		.loc 1 3133 29 discriminator 1 view .LVU2367
 7034 012e 0126     		movs	r6, #1
 7035              	.LVL769:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7036              		.loc 1 3133 29 is_stmt 0 discriminator 1 view .LVU2368
 7037 0130 84F80764 		strb	r6, [r4, #1031]
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7038              		.loc 1 3133 29 is_stmt 1 view .LVU2369
 7039 0134 F7E0     		b	.L512
 7040              	.LVL770:
 7041              	.L547:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7042              		.loc 1 3123 24 is_stmt 0 view .LVU2370
 7043 0136 4FF00209 		mov	r9, #2
 7044              	.LVL771:
 7045              	.L515:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7046              		.loc 1 3140 4 is_stmt 1 view .LVU2371
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7047              		.loc 1 3140 7 is_stmt 0 view .LVU2372
 7048 013a D4F82434 		ldr	r3, [r4, #1060]
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
ARM GAS  /tmp/ccc896J6.s 			page 236


 7049              		.loc 1 3140 15 view .LVU2373
 7050 013e C3F80090 		str	r9, [r3]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7051              		.loc 1 3141 4 is_stmt 1 view .LVU2374
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7052              		.loc 1 3141 7 is_stmt 0 view .LVU2375
 7053 0142 D945     		cmp	r9, fp
 7054 0144 00F2F280 		bhi	.L549
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 7055              		.loc 1 3142 5 is_stmt 1 view .LVU2376
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 7056              		.loc 1 3142 10 is_stmt 0 view .LVU2377
 7057 0148 0023     		movs	r3, #0
 7058 014a C8F80030 		str	r3, [r8]
 7059 014e EAE0     		b	.L512
 7060              	.LVL772:
 7061              	.L555:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7062              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2378
 7063 0150 0226     		movs	r6, #2
 7064              	.LVL773:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7065              		.loc 1 3153 15 is_stmt 0 discriminator 1 view .LVU2379
 7066 0152 84F80764 		strb	r6, [r4, #1031]
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7067              		.loc 1 3153 15 is_stmt 1 view .LVU2380
 7068 0156 E6E0     		b	.L512
 7069              	.LVL774:
 7070              	.L556:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7071              		.loc 1 3160 8 view .LVU2381
 7072 0158 0126     		movs	r6, #1
 7073              	.LVL775:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7074              		.loc 1 3160 8 is_stmt 0 view .LVU2382
 7075 015a 84F80764 		strb	r6, [r4, #1031]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7076              		.loc 1 3160 8 is_stmt 1 view .LVU2383
 7077 015e E2E0     		b	.L512
 7078              	.LVL776:
 7079              	.L557:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7080              		.loc 1 3165 7 view .LVU2384
 7081 0160 0126     		movs	r6, #1
 7082              	.LVL777:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7083              		.loc 1 3165 7 is_stmt 0 view .LVU2385
 7084 0162 84F80764 		strb	r6, [r4, #1031]
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7085              		.loc 1 3165 7 is_stmt 1 view .LVU2386
 7086 0166 DEE0     		b	.L512
 7087              	.LVL778:
 7088              	.L513:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7089              		.loc 1 3176 3 view .LVU2387
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7090              		.loc 1 3176 15 is_stmt 0 view .LVU2388
ARM GAS  /tmp/ccc896J6.s 			page 237


 7091 0168 D4F80C34 		ldr	r3, [r4, #1036]
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7092              		.loc 1 3176 6 view .LVU2389
 7093 016c AB42     		cmp	r3, r5
 7094 016e 05D2     		bcs	.L526
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7095              		.loc 1 3178 12 view .LVU2390
 7096 0170 94F80624 		ldrb	r2, [r4, #1030]	@ zero_extendqisi2
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7097              		.loc 1 3178 5 view .LVU2391
 7098 0174 12F0020F 		tst	r2, #2
 7099 0178 00D1     		bne	.L526
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7100              		.loc 1 3180 10 view .LVU2392
 7101 017a 1D46     		mov	r5, r3
 7102              	.LVL779:
 7103              	.L526:
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7104              		.loc 1 3182 3 is_stmt 1 view .LVU2393
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7105              		.loc 1 3182 9 is_stmt 0 view .LVU2394
 7106 017c D4F80834 		ldr	r3, [r4, #1032]
 7107              	.LVL780:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7108              		.loc 1 3183 3 is_stmt 1 view .LVU2395
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7109              		.loc 1 3183 12 is_stmt 0 view .LVU2396
 7110 0180 0022     		movs	r2, #0
 7111 0182 C4F80824 		str	r2, [r4, #1032]
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 7112              		.loc 1 3184 3 is_stmt 1 view .LVU2397
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 7113              		.loc 1 3184 6 is_stmt 0 view .LVU2398
 7114 0186 1DB3     		cbz	r5, .L527
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7115              		.loc 1 3185 4 is_stmt 1 view .LVU2399
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7116              		.loc 1 3185 19 is_stmt 0 view .LVU2400
 7117 0188 D4F80004 		ldr	r0, [r4, #1024]
 7118              	.LVL781:
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7119              		.loc 1 3185 23 view .LVU2401
 7120 018c 90F80284 		ldrb	r8, [r0, #1026]	@ zero_extendqisi2
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7121              		.loc 1 3185 33 view .LVU2402
 7122 0190 B0F80A24 		ldrh	r2, [r0, #1034]
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7123              		.loc 1 3185 8 view .LVU2403
 7124 0194 02FB08F8 		mul	r8, r2, r8
 7125              	.LVL782:
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7126              		.loc 1 3186 4 is_stmt 1 view .LVU2404
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7127              		.loc 1 3186 7 is_stmt 0 view .LVU2405
 7128 0198 83B1     		cbz	r3, .L528
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7129              		.loc 1 3187 10 view .LVU2406
ARM GAS  /tmp/ccc896J6.s 			page 238


 7130 019a 6A1E     		subs	r2, r5, #1
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7131              		.loc 1 3187 15 view .LVU2407
 7132 019c B2FBF8F2 		udiv	r2, r2, r8
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7133              		.loc 1 3187 31 view .LVU2408
 7134 01a0 013B     		subs	r3, r3, #1
 7135              	.LVL783:
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7136              		.loc 1 3187 36 view .LVU2409
 7137 01a2 B3FBF8F1 		udiv	r1, r3, r8
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7138              		.loc 1 3186 18 discriminator 1 view .LVU2410
 7139 01a6 8A42     		cmp	r2, r1
 7140 01a8 08D3     		bcc	.L528
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7141              		.loc 1 3188 5 is_stmt 1 view .LVU2411
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7142              		.loc 1 3188 30 is_stmt 0 view .LVU2412
 7143 01aa C8F10002 		rsb	r2, r8, #0
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7144              		.loc 1 3188 28 view .LVU2413
 7145 01ae 1340     		ands	r3, r3, r2
 7146              	.LVL784:
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7147              		.loc 1 3188 14 view .LVU2414
 7148 01b0 C4F80834 		str	r3, [r4, #1032]
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7149              		.loc 1 3189 5 is_stmt 1 view .LVU2415
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7150              		.loc 1 3189 9 is_stmt 0 view .LVU2416
 7151 01b4 EF1A     		subs	r7, r5, r3
 7152              	.LVL785:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7153              		.loc 1 3190 5 is_stmt 1 view .LVU2417
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7154              		.loc 1 3190 10 is_stmt 0 view .LVU2418
 7155 01b6 D4F81454 		ldr	r5, [r4, #1044]
 7156              	.LVL786:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7157              		.loc 1 3190 10 view .LVU2419
 7158 01ba 07E0     		b	.L529
 7159              	.LVL787:
 7160              	.L528:
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7161              		.loc 1 3192 5 is_stmt 1 view .LVU2420
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7162              		.loc 1 3192 10 is_stmt 0 view .LVU2421
 7163 01bc D4F81034 		ldr	r3, [r4, #1040]
 7164              	.LVL788:
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7165              		.loc 1 3194 5 is_stmt 1 view .LVU2422
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7166              		.loc 1 3194 8 is_stmt 0 view .LVU2423
 7167 01c0 002B     		cmp	r3, #0
 7168 01c2 44D0     		beq	.L560
 7169              	.L530:
ARM GAS  /tmp/ccc896J6.s 			page 239


3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7170              		.loc 1 3201 5 is_stmt 1 view .LVU2424
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7171              		.loc 1 3201 15 is_stmt 0 view .LVU2425
 7172 01c4 C4F81434 		str	r3, [r4, #1044]
 7173 01c8 2F46     		mov	r7, r5
 7174 01ca 1D46     		mov	r5, r3
 7175              	.LVL789:
 7176              	.L529:
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7177              		.loc 1 3203 4 is_stmt 1 view .LVU2426
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7178              		.loc 1 3203 7 is_stmt 0 view .LVU2427
 7179 01cc 002D     		cmp	r5, #0
 7180 01ce 6CD1     		bne	.L533
 7181              	.LVL790:
 7182              	.L527:
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7183              		.loc 1 3228 3 is_stmt 1 view .LVU2428
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7184              		.loc 1 3228 9 is_stmt 0 view .LVU2429
 7185 01d0 D4F80834 		ldr	r3, [r4, #1032]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7186              		.loc 1 3228 18 view .LVU2430
 7187 01d4 D4F80004 		ldr	r0, [r4, #1024]
 7188 01d8 B0F80A24 		ldrh	r2, [r0, #1034]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7189              		.loc 1 3228 16 view .LVU2431
 7190 01dc B3FBF2F1 		udiv	r1, r3, r2
 7191 01e0 02FB1133 		mls	r3, r2, r1, r3
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7192              		.loc 1 3228 6 view .LVU2432
 7193 01e4 23B3     		cbz	r3, .L542
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7194              		.loc 1 3228 43 discriminator 1 view .LVU2433
 7195 01e6 D4F81824 		ldr	r2, [r4, #1048]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7196              		.loc 1 3228 29 discriminator 1 view .LVU2434
 7197 01ea AA42     		cmp	r2, r5
 7198 01ec 20D0     		beq	.L542
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7199              		.loc 1 3231 4 is_stmt 1 view .LVU2435
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7200              		.loc 1 3231 10 is_stmt 0 view .LVU2436
 7201 01ee 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7202              		.loc 1 3231 7 view .LVU2437
 7203 01f2 13F0400F 		tst	r3, #64
 7204 01f6 0ED0     		beq	.L543
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7205              		.loc 1 3232 5 is_stmt 1 view .LVU2438
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7206              		.loc 1 3232 9 is_stmt 0 view .LVU2439
 7207 01f8 0123     		movs	r3, #1
 7208 01fa 2146     		mov	r1, r4
 7209 01fc 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 7210 0200 FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/ccc896J6.s 			page 240


 7211              	.LVL791:
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7212              		.loc 1 3232 8 discriminator 1 view .LVU2440
 7213 0204 0028     		cmp	r0, #0
 7214 0206 40F08580 		bne	.L561
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7215              		.loc 1 3233 32 is_stmt 1 view .LVU2441
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7216              		.loc 1 3234 5 view .LVU2442
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7217              		.loc 1 3234 7 is_stmt 0 view .LVU2443
 7218 020a 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7219              		.loc 1 3234 14 view .LVU2444
 7220 020e 23F04003 		bic	r3, r3, #64
 7221 0212 84F80634 		strb	r3, [r4, #1030]
 7222              	.L543:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7223              		.loc 1 3237 4 is_stmt 1 view .LVU2445
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7224              		.loc 1 3237 20 is_stmt 0 view .LVU2446
 7225 0216 D4F80004 		ldr	r0, [r4, #1024]
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7226              		.loc 1 3237 8 view .LVU2447
 7227 021a 0123     		movs	r3, #1
 7228 021c 2A46     		mov	r2, r5
 7229 021e 2146     		mov	r1, r4
 7230 0220 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 7231 0224 FFF7FEFF 		bl	disk_read
 7232              	.LVL792:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7233              		.loc 1 3237 7 discriminator 1 view .LVU2448
 7234 0228 0028     		cmp	r0, #0
 7235 022a 77D1     		bne	.L562
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7236              		.loc 1 3238 31 is_stmt 1 view .LVU2449
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7237              		.loc 1 3240 4 view .LVU2450
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7238              		.loc 1 3240 14 is_stmt 0 view .LVU2451
 7239 022c C4F81854 		str	r5, [r4, #1048]
 7240              	.L542:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7241              		.loc 1 3243 3 is_stmt 1 view .LVU2452
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7242              		.loc 1 3243 9 is_stmt 0 view .LVU2453
 7243 0230 D4F80834 		ldr	r3, [r4, #1032]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7244              		.loc 1 3243 20 view .LVU2454
 7245 0234 D4F80C24 		ldr	r2, [r4, #1036]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7246              		.loc 1 3243 6 view .LVU2455
 7247 0238 9342     		cmp	r3, r2
 7248 023a 74D9     		bls	.L512
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7249              		.loc 1 3244 4 is_stmt 1 view .LVU2456
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
ARM GAS  /tmp/ccc896J6.s 			page 241


 7250              		.loc 1 3244 14 is_stmt 0 view .LVU2457
 7251 023c C4F80C34 		str	r3, [r4, #1036]
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7252              		.loc 1 3245 4 is_stmt 1 view .LVU2458
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7253              		.loc 1 3245 6 is_stmt 0 view .LVU2459
 7254 0240 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7255              		.loc 1 3245 13 view .LVU2460
 7256 0244 43F02003 		orr	r3, r3, #32
 7257 0248 84F80634 		strb	r3, [r4, #1030]
 7258 024c 6BE0     		b	.L512
 7259              	.LVL793:
 7260              	.L560:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7261              		.loc 1 3195 6 is_stmt 1 view .LVU2461
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7262              		.loc 1 3195 13 is_stmt 0 view .LVU2462
 7263 024e 0021     		movs	r1, #0
 7264 0250 FFF7FEFF 		bl	create_chain
 7265              	.LVL794:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7266              		.loc 1 3195 13 view .LVU2463
 7267 0254 0346     		mov	r3, r0
 7268              	.LVL795:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7269              		.loc 1 3196 6 is_stmt 1 view .LVU2464
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7270              		.loc 1 3196 9 is_stmt 0 view .LVU2465
 7271 0256 0128     		cmp	r0, #1
 7272 0258 05D0     		beq	.L563
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7273              		.loc 1 3196 46 is_stmt 1 discriminator 2 view .LVU2466
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7274              		.loc 1 3197 6 view .LVU2467
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7275              		.loc 1 3197 9 is_stmt 0 view .LVU2468
 7276 025a B0F1FF3F 		cmp	r0, #-1
 7277 025e 06D0     		beq	.L564
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7278              		.loc 1 3197 56 is_stmt 1 discriminator 2 view .LVU2469
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7279              		.loc 1 3198 6 view .LVU2470
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7280              		.loc 1 3198 17 is_stmt 0 view .LVU2471
 7281 0260 C4F81004 		str	r0, [r4, #1040]
 7282 0264 AEE7     		b	.L530
 7283              	.L563:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7284              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2472
 7285 0266 0226     		movs	r6, #2
 7286              	.LVL796:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7287              		.loc 1 3196 21 is_stmt 0 discriminator 1 view .LVU2473
 7288 0268 84F80764 		strb	r6, [r4, #1031]
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7289              		.loc 1 3196 21 is_stmt 1 view .LVU2474
ARM GAS  /tmp/ccc896J6.s 			page 242


 7290 026c 5BE0     		b	.L512
 7291              	.LVL797:
 7292              	.L564:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7293              		.loc 1 3197 30 discriminator 1 view .LVU2475
 7294 026e 0126     		movs	r6, #1
 7295              	.LVL798:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7296              		.loc 1 3197 30 is_stmt 0 discriminator 1 view .LVU2476
 7297 0270 84F80764 		strb	r6, [r4, #1031]
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7298              		.loc 1 3197 30 is_stmt 1 view .LVU2477
 7299 0274 57E0     		b	.L512
 7300              	.LVL799:
 7301              	.L534:
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7302              		.loc 1 3213 7 view .LVU2478
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7303              		.loc 1 3213 14 is_stmt 0 view .LVU2479
 7304 0276 2946     		mov	r1, r5
 7305 0278 D4F80004 		ldr	r0, [r4, #1024]
 7306 027c FFF7FEFF 		bl	get_fat
 7307              	.LVL800:
 7308 0280 0546     		mov	r5, r0
 7309              	.LVL801:
 7310              	.L536:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7311              		.loc 1 3214 6 is_stmt 1 view .LVU2480
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7312              		.loc 1 3214 9 is_stmt 0 view .LVU2481
 7313 0282 B5F1FF3F 		cmp	r5, #-1
 7314 0286 37D0     		beq	.L565
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7315              		.loc 1 3214 56 is_stmt 1 discriminator 2 view .LVU2482
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7316              		.loc 1 3215 6 view .LVU2483
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7317              		.loc 1 3215 9 is_stmt 0 view .LVU2484
 7318 0288 012D     		cmp	r5, #1
 7319 028a 39D9     		bls	.L538
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7320              		.loc 1 3215 33 discriminator 2 view .LVU2485
 7321 028c D4F80034 		ldr	r3, [r4, #1024]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7322              		.loc 1 3215 37 discriminator 2 view .LVU2486
 7323 0290 D3F81434 		ldr	r3, [r3, #1044]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7324              		.loc 1 3215 20 discriminator 2 view .LVU2487
 7325 0294 AB42     		cmp	r3, r5
 7326 0296 33D9     		bls	.L538
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7327              		.loc 1 3215 74 is_stmt 1 discriminator 4 view .LVU2488
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7328              		.loc 1 3216 6 view .LVU2489
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7329              		.loc 1 3216 16 is_stmt 0 view .LVU2490
 7330 0298 C4F81454 		str	r5, [r4, #1044]
ARM GAS  /tmp/ccc896J6.s 			page 243


3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7331              		.loc 1 3217 6 is_stmt 1 view .LVU2491
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7332              		.loc 1 3217 8 is_stmt 0 view .LVU2492
 7333 029c D4F80834 		ldr	r3, [r4, #1032]
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7334              		.loc 1 3217 15 view .LVU2493
 7335 02a0 4344     		add	r3, r3, r8
 7336 02a2 C4F80834 		str	r3, [r4, #1032]
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7337              		.loc 1 3218 6 is_stmt 1 view .LVU2494
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7338              		.loc 1 3218 10 is_stmt 0 view .LVU2495
 7339 02a6 A7EB0807 		sub	r7, r7, r8
 7340              	.LVL802:
 7341              	.L533:
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7342              		.loc 1 3204 16 is_stmt 1 view .LVU2496
 7343 02aa 4745     		cmp	r7, r8
 7344 02ac 0DD9     		bls	.L535
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7345              		.loc 1 3206 6 view .LVU2497
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7346              		.loc 1 3206 12 is_stmt 0 view .LVU2498
 7347 02ae 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7348              		.loc 1 3206 9 view .LVU2499
 7349 02b2 13F0020F 		tst	r3, #2
 7350 02b6 DED0     		beq	.L534
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7351              		.loc 1 3207 7 is_stmt 1 view .LVU2500
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7352              		.loc 1 3207 14 is_stmt 0 view .LVU2501
 7353 02b8 2946     		mov	r1, r5
 7354 02ba D4F80004 		ldr	r0, [r4, #1024]
 7355 02be FFF7FEFF 		bl	create_chain
 7356              	.LVL803:
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7357              		.loc 1 3208 7 is_stmt 1 view .LVU2502
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7358              		.loc 1 3208 10 is_stmt 0 view .LVU2503
 7359 02c2 0546     		mov	r5, r0
 7360 02c4 0028     		cmp	r0, #0
 7361 02c6 DCD1     		bne	.L536
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7362              		.loc 1 3209 12 view .LVU2504
 7363 02c8 4746     		mov	r7, r8
 7364              	.LVL804:
 7365              	.L535:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7366              		.loc 1 3220 5 is_stmt 1 view .LVU2505
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7367              		.loc 1 3220 7 is_stmt 0 view .LVU2506
 7368 02ca D4F80834 		ldr	r3, [r4, #1032]
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7369              		.loc 1 3220 14 view .LVU2507
 7370 02ce 3B44     		add	r3, r3, r7
ARM GAS  /tmp/ccc896J6.s 			page 244


 7371 02d0 C4F80834 		str	r3, [r4, #1032]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7372              		.loc 1 3221 5 is_stmt 1 view .LVU2508
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7373              		.loc 1 3221 15 is_stmt 0 view .LVU2509
 7374 02d4 D4F80004 		ldr	r0, [r4, #1024]
 7375 02d8 B0F80A84 		ldrh	r8, [r0, #1034]
 7376              	.LVL805:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7377              		.loc 1 3221 13 view .LVU2510
 7378 02dc B7FBF8F3 		udiv	r3, r7, r8
 7379 02e0 08FB1373 		mls	r3, r8, r3, r7
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7380              		.loc 1 3221 8 view .LVU2511
 7381 02e4 A3B1     		cbz	r3, .L552
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7382              		.loc 1 3222 6 is_stmt 1 view .LVU2512
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7383              		.loc 1 3222 14 is_stmt 0 view .LVU2513
 7384 02e6 2946     		mov	r1, r5
 7385 02e8 FFF7FEFF 		bl	clust2sect
 7386              	.LVL806:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7387              		.loc 1 3223 6 is_stmt 1 view .LVU2514
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7388              		.loc 1 3223 9 is_stmt 0 view .LVU2515
 7389 02ec 0546     		mov	r5, r0
 7390              	.LVL807:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7391              		.loc 1 3223 9 view .LVU2516
 7392 02ee 58B1     		cbz	r0, .L566
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7393              		.loc 1 3223 43 is_stmt 1 discriminator 2 view .LVU2517
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7394              		.loc 1 3224 6 view .LVU2518
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7395              		.loc 1 3224 19 is_stmt 0 view .LVU2519
 7396 02f0 B7FBF8F7 		udiv	r7, r7, r8
 7397              	.LVL808:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7398              		.loc 1 3224 12 view .LVU2520
 7399 02f4 3D44     		add	r5, r5, r7
 7400              	.LVL809:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7401              		.loc 1 3224 12 view .LVU2521
 7402 02f6 6BE7     		b	.L527
 7403              	.LVL810:
 7404              	.L565:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7405              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2522
 7406 02f8 0126     		movs	r6, #1
 7407              	.LVL811:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7408              		.loc 1 3214 30 is_stmt 0 discriminator 1 view .LVU2523
 7409 02fa 84F80764 		strb	r6, [r4, #1031]
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7410              		.loc 1 3214 30 is_stmt 1 view .LVU2524
ARM GAS  /tmp/ccc896J6.s 			page 245


 7411 02fe 12E0     		b	.L512
 7412              	.LVL812:
 7413              	.L538:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7414              		.loc 1 3215 49 discriminator 3 view .LVU2525
 7415 0300 0226     		movs	r6, #2
 7416              	.LVL813:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7417              		.loc 1 3215 49 is_stmt 0 discriminator 3 view .LVU2526
 7418 0302 84F80764 		strb	r6, [r4, #1031]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7419              		.loc 1 3215 49 is_stmt 1 view .LVU2527
 7420 0306 0EE0     		b	.L512
 7421              	.LVL814:
 7422              	.L566:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7423              		.loc 1 3223 18 discriminator 1 view .LVU2528
 7424 0308 0226     		movs	r6, #2
 7425              	.LVL815:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7426              		.loc 1 3223 18 is_stmt 0 discriminator 1 view .LVU2529
 7427 030a 84F80764 		strb	r6, [r4, #1031]
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7428              		.loc 1 3223 18 is_stmt 1 view .LVU2530
 7429 030e 0AE0     		b	.L512
 7430              	.LVL816:
 7431              	.L552:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7432              		.loc 1 3183 20 is_stmt 0 view .LVU2531
 7433 0310 1D46     		mov	r5, r3
 7434              	.LVL817:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7435              		.loc 1 3183 20 view .LVU2532
 7436 0312 5DE7     		b	.L527
 7437              	.LVL818:
 7438              	.L561:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7439              		.loc 1 3233 6 is_stmt 1 view .LVU2533
 7440 0314 0126     		movs	r6, #1
 7441              	.LVL819:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7442              		.loc 1 3233 6 is_stmt 0 view .LVU2534
 7443 0316 84F80764 		strb	r6, [r4, #1031]
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7444              		.loc 1 3233 6 is_stmt 1 view .LVU2535
 7445 031a 04E0     		b	.L512
 7446              	.LVL820:
 7447              	.L562:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7448              		.loc 1 3238 5 view .LVU2536
 7449 031c 0126     		movs	r6, #1
 7450              	.LVL821:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7451              		.loc 1 3238 5 is_stmt 0 view .LVU2537
 7452 031e 84F80764 		strb	r6, [r4, #1031]
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7453              		.loc 1 3238 5 is_stmt 1 view .LVU2538
ARM GAS  /tmp/ccc896J6.s 			page 246


 7454 0322 00E0     		b	.L512
 7455              	.LVL822:
 7456              	.L546:
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7457              		.loc 1 3117 3 is_stmt 0 view .LVU2539
 7458 0324 1E46     		mov	r6, r3
 7459              	.LVL823:
 7460              	.L512:
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7461              		.loc 1 3251 1 view .LVU2540
 7462 0326 3046     		mov	r0, r6
 7463 0328 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7464              	.LVL824:
 7465              	.L549:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7466              		.loc 1 3144 9 view .LVU2541
 7467 032c 1126     		movs	r6, #17
 7468              	.LVL825:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7469              		.loc 1 3144 9 view .LVU2542
 7470 032e FAE7     		b	.L512
 7471              		.cfi_endproc
 7472              	.LFE105:
 7474              		.section	.text.f_opendir,"ax",%progbits
 7475              		.align	1
 7476              		.global	f_opendir
 7477              		.syntax unified
 7478              		.thumb
 7479              		.thumb_func
 7481              	f_opendir:
 7482              	.LVL826:
 7483              	.LFB106:
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7484              		.loc 1 3264 1 is_stmt 1 view -0
 7485              		.cfi_startproc
 7486              		@ args = 0, pretend = 0, frame = 24
 7487              		@ frame_needed = 0, uses_anonymous_args = 0
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7488              		.loc 1 3264 1 is_stmt 0 view .LVU2544
 7489 0000 30B5     		push	{r4, r5, lr}
 7490              	.LCFI65:
 7491              		.cfi_def_cfa_offset 12
 7492              		.cfi_offset 4, -12
 7493              		.cfi_offset 5, -8
 7494              		.cfi_offset 14, -4
 7495 0002 87B0     		sub	sp, sp, #28
 7496              	.LCFI66:
 7497              		.cfi_def_cfa_offset 40
 7498 0004 0191     		str	r1, [sp, #4]
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
 7499              		.loc 1 3265 2 is_stmt 1 view .LVU2545
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7500              		.loc 1 3266 2 view .LVU2546
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7501              		.loc 1 3267 2 view .LVU2547
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7502              		.loc 1 3270 2 view .LVU2548
ARM GAS  /tmp/ccc896J6.s 			page 247


3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7503              		.loc 1 3270 5 is_stmt 0 view .LVU2549
 7504 0006 0028     		cmp	r0, #0
 7505 0008 48D0     		beq	.L574
 7506 000a 0446     		mov	r4, r0
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7507              		.loc 1 3273 2 is_stmt 1 view .LVU2550
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7508              		.loc 1 3273 8 is_stmt 0 view .LVU2551
 7509 000c 0022     		movs	r2, #0
 7510 000e 01A9     		add	r1, sp, #4
 7511              	.LVL827:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7512              		.loc 1 3273 8 view .LVU2552
 7513 0010 05A8     		add	r0, sp, #20
 7514              	.LVL828:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7515              		.loc 1 3273 8 view .LVU2553
 7516 0012 FFF7FEFF 		bl	find_volume
 7517              	.LVL829:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7518              		.loc 1 3274 2 is_stmt 1 view .LVU2554
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7519              		.loc 1 3274 5 is_stmt 0 view .LVU2555
 7520 0016 0546     		mov	r5, r0
 7521 0018 28B1     		cbz	r0, .L579
 7522              	.LVL830:
 7523              	.L569:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7524              		.loc 1 3304 20 is_stmt 1 discriminator 1 view .LVU2556
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7525              		.loc 1 3304 27 is_stmt 0 discriminator 1 view .LVU2557
 7526 001a 0023     		movs	r3, #0
 7527 001c C4F80034 		str	r3, [r4, #1024]
 7528              	.LVL831:
 7529              	.L568:
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7530              		.loc 1 3307 1 view .LVU2558
 7531 0020 2846     		mov	r0, r5
 7532 0022 07B0     		add	sp, sp, #28
 7533              	.LCFI67:
 7534              		.cfi_remember_state
 7535              		.cfi_def_cfa_offset 12
 7536              		@ sp needed
 7537 0024 30BD     		pop	{r4, r5, pc}
 7538              	.LVL832:
 7539              	.L579:
 7540              	.LCFI68:
 7541              		.cfi_restore_state
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7542              		.loc 1 3275 3 is_stmt 1 view .LVU2559
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7543              		.loc 1 3275 10 is_stmt 0 view .LVU2560
 7544 0026 059B     		ldr	r3, [sp, #20]
 7545 0028 C4F80034 		str	r3, [r4, #1024]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 7546              		.loc 1 3276 3 is_stmt 1 view .LVU2561
ARM GAS  /tmp/ccc896J6.s 			page 248


 7547 002c 02AB     		add	r3, sp, #8
 7548 002e C4F81834 		str	r3, [r4, #1048]
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7549              		.loc 1 3277 3 view .LVU2562
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7550              		.loc 1 3277 9 is_stmt 0 view .LVU2563
 7551 0032 0199     		ldr	r1, [sp, #4]
 7552 0034 2046     		mov	r0, r4
 7553              	.LVL833:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7554              		.loc 1 3277 9 view .LVU2564
 7555 0036 FFF7FEFF 		bl	follow_path
 7556              	.LVL834:
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 7557              		.loc 1 3278 13 is_stmt 1 view .LVU2565
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7558              		.loc 1 3279 3 view .LVU2566
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7559              		.loc 1 3279 6 is_stmt 0 view .LVU2567
 7560 003a 0546     		mov	r5, r0
 7561 003c 38BB     		cbnz	r0, .L570
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7562              		.loc 1 3280 4 is_stmt 1 view .LVU2568
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7563              		.loc 1 3280 10 is_stmt 0 view .LVU2569
 7564 003e D4F81414 		ldr	r1, [r4, #1044]
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7565              		.loc 1 3280 7 view .LVU2570
 7566 0042 41B1     		cbz	r1, .L571
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7567              		.loc 1 3281 5 is_stmt 1 view .LVU2571
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7568              		.loc 1 3281 16 is_stmt 0 view .LVU2572
 7569 0044 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7570              		.loc 1 3281 8 view .LVU2573
 7571 0046 13F0100F 		tst	r3, #16
 7572 004a 1FD0     		beq	.L575
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7573              		.loc 1 3282 6 is_stmt 1 view .LVU2574
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7574              		.loc 1 3282 19 is_stmt 0 view .LVU2575
 7575 004c 0598     		ldr	r0, [sp, #20]
 7576              	.LVL835:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7577              		.loc 1 3282 19 view .LVU2576
 7578 004e FFF7FEFF 		bl	ld_clust
 7579              	.LVL836:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7580              		.loc 1 3282 17 discriminator 1 view .LVU2577
 7581 0052 C4F80804 		str	r0, [r4, #1032]
 7582              	.L571:
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
 7583              		.loc 1 3286 4 is_stmt 1 view .LVU2578
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7584              		.loc 1 3287 5 view .LVU2579
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
ARM GAS  /tmp/ccc896J6.s 			page 249


 7585              		.loc 1 3287 16 is_stmt 0 view .LVU2580
 7586 0056 059B     		ldr	r3, [sp, #20]
 7587 0058 B3F80634 		ldrh	r3, [r3, #1030]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7588              		.loc 1 3287 12 view .LVU2581
 7589 005c A4F80434 		strh	r3, [r4, #1028]	@ movhi
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7590              		.loc 1 3288 5 is_stmt 1 view .LVU2582
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7591              		.loc 1 3288 11 is_stmt 0 view .LVU2583
 7592 0060 0021     		movs	r1, #0
 7593 0062 2046     		mov	r0, r4
 7594 0064 FFF7FEFF 		bl	dir_sdi
 7595              	.LVL837:
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7596              		.loc 1 3290 5 is_stmt 1 view .LVU2584
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7597              		.loc 1 3290 8 is_stmt 0 view .LVU2585
 7598 0068 0546     		mov	r5, r0
 7599 006a 80B9     		cbnz	r0, .L570
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7600              		.loc 1 3291 6 is_stmt 1 view .LVU2586
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7601              		.loc 1 3291 12 is_stmt 0 view .LVU2587
 7602 006c D4F80834 		ldr	r3, [r4, #1032]
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7603              		.loc 1 3291 9 view .LVU2588
 7604 0070 1BB9     		cbnz	r3, .L580
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7605              		.loc 1 3296 7 is_stmt 1 view .LVU2589
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7606              		.loc 1 3296 18 is_stmt 0 view .LVU2590
 7607 0072 0023     		movs	r3, #0
 7608 0074 C4F81C34 		str	r3, [r4, #1052]
 7609 0078 09E0     		b	.L570
 7610              	.L580:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7611              		.loc 1 3292 7 is_stmt 1 view .LVU2591
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7612              		.loc 1 3292 20 is_stmt 0 view .LVU2592
 7613 007a 0021     		movs	r1, #0
 7614 007c 2046     		mov	r0, r4
 7615              	.LVL838:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7616              		.loc 1 3292 20 view .LVU2593
 7617 007e FFF7FEFF 		bl	inc_lock
 7618              	.LVL839:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7619              		.loc 1 3292 18 discriminator 1 view .LVU2594
 7620 0082 C4F81C04 		str	r0, [r4, #1052]
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7621              		.loc 1 3293 7 is_stmt 1 view .LVU2595
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7622              		.loc 1 3293 10 is_stmt 0 view .LVU2596
 7623 0086 10B9     		cbnz	r0, .L570
 7624              	.LVL840:
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
ARM GAS  /tmp/ccc896J6.s 			page 250


 7625              		.loc 1 3294 12 view .LVU2597
 7626 0088 1225     		movs	r5, #18
 7627 008a 02E0     		b	.L573
 7628              	.LVL841:
 7629              	.L575:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7630              		.loc 1 3284 10 view .LVU2598
 7631 008c 0525     		movs	r5, #5
 7632              	.LVL842:
 7633              	.L570:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7634              		.loc 1 3302 3 is_stmt 1 view .LVU2599
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7635              		.loc 1 3302 6 is_stmt 0 view .LVU2600
 7636 008e 042D     		cmp	r5, #4
 7637 0090 02D0     		beq	.L581
 7638              	.LVL843:
 7639              	.L573:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7640              		.loc 1 3304 2 is_stmt 1 view .LVU2601
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7641              		.loc 1 3304 5 is_stmt 0 view .LVU2602
 7642 0092 002D     		cmp	r5, #0
 7643 0094 C4D0     		beq	.L568
 7644 0096 C0E7     		b	.L569
 7645              	.L581:
 7646              	.LVL844:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7647              		.loc 1 3302 30 discriminator 1 view .LVU2603
 7648 0098 0525     		movs	r5, #5
 7649 009a BEE7     		b	.L569
 7650              	.LVL845:
 7651              	.L574:
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7652              		.loc 1 3270 18 discriminator 1 view .LVU2604
 7653 009c 0925     		movs	r5, #9
 7654 009e BFE7     		b	.L568
 7655              		.cfi_endproc
 7656              	.LFE106:
 7658              		.section	.text.f_closedir,"ax",%progbits
 7659              		.align	1
 7660              		.global	f_closedir
 7661              		.syntax unified
 7662              		.thumb
 7663              		.thumb_func
 7665              	f_closedir:
 7666              	.LVL846:
 7667              	.LFB107:
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7668              		.loc 1 3319 1 is_stmt 1 view -0
 7669              		.cfi_startproc
 7670              		@ args = 0, pretend = 0, frame = 0
 7671              		@ frame_needed = 0, uses_anonymous_args = 0
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7672              		.loc 1 3319 1 is_stmt 0 view .LVU2606
 7673 0000 10B5     		push	{r4, lr}
 7674              	.LCFI69:
ARM GAS  /tmp/ccc896J6.s 			page 251


 7675              		.cfi_def_cfa_offset 8
 7676              		.cfi_offset 4, -8
 7677              		.cfi_offset 14, -4
 7678 0002 0446     		mov	r4, r0
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7679              		.loc 1 3320 2 is_stmt 1 view .LVU2607
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7680              		.loc 1 3323 2 view .LVU2608
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7681              		.loc 1 3323 8 is_stmt 0 view .LVU2609
 7682 0004 FFF7FEFF 		bl	validate
 7683              	.LVL847:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7684              		.loc 1 3324 2 is_stmt 1 view .LVU2610
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7685              		.loc 1 3324 5 is_stmt 0 view .LVU2611
 7686 0008 30B9     		cbnz	r0, .L583
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7687              		.loc 1 3329 3 is_stmt 1 view .LVU2612
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7688              		.loc 1 3329 9 is_stmt 0 view .LVU2613
 7689 000a D4F81C34 		ldr	r3, [r4, #1052]
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7690              		.loc 1 3329 6 view .LVU2614
 7691 000e 23B9     		cbnz	r3, .L586
 7692              	.L584:
 7693              	.LVL848:
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7694              		.loc 1 3331 3 is_stmt 1 view .LVU2615
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7695              		.loc 1 3331 6 is_stmt 0 view .LVU2616
 7696 0010 10B9     		cbnz	r0, .L583
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7697              		.loc 1 3333 4 is_stmt 1 view .LVU2617
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7698              		.loc 1 3333 11 is_stmt 0 view .LVU2618
 7699 0012 0023     		movs	r3, #0
 7700 0014 C4F80034 		str	r3, [r4, #1024]
 7701              	.LVL849:
 7702              	.L583:
3338:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7703              		.loc 1 3338 2 is_stmt 1 view .LVU2619
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7704              		.loc 1 3339 1 is_stmt 0 view .LVU2620
 7705 0018 10BD     		pop	{r4, pc}
 7706              	.LVL850:
 7707              	.L586:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7708              		.loc 1 3330 4 is_stmt 1 view .LVU2621
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7709              		.loc 1 3330 10 is_stmt 0 view .LVU2622
 7710 001a 1846     		mov	r0, r3
 7711 001c FFF7FEFF 		bl	dec_lock
 7712              	.LVL851:
 7713 0020 F6E7     		b	.L584
 7714              		.cfi_endproc
 7715              	.LFE107:
ARM GAS  /tmp/ccc896J6.s 			page 252


 7717              		.section	.text.f_readdir,"ax",%progbits
 7718              		.align	1
 7719              		.global	f_readdir
 7720              		.syntax unified
 7721              		.thumb
 7722              		.thumb_func
 7724              	f_readdir:
 7725              	.LVL852:
 7726              	.LFB108:
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7727              		.loc 1 3352 1 is_stmt 1 view -0
 7728              		.cfi_startproc
 7729              		@ args = 0, pretend = 0, frame = 16
 7730              		@ frame_needed = 0, uses_anonymous_args = 0
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7731              		.loc 1 3352 1 is_stmt 0 view .LVU2624
 7732 0000 70B5     		push	{r4, r5, r6, lr}
 7733              	.LCFI70:
 7734              		.cfi_def_cfa_offset 16
 7735              		.cfi_offset 4, -16
 7736              		.cfi_offset 5, -12
 7737              		.cfi_offset 6, -8
 7738              		.cfi_offset 14, -4
 7739 0002 84B0     		sub	sp, sp, #16
 7740              	.LCFI71:
 7741              		.cfi_def_cfa_offset 32
 7742 0004 0446     		mov	r4, r0
 7743 0006 0D46     		mov	r5, r1
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7744              		.loc 1 3353 2 is_stmt 1 view .LVU2625
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7745              		.loc 1 3354 2 view .LVU2626
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7746              		.loc 1 3357 2 view .LVU2627
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7747              		.loc 1 3357 8 is_stmt 0 view .LVU2628
 7748 0008 FFF7FEFF 		bl	validate
 7749              	.LVL853:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7750              		.loc 1 3358 2 is_stmt 1 view .LVU2629
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7751              		.loc 1 3358 5 is_stmt 0 view .LVU2630
 7752 000c 0646     		mov	r6, r0
 7753 000e 00BB     		cbnz	r0, .L588
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7754              		.loc 1 3359 3 is_stmt 1 view .LVU2631
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7755              		.loc 1 3359 6 is_stmt 0 view .LVU2632
 7756 0010 5DB1     		cbz	r5, .L595
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 7757              		.loc 1 3362 4 is_stmt 1 view .LVU2633
 7758 0012 01AB     		add	r3, sp, #4
 7759 0014 C4F81834 		str	r3, [r4, #1048]
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7760              		.loc 1 3363 4 view .LVU2634
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7761              		.loc 1 3363 10 is_stmt 0 view .LVU2635
ARM GAS  /tmp/ccc896J6.s 			page 253


 7762 0018 0021     		movs	r1, #0
 7763 001a 2046     		mov	r0, r4
 7764              	.LVL854:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7765              		.loc 1 3363 10 view .LVU2636
 7766 001c FFF7FEFF 		bl	dir_read
 7767              	.LVL855:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7768              		.loc 1 3364 4 is_stmt 1 view .LVU2637
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7769              		.loc 1 3364 7 is_stmt 0 view .LVU2638
 7770 0020 0428     		cmp	r0, #4
 7771 0022 08D0     		beq	.L596
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7772              		.loc 1 3368 4 is_stmt 1 view .LVU2639
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7773              		.loc 1 3368 7 is_stmt 0 view .LVU2640
 7774 0024 50B1     		cbz	r0, .L591
 7775 0026 0646     		mov	r6, r0
 7776 0028 13E0     		b	.L588
 7777              	.L595:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7778              		.loc 1 3360 4 is_stmt 1 view .LVU2641
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7779              		.loc 1 3360 10 is_stmt 0 view .LVU2642
 7780 002a 0021     		movs	r1, #0
 7781 002c 2046     		mov	r0, r4
 7782              	.LVL856:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7783              		.loc 1 3360 10 view .LVU2643
 7784 002e FFF7FEFF 		bl	dir_sdi
 7785              	.LVL857:
 7786 0032 0646     		mov	r6, r0
 7787              	.LVL858:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7788              		.loc 1 3360 10 view .LVU2644
 7789 0034 0DE0     		b	.L588
 7790              	.LVL859:
 7791              	.L596:
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7792              		.loc 1 3365 5 is_stmt 1 view .LVU2645
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7793              		.loc 1 3365 14 is_stmt 0 view .LVU2646
 7794 0036 0023     		movs	r3, #0
 7795 0038 C4F81034 		str	r3, [r4, #1040]
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7796              		.loc 1 3366 5 is_stmt 1 view .LVU2647
 7797              	.LVL860:
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7798              		.loc 1 3368 4 view .LVU2648
 7799              	.L591:
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 7800              		.loc 1 3369 5 view .LVU2649
 7801 003c 2946     		mov	r1, r5
 7802 003e 2046     		mov	r0, r4
 7803 0040 FFF7FEFF 		bl	get_fileinfo
 7804              	.LVL861:
ARM GAS  /tmp/ccc896J6.s 			page 254


3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7805              		.loc 1 3370 5 view .LVU2650
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7806              		.loc 1 3370 11 is_stmt 0 view .LVU2651
 7807 0044 0021     		movs	r1, #0
 7808 0046 2046     		mov	r0, r4
 7809 0048 FFF7FEFF 		bl	dir_next
 7810              	.LVL862:
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7811              		.loc 1 3371 5 is_stmt 1 view .LVU2652
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7812              		.loc 1 3371 8 is_stmt 0 view .LVU2653
 7813 004c 0428     		cmp	r0, #4
 7814 004e 03D0     		beq	.L597
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7815              		.loc 1 3370 11 view .LVU2654
 7816 0050 0646     		mov	r6, r0
 7817              	.LVL863:
 7818              	.L588:
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7819              		.loc 1 3376 14 is_stmt 1 view .LVU2655
3380:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7820              		.loc 1 3380 2 view .LVU2656
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7821              		.loc 1 3381 1 is_stmt 0 view .LVU2657
 7822 0052 3046     		mov	r0, r6
 7823 0054 04B0     		add	sp, sp, #16
 7824              	.LCFI72:
 7825              		.cfi_remember_state
 7826              		.cfi_def_cfa_offset 16
 7827              		@ sp needed
 7828 0056 70BD     		pop	{r4, r5, r6, pc}
 7829              	.LVL864:
 7830              	.L597:
 7831              	.LCFI73:
 7832              		.cfi_restore_state
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7833              		.loc 1 3372 6 is_stmt 1 view .LVU2658
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7834              		.loc 1 3372 15 is_stmt 0 view .LVU2659
 7835 0058 0023     		movs	r3, #0
 7836 005a C4F81034 		str	r3, [r4, #1040]
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7837              		.loc 1 3373 6 is_stmt 1 view .LVU2660
 7838              	.LVL865:
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7839              		.loc 1 3373 6 is_stmt 0 view .LVU2661
 7840 005e F8E7     		b	.L588
 7841              		.cfi_endproc
 7842              	.LFE108:
 7844              		.section	.text.f_stat,"ax",%progbits
 7845              		.align	1
 7846              		.global	f_stat
 7847              		.syntax unified
 7848              		.thumb
 7849              		.thumb_func
 7851              	f_stat:
ARM GAS  /tmp/ccc896J6.s 			page 255


 7852              	.LVL866:
 7853              	.LFB109:
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7854              		.loc 1 3446 1 is_stmt 1 view -0
 7855              		.cfi_startproc
 7856              		@ args = 0, pretend = 0, frame = 1080
 7857              		@ frame_needed = 0, uses_anonymous_args = 0
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7858              		.loc 1 3446 1 is_stmt 0 view .LVU2663
 7859 0000 30B5     		push	{r4, r5, lr}
 7860              	.LCFI74:
 7861              		.cfi_def_cfa_offset 12
 7862              		.cfi_offset 4, -12
 7863              		.cfi_offset 5, -8
 7864              		.cfi_offset 14, -4
 7865 0002 ADF23C4D 		subw	sp, sp, #1084
 7866              	.LCFI75:
 7867              		.cfi_def_cfa_offset 1096
 7868 0006 01AB     		add	r3, sp, #4
 7869 0008 0190     		str	r0, [sp, #4]
 7870 000a 0D46     		mov	r5, r1
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7871              		.loc 1 3447 2 is_stmt 1 view .LVU2664
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7872              		.loc 1 3448 2 view .LVU2665
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7873              		.loc 1 3449 2 view .LVU2666
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7874              		.loc 1 3453 2 view .LVU2667
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7875              		.loc 1 3453 8 is_stmt 0 view .LVU2668
 7876 000c 0022     		movs	r2, #0
 7877 000e 1946     		mov	r1, r3
 7878              	.LVL867:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7879              		.loc 1 3453 8 view .LVU2669
 7880 0010 0DF58360 		add	r0, sp, #1048
 7881              	.LVL868:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7882              		.loc 1 3453 8 view .LVU2670
 7883 0014 FFF7FEFF 		bl	find_volume
 7884              	.LVL869:
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7885              		.loc 1 3454 2 is_stmt 1 view .LVU2671
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7886              		.loc 1 3454 5 is_stmt 0 view .LVU2672
 7887 0018 0446     		mov	r4, r0
 7888 001a 18B1     		cbz	r0, .L602
 7889              	.LVL870:
 7890              	.L599:
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7891              		.loc 1 3464 13 is_stmt 1 view .LVU2673
3467:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7892              		.loc 1 3467 2 view .LVU2674
3468:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7893              		.loc 1 3468 1 is_stmt 0 view .LVU2675
 7894 001c 2046     		mov	r0, r4
ARM GAS  /tmp/ccc896J6.s 			page 256


 7895 001e 0DF23C4D 		addw	sp, sp, #1084
 7896              	.LCFI76:
 7897              		.cfi_remember_state
 7898              		.cfi_def_cfa_offset 12
 7899              		@ sp needed
 7900 0022 30BD     		pop	{r4, r5, pc}
 7901              	.LVL871:
 7902              	.L602:
 7903              	.LCFI77:
 7904              		.cfi_restore_state
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7905              		.loc 1 3455 3 is_stmt 1 view .LVU2676
 7906 0024 06A8     		add	r0, sp, #24
 7907              	.LVL872:
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7908              		.loc 1 3455 3 is_stmt 0 view .LVU2677
 7909 0026 03AB     		add	r3, sp, #12
 7910 0028 C0F81834 		str	r3, [r0, #1048]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7911              		.loc 1 3456 3 is_stmt 1 view .LVU2678
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7912              		.loc 1 3456 9 is_stmt 0 view .LVU2679
 7913 002c 0199     		ldr	r1, [sp, #4]
 7914 002e FFF7FEFF 		bl	follow_path
 7915              	.LVL873:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7916              		.loc 1 3457 3 is_stmt 1 view .LVU2680
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7917              		.loc 1 3457 6 is_stmt 0 view .LVU2681
 7918 0032 0446     		mov	r4, r0
 7919 0034 0028     		cmp	r0, #0
 7920 0036 F1D1     		bne	.L599
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7921              		.loc 1 3458 4 is_stmt 1 view .LVU2682
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7922              		.loc 1 3458 10 is_stmt 0 view .LVU2683
 7923 0038 DDF82C34 		ldr	r3, [sp, #1068]
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7924              		.loc 1 3458 7 view .LVU2684
 7925 003c 33B1     		cbz	r3, .L600
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7926              		.loc 1 3459 5 is_stmt 1 view .LVU2685
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7927              		.loc 1 3459 8 is_stmt 0 view .LVU2686
 7928 003e 002D     		cmp	r5, #0
 7929 0040 ECD0     		beq	.L599
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7930              		.loc 1 3459 14 is_stmt 1 discriminator 1 view .LVU2687
 7931 0042 2946     		mov	r1, r5
 7932 0044 06A8     		add	r0, sp, #24
 7933              	.LVL874:
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7934              		.loc 1 3459 14 is_stmt 0 discriminator 1 view .LVU2688
 7935 0046 FFF7FEFF 		bl	get_fileinfo
 7936              	.LVL875:
 7937 004a E7E7     		b	.L599
 7938              	.LVL876:
ARM GAS  /tmp/ccc896J6.s 			page 257


 7939              	.L600:
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7940              		.loc 1 3461 9 view .LVU2689
 7941 004c 0624     		movs	r4, #6
 7942 004e E5E7     		b	.L599
 7943              		.cfi_endproc
 7944              	.LFE109:
 7946              		.section	.text.f_getfree,"ax",%progbits
 7947              		.align	1
 7948              		.global	f_getfree
 7949              		.syntax unified
 7950              		.thumb
 7951              		.thumb_func
 7953              	f_getfree:
 7954              	.LVL877:
 7955              	.LFB110:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7956              		.loc 1 3482 1 is_stmt 1 view -0
 7957              		.cfi_startproc
 7958              		@ args = 0, pretend = 0, frame = 8
 7959              		@ frame_needed = 0, uses_anonymous_args = 0
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7960              		.loc 1 3482 1 is_stmt 0 view .LVU2691
 7961 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7962              	.LCFI78:
 7963              		.cfi_def_cfa_offset 32
 7964              		.cfi_offset 4, -32
 7965              		.cfi_offset 5, -28
 7966              		.cfi_offset 6, -24
 7967              		.cfi_offset 7, -20
 7968              		.cfi_offset 8, -16
 7969              		.cfi_offset 9, -12
 7970              		.cfi_offset 10, -8
 7971              		.cfi_offset 14, -4
 7972 0004 82B0     		sub	sp, sp, #8
 7973              	.LCFI79:
 7974              		.cfi_def_cfa_offset 40
 7975 0006 0190     		str	r0, [sp, #4]
 7976 0008 0F46     		mov	r7, r1
 7977 000a 1446     		mov	r4, r2
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7978              		.loc 1 3483 2 is_stmt 1 view .LVU2692
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
 7979              		.loc 1 3484 2 view .LVU2693
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 7980              		.loc 1 3485 2 view .LVU2694
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
 7981              		.loc 1 3486 2 view .LVU2695
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7982              		.loc 1 3487 2 view .LVU2696
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7983              		.loc 1 3491 2 view .LVU2697
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7984              		.loc 1 3491 8 is_stmt 0 view .LVU2698
 7985 000c 0022     		movs	r2, #0
 7986              	.LVL878:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
ARM GAS  /tmp/ccc896J6.s 			page 258


 7987              		.loc 1 3491 8 view .LVU2699
 7988 000e 01A9     		add	r1, sp, #4
 7989              	.LVL879:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7990              		.loc 1 3491 8 view .LVU2700
 7991 0010 2046     		mov	r0, r4
 7992              	.LVL880:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7993              		.loc 1 3491 8 view .LVU2701
 7994 0012 FFF7FEFF 		bl	find_volume
 7995              	.LVL881:
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7996              		.loc 1 3492 2 is_stmt 1 view .LVU2702
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7997              		.loc 1 3492 5 is_stmt 0 view .LVU2703
 7998 0016 2568     		ldr	r5, [r4]
 7999              	.LVL882:
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 8000              		.loc 1 3493 2 is_stmt 1 view .LVU2704
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 8001              		.loc 1 3493 5 is_stmt 0 view .LVU2705
 8002 0018 8046     		mov	r8, r0
 8003 001a 0028     		cmp	r0, #0
 8004 001c 65D1     		bne	.L604
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8005              		.loc 1 3495 3 is_stmt 1 view .LVU2706
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8006              		.loc 1 3495 9 is_stmt 0 view .LVU2707
 8007 001e D5F81034 		ldr	r3, [r5, #1040]
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8008              		.loc 1 3495 27 view .LVU2708
 8009 0022 D5F81444 		ldr	r4, [r5, #1044]
 8010              	.LVL883:
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8011              		.loc 1 3495 38 view .LVU2709
 8012 0026 A21E     		subs	r2, r4, #2
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8013              		.loc 1 3495 6 view .LVU2710
 8014 0028 9342     		cmp	r3, r2
 8015 002a 01D8     		bhi	.L605
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8016              		.loc 1 3496 4 is_stmt 1 view .LVU2711
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8017              		.loc 1 3496 11 is_stmt 0 view .LVU2712
 8018 002c 3B60     		str	r3, [r7]
 8019 002e 5CE0     		b	.L604
 8020              	.L605:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 8021              		.loc 1 3499 4 is_stmt 1 view .LVU2713
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 8022              		.loc 1 3499 8 is_stmt 0 view .LVU2714
 8023 0030 95F80094 		ldrb	r9, [r5, #1024]	@ zero_extendqisi2
 8024              	.LVL884:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8025              		.loc 1 3500 4 is_stmt 1 view .LVU2715
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 8026              		.loc 1 3501 4 view .LVU2716
ARM GAS  /tmp/ccc896J6.s 			page 259


3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 8027              		.loc 1 3501 7 is_stmt 0 view .LVU2717
 8028 0034 B9F1010F 		cmp	r9, #1
 8029 0038 05D0     		beq	.L619
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
 8030              		.loc 1 3510 5 is_stmt 1 view .LVU2718
 8031              	.LVL885:
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 8032              		.loc 1 3511 5 view .LVU2719
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 8033              		.loc 1 3511 10 is_stmt 0 view .LVU2720
 8034 003a D5F82014 		ldr	r1, [r5, #1056]
 8035              	.LVL886:
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8036              		.loc 1 3512 5 is_stmt 1 view .LVU2721
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8037              		.loc 1 3512 12 view .LVU2722
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8038              		.loc 1 3512 14 is_stmt 0 view .LVU2723
 8039 003e 0022     		movs	r2, #0
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8040              		.loc 1 3512 7 view .LVU2724
 8041 0040 1046     		mov	r0, r2
 8042              	.LVL887:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8043              		.loc 1 3500 6 view .LVU2725
 8044 0042 1646     		mov	r6, r2
 8045 0044 2FE0     		b	.L615
 8046              	.LVL888:
 8047              	.L619:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8048              		.loc 1 3502 10 view .LVU2726
 8049 0046 0224     		movs	r4, #2
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8050              		.loc 1 3500 6 view .LVU2727
 8051 0048 0026     		movs	r6, #0
 8052 004a 04E0     		b	.L609
 8053              	.LVL889:
 8054              	.L608:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8055              		.loc 1 3508 21 is_stmt 1 view .LVU2728
 8056 004c 0134     		adds	r4, r4, #1
 8057              	.LVL890:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8058              		.loc 1 3508 25 is_stmt 0 view .LVU2729
 8059 004e D5F81434 		ldr	r3, [r5, #1044]
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8060              		.loc 1 3508 21 view .LVU2730
 8061 0052 A342     		cmp	r3, r4
 8062 0054 40D9     		bls	.L607
 8063              	.LVL891:
 8064              	.L609:
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
 8065              		.loc 1 3503 5 is_stmt 1 view .LVU2731
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8066              		.loc 1 3504 6 view .LVU2732
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
ARM GAS  /tmp/ccc896J6.s 			page 260


 8067              		.loc 1 3504 13 is_stmt 0 view .LVU2733
 8068 0056 2146     		mov	r1, r4
 8069 0058 2846     		mov	r0, r5
 8070 005a FFF7FEFF 		bl	get_fat
 8071              	.LVL892:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8072              		.loc 1 3505 6 is_stmt 1 view .LVU2734
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8073              		.loc 1 3505 9 is_stmt 0 view .LVU2735
 8074 005e B0F1FF3F 		cmp	r0, #-1
 8075 0062 38D0     		beq	.L616
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8076              		.loc 1 3506 6 is_stmt 1 view .LVU2736
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8077              		.loc 1 3506 9 is_stmt 0 view .LVU2737
 8078 0064 0128     		cmp	r0, #1
 8079 0066 44D0     		beq	.L617
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8080              		.loc 1 3507 6 is_stmt 1 view .LVU2738
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8081              		.loc 1 3507 9 is_stmt 0 view .LVU2739
 8082 0068 0028     		cmp	r0, #0
 8083 006a EFD1     		bne	.L608
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8084              		.loc 1 3507 21 is_stmt 1 discriminator 1 view .LVU2740
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8085              		.loc 1 3507 22 is_stmt 0 discriminator 1 view .LVU2741
 8086 006c 0136     		adds	r6, r6, #1
 8087              	.LVL893:
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8088              		.loc 1 3507 22 discriminator 1 view .LVU2742
 8089 006e EDE7     		b	.L608
 8090              	.LVL894:
 8091              	.L620:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8092              		.loc 1 3515 7 is_stmt 1 view .LVU2743
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8093              		.loc 1 3515 13 is_stmt 0 view .LVU2744
 8094 0070 01F1010A 		add	r10, r1, #1
 8095              	.LVL895:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8096              		.loc 1 3515 13 view .LVU2745
 8097 0074 2846     		mov	r0, r5
 8098              	.LVL896:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8099              		.loc 1 3515 13 view .LVU2746
 8100 0076 FFF7FEFF 		bl	move_window
 8101              	.LVL897:
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 8102              		.loc 1 3516 7 is_stmt 1 view .LVU2747
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 8103              		.loc 1 3516 10 is_stmt 0 view .LVU2748
 8104 007a 8046     		mov	r8, r0
 8105 007c 60BB     		cbnz	r0, .L607
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 8106              		.loc 1 3517 7 is_stmt 1 view .LVU2749
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
ARM GAS  /tmp/ccc896J6.s 			page 261


 8107              		.loc 1 3517 9 is_stmt 0 view .LVU2750
 8108 007e 2A46     		mov	r2, r5
 8109              	.LVL898:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8110              		.loc 1 3518 7 is_stmt 1 view .LVU2751
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8111              		.loc 1 3518 11 is_stmt 0 view .LVU2752
 8112 0080 B5F80A04 		ldrh	r0, [r5, #1034]
 8113              	.LVL899:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8114              		.loc 1 3515 13 view .LVU2753
 8115 0084 5146     		mov	r1, r10
 8116 0086 10E0     		b	.L610
 8117              	.LVL900:
 8118              	.L621:
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8119              		.loc 1 3521 7 is_stmt 1 view .LVU2754
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8120              		.loc 1 3521 11 is_stmt 0 view .LVU2755
 8121 0088 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 8122 008c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 8123 008e 43EA0C23 		orr	r3, r3, ip, lsl #8
 8124 0092 1BB2     		sxth	r3, r3
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8125              		.loc 1 3521 10 view .LVU2756
 8126 0094 03B9     		cbnz	r3, .L612
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8127              		.loc 1 3521 28 is_stmt 1 discriminator 1 view .LVU2757
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8128              		.loc 1 3521 29 is_stmt 0 discriminator 1 view .LVU2758
 8129 0096 0136     		adds	r6, r6, #1
 8130              	.LVL901:
 8131              	.L612:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8132              		.loc 1 3522 7 is_stmt 1 view .LVU2759
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8133              		.loc 1 3522 9 is_stmt 0 view .LVU2760
 8134 0098 0232     		adds	r2, r2, #2
 8135              	.LVL902:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8136              		.loc 1 3522 15 is_stmt 1 view .LVU2761
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8137              		.loc 1 3522 17 is_stmt 0 view .LVU2762
 8138 009a 0238     		subs	r0, r0, #2
 8139              	.LVL903:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8140              		.loc 1 3522 17 view .LVU2763
 8141 009c 01E0     		b	.L613
 8142              	.LVL904:
 8143              	.L614:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8144              		.loc 1 3525 7 is_stmt 1 view .LVU2764
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8145              		.loc 1 3525 9 is_stmt 0 view .LVU2765
 8146 009e 0432     		adds	r2, r2, #4
 8147              	.LVL905:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccc896J6.s 			page 262


 8148              		.loc 1 3525 15 is_stmt 1 view .LVU2766
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8149              		.loc 1 3525 17 is_stmt 0 view .LVU2767
 8150 00a0 0438     		subs	r0, r0, #4
 8151              	.LVL906:
 8152              	.L613:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8153              		.loc 1 3527 14 is_stmt 1 view .LVU2768
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8154              		.loc 1 3527 14 is_stmt 0 view .LVU2769
 8155 00a2 013C     		subs	r4, r4, #1
 8156              	.LVL907:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8157              		.loc 1 3527 14 view .LVU2770
 8158 00a4 18D0     		beq	.L607
 8159              	.LVL908:
 8160              	.L615:
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
 8161              		.loc 1 3513 5 is_stmt 1 view .LVU2771
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8162              		.loc 1 3514 6 view .LVU2772
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8163              		.loc 1 3514 9 is_stmt 0 view .LVU2773
 8164 00a6 0028     		cmp	r0, #0
 8165 00a8 E2D0     		beq	.L620
 8166              	.LVL909:
 8167              	.L610:
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8168              		.loc 1 3520 6 is_stmt 1 view .LVU2774
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8169              		.loc 1 3520 9 is_stmt 0 view .LVU2775
 8170 00aa B9F1020F 		cmp	r9, #2
 8171 00ae EBD0     		beq	.L621
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8172              		.loc 1 3524 7 is_stmt 1 view .LVU2776
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8173              		.loc 1 3524 12 is_stmt 0 view .LVU2777
 8174 00b0 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 8175 00b4 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 8176 00b6 1B04     		lsls	r3, r3, #16
 8177 00b8 43EA0C63 		orr	r3, r3, ip, lsl #24
 8178 00bc 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 8179 00c0 43EA0C23 		orr	r3, r3, ip, lsl #8
 8180 00c4 92F800C0 		ldrb	ip, [r2]	@ zero_extendqisi2
 8181 00c8 43EA0C03 		orr	r3, r3, ip
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8182              		.loc 1 3524 10 view .LVU2778
 8183 00cc 33F07043 		bics	r3, r3, #-268435456
 8184 00d0 E5D1     		bne	.L614
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8185              		.loc 1 3524 44 is_stmt 1 discriminator 1 view .LVU2779
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8186              		.loc 1 3524 45 is_stmt 0 discriminator 1 view .LVU2780
 8187 00d2 0136     		adds	r6, r6, #1
 8188              	.LVL910:
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8189              		.loc 1 3524 45 discriminator 1 view .LVU2781
ARM GAS  /tmp/ccc896J6.s 			page 263


 8190 00d4 E3E7     		b	.L614
 8191              	.LVL911:
 8192              	.L616:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8193              		.loc 1 3505 36 discriminator 1 view .LVU2782
 8194 00d6 C846     		mov	r8, r9
 8195              	.LVL912:
 8196              	.L607:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8197              		.loc 1 3529 4 is_stmt 1 view .LVU2783
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8198              		.loc 1 3529 19 is_stmt 0 view .LVU2784
 8199 00d8 C5F81064 		str	r6, [r5, #1040]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8200              		.loc 1 3530 4 is_stmt 1 view .LVU2785
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8201              		.loc 1 3530 6 is_stmt 0 view .LVU2786
 8202 00dc 95F80534 		ldrb	r3, [r5, #1029]	@ zero_extendqisi2
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8203              		.loc 1 3530 17 view .LVU2787
 8204 00e0 43F00103 		orr	r3, r3, #1
 8205 00e4 85F80534 		strb	r3, [r5, #1029]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8206              		.loc 1 3531 4 is_stmt 1 view .LVU2788
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8207              		.loc 1 3531 11 is_stmt 0 view .LVU2789
 8208 00e8 3E60     		str	r6, [r7]
 8209              	.LVL913:
 8210              	.L604:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8211              		.loc 1 3534 2 is_stmt 1 view .LVU2790
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8212              		.loc 1 3535 1 is_stmt 0 view .LVU2791
 8213 00ea 4046     		mov	r0, r8
 8214 00ec 02B0     		add	sp, sp, #8
 8215              	.LCFI80:
 8216              		.cfi_remember_state
 8217              		.cfi_def_cfa_offset 32
 8218              		@ sp needed
 8219 00ee BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 8220              	.LVL914:
 8221              	.L617:
 8222              	.LCFI81:
 8223              		.cfi_restore_state
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8224              		.loc 1 3506 27 discriminator 1 view .LVU2792
 8225 00f2 4FF00208 		mov	r8, #2
 8226              	.LVL915:
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8227              		.loc 1 3506 27 discriminator 1 view .LVU2793
 8228 00f6 EFE7     		b	.L607
 8229              		.cfi_endproc
 8230              	.LFE110:
 8232              		.section	.text.f_truncate,"ax",%progbits
 8233              		.align	1
 8234              		.global	f_truncate
 8235              		.syntax unified
ARM GAS  /tmp/ccc896J6.s 			page 264


 8236              		.thumb
 8237              		.thumb_func
 8239              	f_truncate:
 8240              	.LVL916:
 8241              	.LFB111:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8242              		.loc 1 3547 1 is_stmt 1 view -0
 8243              		.cfi_startproc
 8244              		@ args = 0, pretend = 0, frame = 0
 8245              		@ frame_needed = 0, uses_anonymous_args = 0
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8246              		.loc 1 3547 1 is_stmt 0 view .LVU2795
 8247 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 8248              	.LCFI82:
 8249              		.cfi_def_cfa_offset 24
 8250              		.cfi_offset 3, -24
 8251              		.cfi_offset 4, -20
 8252              		.cfi_offset 5, -16
 8253              		.cfi_offset 6, -12
 8254              		.cfi_offset 7, -8
 8255              		.cfi_offset 14, -4
 8256 0002 0446     		mov	r4, r0
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 8257              		.loc 1 3548 2 is_stmt 1 view .LVU2796
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8258              		.loc 1 3549 2 view .LVU2797
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8259              		.loc 1 3552 2 view .LVU2798
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8260              		.loc 1 3552 8 is_stmt 0 view .LVU2799
 8261 0004 FFF7FEFF 		bl	validate
 8262              	.LVL917:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8263              		.loc 1 3553 2 is_stmt 1 view .LVU2800
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8264              		.loc 1 3553 5 is_stmt 0 view .LVU2801
 8265 0008 0546     		mov	r5, r0
 8266 000a 0028     		cmp	r0, #0
 8267 000c 73D1     		bne	.L623
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8268              		.loc 1 3554 3 is_stmt 1 view .LVU2802
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8269              		.loc 1 3554 9 is_stmt 0 view .LVU2803
 8270 000e 94F80764 		ldrb	r6, [r4, #1031]	@ zero_extendqisi2
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8271              		.loc 1 3554 6 view .LVU2804
 8272 0012 2EB9     		cbnz	r6, .L624
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8273              		.loc 1 3557 4 is_stmt 1 view .LVU2805
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8274              		.loc 1 3557 12 is_stmt 0 view .LVU2806
 8275 0014 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8276              		.loc 1 3557 7 view .LVU2807
 8277 0018 13F0020F 		tst	r3, #2
 8278 001c 68D0     		beq	.L630
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/ccc896J6.s 			page 265


 8279              		.loc 1 3552 8 view .LVU2808
 8280 001e 0646     		mov	r6, r0
 8281              	.L624:
 8282              	.LVL918:
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8283              		.loc 1 3561 2 is_stmt 1 view .LVU2809
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8284              		.loc 1 3561 5 is_stmt 0 view .LVU2810
 8285 0020 002E     		cmp	r6, #0
 8286 0022 67D1     		bne	.L631
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8287              		.loc 1 3562 3 is_stmt 1 view .LVU2811
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8288              		.loc 1 3562 9 is_stmt 0 view .LVU2812
 8289 0024 D4F80C24 		ldr	r2, [r4, #1036]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8290              		.loc 1 3562 21 view .LVU2813
 8291 0028 D4F80834 		ldr	r3, [r4, #1032]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8292              		.loc 1 3562 6 view .LVU2814
 8293 002c 9A42     		cmp	r2, r3
 8294 002e 19D9     		bls	.L625
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8295              		.loc 1 3563 4 is_stmt 1 view .LVU2815
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8296              		.loc 1 3563 14 is_stmt 0 view .LVU2816
 8297 0030 C4F80C34 		str	r3, [r4, #1036]
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8298              		.loc 1 3564 4 is_stmt 1 view .LVU2817
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8299              		.loc 1 3564 6 is_stmt 0 view .LVU2818
 8300 0034 94F80624 		ldrb	r2, [r4, #1030]	@ zero_extendqisi2
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8301              		.loc 1 3564 13 view .LVU2819
 8302 0038 42F02002 		orr	r2, r2, #32
 8303 003c 84F80624 		strb	r2, [r4, #1030]
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8304              		.loc 1 3565 4 is_stmt 1 view .LVU2820
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8305              		.loc 1 3565 7 is_stmt 0 view .LVU2821
 8306 0040 B3B9     		cbnz	r3, .L626
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8307              		.loc 1 3566 5 is_stmt 1 view .LVU2822
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8308              		.loc 1 3566 11 is_stmt 0 view .LVU2823
 8309 0042 D4F81014 		ldr	r1, [r4, #1040]
 8310 0046 D4F80004 		ldr	r0, [r4, #1024]
 8311 004a FFF7FEFF 		bl	remove_chain
 8312              	.LVL919:
 8313 004e 0546     		mov	r5, r0
 8314              	.LVL920:
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8315              		.loc 1 3567 5 is_stmt 1 view .LVU2824
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8316              		.loc 1 3567 16 is_stmt 0 view .LVU2825
 8317 0050 0023     		movs	r3, #0
 8318 0052 C4F81034 		str	r3, [r4, #1040]
ARM GAS  /tmp/ccc896J6.s 			page 266


 8319              	.LVL921:
 8320              	.L627:
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8321              		.loc 1 3579 4 is_stmt 1 view .LVU2826
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8322              		.loc 1 3579 7 is_stmt 0 view .LVU2827
 8323 0056 45B9     		cbnz	r5, .L629
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8324              		.loc 1 3579 27 discriminator 1 view .LVU2828
 8325 0058 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8326              		.loc 1 3579 21 discriminator 1 view .LVU2829
 8327 005c 13F0400F 		tst	r3, #64
 8328 0060 2DD1     		bne	.L640
 8329 0062 2E46     		mov	r6, r5
 8330              	.LVL922:
 8331              	.L625:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8332              		.loc 1 3587 3 is_stmt 1 view .LVU2830
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8333              		.loc 1 3587 6 is_stmt 0 view .LVU2831
 8334 0064 002E     		cmp	r6, #0
 8335 0066 48D0     		beq	.L638
 8336 0068 3546     		mov	r5, r6
 8337              	.LVL923:
 8338              	.L629:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8339              		.loc 1 3587 21 is_stmt 1 discriminator 1 view .LVU2832
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8340              		.loc 1 3587 29 is_stmt 0 discriminator 1 view .LVU2833
 8341 006a 84F80754 		strb	r5, [r4, #1031]
 8342 006e 42E0     		b	.L623
 8343              	.LVL924:
 8344              	.L626:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8345              		.loc 1 3569 5 is_stmt 1 view .LVU2834
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8346              		.loc 1 3569 11 is_stmt 0 view .LVU2835
 8347 0070 D4F81414 		ldr	r1, [r4, #1044]
 8348 0074 D4F80004 		ldr	r0, [r4, #1024]
 8349 0078 FFF7FEFF 		bl	get_fat
 8350              	.LVL925:
 8351 007c 0746     		mov	r7, r0
 8352              	.LVL926:
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8353              		.loc 1 3570 5 is_stmt 1 view .LVU2836
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8354              		.loc 1 3571 5 view .LVU2837
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8355              		.loc 1 3571 8 is_stmt 0 view .LVU2838
 8356 007e B0F1FF3F 		cmp	r0, #-1
 8357 0082 0AD0     		beq	.L632
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8358              		.loc 1 3572 5 is_stmt 1 view .LVU2839
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8359              		.loc 1 3572 8 is_stmt 0 view .LVU2840
 8360 0084 0128     		cmp	r0, #1
ARM GAS  /tmp/ccc896J6.s 			page 267


 8361 0086 2DD0     		beq	.L641
 8362              	.L628:
 8363              	.LVL927:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8364              		.loc 1 3573 5 is_stmt 1 view .LVU2841
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8365              		.loc 1 3573 8 is_stmt 0 view .LVU2842
 8366 0088 76BB     		cbnz	r6, .L634
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8367              		.loc 1 3573 33 discriminator 1 view .LVU2843
 8368 008a D4F80004 		ldr	r0, [r4, #1024]
 8369              	.LVL928:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8370              		.loc 1 3573 37 discriminator 1 view .LVU2844
 8371 008e D0F81434 		ldr	r3, [r0, #1044]
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8372              		.loc 1 3573 22 discriminator 1 view .LVU2845
 8373 0092 BB42     		cmp	r3, r7
 8374 0094 03D8     		bhi	.L642
 8375 0096 3546     		mov	r5, r6
 8376 0098 DDE7     		b	.L627
 8377              	.LVL929:
 8378              	.L632:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8379              		.loc 1 3571 32 discriminator 1 view .LVU2846
 8380 009a 0126     		movs	r6, #1
 8381 009c F4E7     		b	.L628
 8382              	.LVL930:
 8383              	.L642:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8384              		.loc 1 3574 6 is_stmt 1 view .LVU2847
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8385              		.loc 1 3574 12 is_stmt 0 view .LVU2848
 8386 009e 6FF07042 		mvn	r2, #-268435456
 8387 00a2 D4F81414 		ldr	r1, [r4, #1044]
 8388 00a6 FFF7FEFF 		bl	put_fat
 8389              	.LVL931:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8390              		.loc 1 3575 6 is_stmt 1 view .LVU2849
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8391              		.loc 1 3575 9 is_stmt 0 view .LVU2850
 8392 00aa 0546     		mov	r5, r0
 8393 00ac 0028     		cmp	r0, #0
 8394 00ae DCD1     		bne	.L629
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8395              		.loc 1 3575 24 is_stmt 1 discriminator 1 view .LVU2851
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8396              		.loc 1 3575 30 is_stmt 0 discriminator 1 view .LVU2852
 8397 00b0 3946     		mov	r1, r7
 8398 00b2 D4F80004 		ldr	r0, [r4, #1024]
 8399              	.LVL932:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8400              		.loc 1 3575 30 discriminator 1 view .LVU2853
 8401 00b6 FFF7FEFF 		bl	remove_chain
 8402              	.LVL933:
 8403 00ba 0546     		mov	r5, r0
 8404              	.LVL934:
ARM GAS  /tmp/ccc896J6.s 			page 268


3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8405              		.loc 1 3575 30 discriminator 1 view .LVU2854
 8406 00bc CBE7     		b	.L627
 8407              	.LVL935:
 8408              	.L640:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8409              		.loc 1 3580 5 is_stmt 1 view .LVU2855
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8410              		.loc 1 3580 22 is_stmt 0 view .LVU2856
 8411 00be D4F80004 		ldr	r0, [r4, #1024]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8412              		.loc 1 3580 9 view .LVU2857
 8413 00c2 0123     		movs	r3, #1
 8414 00c4 D4F81824 		ldr	r2, [r4, #1048]
 8415 00c8 2146     		mov	r1, r4
 8416 00ca 90F80104 		ldrb	r0, [r0, #1025]	@ zero_extendqisi2
 8417 00ce FFF7FEFF 		bl	disk_write
 8418              	.LVL936:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8419              		.loc 1 3580 8 discriminator 1 view .LVU2858
 8420 00d2 58B9     		cbnz	r0, .L637
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8421              		.loc 1 3583 6 is_stmt 1 view .LVU2859
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8422              		.loc 1 3583 8 is_stmt 0 view .LVU2860
 8423 00d4 94F80634 		ldrb	r3, [r4, #1030]	@ zero_extendqisi2
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8424              		.loc 1 3583 15 view .LVU2861
 8425 00d8 23F04003 		bic	r3, r3, #64
 8426 00dc 84F80634 		strb	r3, [r4, #1030]
 8427 00e0 2E46     		mov	r6, r5
 8428 00e2 BFE7     		b	.L625
 8429              	.LVL937:
 8430              	.L641:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8431              		.loc 1 3572 23 discriminator 1 view .LVU2862
 8432 00e4 0225     		movs	r5, #2
 8433 00e6 C0E7     		b	.L629
 8434              	.LVL938:
 8435              	.L634:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8436              		.loc 1 3572 23 discriminator 1 view .LVU2863
 8437 00e8 3546     		mov	r5, r6
 8438 00ea BEE7     		b	.L629
 8439              	.LVL939:
 8440              	.L637:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8441              		.loc 1 3581 10 view .LVU2864
 8442 00ec 0125     		movs	r5, #1
 8443              	.LVL940:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8444              		.loc 1 3581 10 view .LVU2865
 8445 00ee BCE7     		b	.L629
 8446              	.LVL941:
 8447              	.L630:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8448              		.loc 1 3558 9 view .LVU2866
ARM GAS  /tmp/ccc896J6.s 			page 269


 8449 00f0 0725     		movs	r5, #7
 8450 00f2 00E0     		b	.L623
 8451              	.LVL942:
 8452              	.L631:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8453              		.loc 1 3558 9 view .LVU2867
 8454 00f4 3546     		mov	r5, r6
 8455              	.LVL943:
 8456              	.L623:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8457              		.loc 1 3590 2 is_stmt 1 view .LVU2868
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8458              		.loc 1 3591 1 is_stmt 0 view .LVU2869
 8459 00f6 2846     		mov	r0, r5
 8460 00f8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 8461              	.LVL944:
 8462              	.L638:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8463              		.loc 1 3591 1 view .LVU2870
 8464 00fa 3546     		mov	r5, r6
 8465 00fc FBE7     		b	.L623
 8466              		.cfi_endproc
 8467              	.LFE111:
 8469              		.section	.text.f_unlink,"ax",%progbits
 8470              		.align	1
 8471              		.global	f_unlink
 8472              		.syntax unified
 8473              		.thumb
 8474              		.thumb_func
 8476              	f_unlink:
 8477              	.LVL945:
 8478              	.LFB112:
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8479              		.loc 1 3603 1 is_stmt 1 view -0
 8480              		.cfi_startproc
 8481              		@ args = 0, pretend = 0, frame = 2136
 8482              		@ frame_needed = 0, uses_anonymous_args = 0
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8483              		.loc 1 3603 1 is_stmt 0 view .LVU2872
 8484 0000 70B5     		push	{r4, r5, r6, lr}
 8485              	.LCFI83:
 8486              		.cfi_def_cfa_offset 16
 8487              		.cfi_offset 4, -16
 8488              		.cfi_offset 5, -12
 8489              		.cfi_offset 6, -8
 8490              		.cfi_offset 14, -4
 8491 0002 ADF6580D 		subw	sp, sp, #2136
 8492              	.LCFI84:
 8493              		.cfi_def_cfa_offset 2152
 8494 0006 01A9     		add	r1, sp, #4
 8495 0008 0860     		str	r0, [r1]
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 8496              		.loc 1 3604 2 is_stmt 1 view .LVU2873
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8497              		.loc 1 3605 2 view .LVU2874
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 8498              		.loc 1 3606 2 view .LVU2875
ARM GAS  /tmp/ccc896J6.s 			page 270


3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8499              		.loc 1 3607 2 view .LVU2876
 8500              	.LVL946:
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8501              		.loc 1 3608 2 view .LVU2877
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8502              		.loc 1 3612 2 view .LVU2878
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8503              		.loc 1 3612 8 is_stmt 0 view .LVU2879
 8504 000a 0122     		movs	r2, #1
 8505 000c 0DF63800 		addw	r0, sp, #2104
 8506              	.LVL947:
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8507              		.loc 1 3612 8 view .LVU2880
 8508 0010 FFF7FEFF 		bl	find_volume
 8509              	.LVL948:
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8510              		.loc 1 3613 2 is_stmt 1 view .LVU2881
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8511              		.loc 1 3613 5 is_stmt 0 view .LVU2882
 8512 0014 0446     		mov	r4, r0
 8513 0016 18B1     		cbz	r0, .L652
 8514              	.LVL949:
 8515              	.L644:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8516              		.loc 1 3656 13 is_stmt 1 view .LVU2883
3659:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8517              		.loc 1 3659 2 view .LVU2884
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8518              		.loc 1 3660 1 is_stmt 0 view .LVU2885
 8519 0018 2046     		mov	r0, r4
 8520 001a 0DF6580D 		addw	sp, sp, #2136
 8521              	.LCFI85:
 8522              		.cfi_remember_state
 8523              		.cfi_def_cfa_offset 16
 8524              		@ sp needed
 8525 001e 70BD     		pop	{r4, r5, r6, pc}
 8526              	.LVL950:
 8527              	.L652:
 8528              	.LCFI86:
 8529              		.cfi_restore_state
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8530              		.loc 1 3614 3 is_stmt 1 view .LVU2886
 8531 0020 0DF58760 		add	r0, sp, #1080
 8532              	.LVL951:
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8533              		.loc 1 3614 3 is_stmt 0 view .LVU2887
 8534 0024 03AB     		add	r3, sp, #12
 8535 0026 C0F81834 		str	r3, [r0, #1048]
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8536              		.loc 1 3615 3 is_stmt 1 view .LVU2888
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8537              		.loc 1 3615 9 is_stmt 0 view .LVU2889
 8538 002a 0199     		ldr	r1, [sp, #4]
 8539 002c FFF7FEFF 		bl	follow_path
 8540              	.LVL952:
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
ARM GAS  /tmp/ccc896J6.s 			page 271


 8541              		.loc 1 3616 3 is_stmt 1 view .LVU2890
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8542              		.loc 1 3619 3 view .LVU2891
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8543              		.loc 1 3619 6 is_stmt 0 view .LVU2892
 8544 0030 0446     		mov	r4, r0
 8545 0032 0028     		cmp	r0, #0
 8546 0034 F0D1     		bne	.L644
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8547              		.loc 1 3619 21 is_stmt 1 discriminator 1 view .LVU2893
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8548              		.loc 1 3619 27 is_stmt 0 discriminator 1 view .LVU2894
 8549 0036 0221     		movs	r1, #2
 8550 0038 0DF58760 		add	r0, sp, #1080
 8551              	.LVL953:
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8552              		.loc 1 3619 27 discriminator 1 view .LVU2895
 8553 003c FFF7FEFF 		bl	chk_lock
 8554              	.LVL954:
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8555              		.loc 1 3621 3 is_stmt 1 view .LVU2896
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8556              		.loc 1 3621 6 is_stmt 0 view .LVU2897
 8557 0040 0446     		mov	r4, r0
 8558 0042 0028     		cmp	r0, #0
 8559 0044 E8D1     		bne	.L644
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8560              		.loc 1 3622 4 is_stmt 1 view .LVU2898
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8561              		.loc 1 3622 8 is_stmt 0 view .LVU2899
 8562 0046 DDF84C18 		ldr	r1, [sp, #2124]
 8563              	.LVL955:
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8564              		.loc 1 3623 4 is_stmt 1 view .LVU2900
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8565              		.loc 1 3623 7 is_stmt 0 view .LVU2901
 8566 004a 0029     		cmp	r1, #0
 8567 004c 41D0     		beq	.L648
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8568              		.loc 1 3626 5 is_stmt 1 view .LVU2902
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8569              		.loc 1 3626 12 is_stmt 0 view .LVU2903
 8570 004e CD7A     		ldrb	r5, [r1, #11]	@ zero_extendqisi2
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8571              		.loc 1 3626 8 view .LVU2904
 8572 0050 15F0010F 		tst	r5, #1
 8573 0054 3FD1     		bne	.L649
 8574              	.LVL956:
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
 8575              		.loc 1 3629 4 is_stmt 1 view .LVU2905
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8576              		.loc 1 3630 5 view .LVU2906
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8577              		.loc 1 3630 13 is_stmt 0 view .LVU2907
 8578 0056 DDF83808 		ldr	r0, [sp, #2104]
 8579 005a FFF7FEFF 		bl	ld_clust
 8580              	.LVL957:
ARM GAS  /tmp/ccc896J6.s 			page 272


3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8581              		.loc 1 3631 5 is_stmt 1 view .LVU2908
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8582              		.loc 1 3631 8 is_stmt 0 view .LVU2909
 8583 005e 0646     		mov	r6, r0
 8584 0060 10B1     		cbz	r0, .L645
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8585              		.loc 1 3631 15 discriminator 1 view .LVU2910
 8586 0062 15F0100F 		tst	r5, #16
 8587 0066 11D1     		bne	.L653
 8588              	.LVL958:
 8589              	.L645:
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8590              		.loc 1 3649 4 is_stmt 1 view .LVU2911
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8591              		.loc 1 3649 7 is_stmt 0 view .LVU2912
 8592 0068 002C     		cmp	r4, #0
 8593 006a D5D1     		bne	.L644
 8594              	.LVL959:
 8595              	.L646:
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 8596              		.loc 1 3650 5 is_stmt 1 view .LVU2913
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 8597              		.loc 1 3650 11 is_stmt 0 view .LVU2914
 8598 006c 0DF58760 		add	r0, sp, #1080
 8599 0070 FFF7FEFF 		bl	dir_remove
 8600              	.LVL960:
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8601              		.loc 1 3651 5 is_stmt 1 view .LVU2915
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8602              		.loc 1 3651 8 is_stmt 0 view .LVU2916
 8603 0074 0446     		mov	r4, r0
 8604 0076 0028     		cmp	r0, #0
 8605 0078 CED1     		bne	.L644
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8606              		.loc 1 3651 22 discriminator 1 view .LVU2917
 8607 007a 1EBB     		cbnz	r6, .L654
 8608              	.LVL961:
 8609              	.L647:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8610              		.loc 1 3653 5 is_stmt 1 view .LVU2918
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8611              		.loc 1 3653 8 is_stmt 0 view .LVU2919
 8612 007c 002C     		cmp	r4, #0
 8613 007e CBD1     		bne	.L644
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8614              		.loc 1 3653 23 is_stmt 1 discriminator 1 view .LVU2920
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8615              		.loc 1 3653 29 is_stmt 0 discriminator 1 view .LVU2921
 8616 0080 DDF83808 		ldr	r0, [sp, #2104]
 8617 0084 FFF7FEFF 		bl	sync_fs
 8618              	.LVL962:
 8619 0088 0446     		mov	r4, r0
 8620              	.LVL963:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8621              		.loc 1 3653 29 discriminator 1 view .LVU2922
 8622 008a C5E7     		b	.L644
ARM GAS  /tmp/ccc896J6.s 			page 273


 8623              	.LVL964:
 8624              	.L653:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8625              		.loc 1 3638 7 is_stmt 1 view .LVU2923
 8626 008c 06AC     		add	r4, sp, #24
 8627              	.LVL965:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8628              		.loc 1 3638 7 is_stmt 0 view .LVU2924
 8629 008e 4FF48462 		mov	r2, #1056
 8630 0092 0DF58761 		add	r1, sp, #1080
 8631 0096 2046     		mov	r0, r4
 8632              	.LVL966:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8633              		.loc 1 3638 7 view .LVU2925
 8634 0098 FFF7FEFF 		bl	mem_cpy
 8635              	.LVL967:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8636              		.loc 1 3639 7 is_stmt 1 view .LVU2926
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8637              		.loc 1 3639 18 is_stmt 0 view .LVU2927
 8638 009c CDF82064 		str	r6, [sp, #1056]
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8639              		.loc 1 3640 7 is_stmt 1 view .LVU2928
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8640              		.loc 1 3640 13 is_stmt 0 view .LVU2929
 8641 00a0 0221     		movs	r1, #2
 8642 00a2 2046     		mov	r0, r4
 8643 00a4 FFF7FEFF 		bl	dir_sdi
 8644              	.LVL968:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8645              		.loc 1 3641 7 is_stmt 1 view .LVU2930
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8646              		.loc 1 3641 10 is_stmt 0 view .LVU2931
 8647 00a8 0446     		mov	r4, r0
 8648 00aa 0028     		cmp	r0, #0
 8649 00ac B4D1     		bne	.L644
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8650              		.loc 1 3642 8 is_stmt 1 view .LVU2932
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8651              		.loc 1 3642 14 is_stmt 0 view .LVU2933
 8652 00ae 0021     		movs	r1, #0
 8653 00b0 06A8     		add	r0, sp, #24
 8654              	.LVL969:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8655              		.loc 1 3642 14 view .LVU2934
 8656 00b2 FFF7FEFF 		bl	dir_read
 8657              	.LVL970:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8658              		.loc 1 3643 8 is_stmt 1 view .LVU2935
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8659              		.loc 1 3643 11 is_stmt 0 view .LVU2936
 8660 00b6 0446     		mov	r4, r0
 8661 00b8 10B1     		cbz	r0, .L650
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8662              		.loc 1 3644 8 is_stmt 1 view .LVU2937
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8663              		.loc 1 3644 11 is_stmt 0 view .LVU2938
ARM GAS  /tmp/ccc896J6.s 			page 274


 8664 00ba 0428     		cmp	r0, #4
 8665 00bc D4D1     		bne	.L645
 8666 00be D5E7     		b	.L646
 8667              	.L650:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8668              		.loc 1 3643 30 discriminator 1 view .LVU2939
 8669 00c0 0724     		movs	r4, #7
 8670 00c2 D1E7     		b	.L645
 8671              	.LVL971:
 8672              	.L654:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8673              		.loc 1 3652 6 is_stmt 1 view .LVU2940
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8674              		.loc 1 3652 12 is_stmt 0 view .LVU2941
 8675 00c4 3146     		mov	r1, r6
 8676 00c6 DDF83808 		ldr	r0, [sp, #2104]
 8677              	.LVL972:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8678              		.loc 1 3652 12 view .LVU2942
 8679 00ca FFF7FEFF 		bl	remove_chain
 8680              	.LVL973:
 8681 00ce 0446     		mov	r4, r0
 8682              	.LVL974:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8683              		.loc 1 3652 12 view .LVU2943
 8684 00d0 D4E7     		b	.L647
 8685              	.LVL975:
 8686              	.L648:
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8687              		.loc 1 3624 9 view .LVU2944
 8688 00d2 0624     		movs	r4, #6
 8689 00d4 A0E7     		b	.L644
 8690              	.L649:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8691              		.loc 1 3627 10 view .LVU2945
 8692 00d6 0724     		movs	r4, #7
 8693 00d8 9EE7     		b	.L644
 8694              		.cfi_endproc
 8695              	.LFE112:
 8697              		.section	.text.f_mkdir,"ax",%progbits
 8698              		.align	1
 8699              		.global	f_mkdir
 8700              		.syntax unified
 8701              		.thumb
 8702              		.thumb_func
 8704              	f_mkdir:
 8705              	.LVL976:
 8706              	.LFB113:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8707              		.loc 1 3672 1 is_stmt 1 view -0
 8708              		.cfi_startproc
 8709              		@ args = 0, pretend = 0, frame = 1088
 8710              		@ frame_needed = 0, uses_anonymous_args = 0
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8711              		.loc 1 3672 1 is_stmt 0 view .LVU2947
 8712 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8713              	.LCFI87:
ARM GAS  /tmp/ccc896J6.s 			page 275


 8714              		.cfi_def_cfa_offset 36
 8715              		.cfi_offset 4, -36
 8716              		.cfi_offset 5, -32
 8717              		.cfi_offset 6, -28
 8718              		.cfi_offset 7, -24
 8719              		.cfi_offset 8, -20
 8720              		.cfi_offset 9, -16
 8721              		.cfi_offset 10, -12
 8722              		.cfi_offset 11, -8
 8723              		.cfi_offset 14, -4
 8724 0004 ADF2444D 		subw	sp, sp, #1092
 8725              	.LCFI88:
 8726              		.cfi_def_cfa_offset 1128
 8727 0008 03AD     		add	r5, sp, #12
 8728 000a 0390     		str	r0, [sp, #12]
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8729              		.loc 1 3673 2 is_stmt 1 view .LVU2948
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
 8730              		.loc 1 3674 2 view .LVU2949
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 8731              		.loc 1 3675 2 view .LVU2950
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8732              		.loc 1 3676 2 view .LVU2951
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8733              		.loc 1 3676 28 is_stmt 0 view .LVU2952
 8734 000c FFF7FEFF 		bl	get_fattime
 8735              	.LVL977:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8736              		.loc 1 3676 28 view .LVU2953
 8737 0010 0446     		mov	r4, r0
 8738              	.LVL978:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8739              		.loc 1 3677 2 is_stmt 1 view .LVU2954
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8740              		.loc 1 3681 2 view .LVU2955
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8741              		.loc 1 3681 8 is_stmt 0 view .LVU2956
 8742 0012 0122     		movs	r2, #1
 8743 0014 2946     		mov	r1, r5
 8744 0016 0DF58460 		add	r0, sp, #1056
 8745              	.LVL979:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8746              		.loc 1 3681 8 view .LVU2957
 8747 001a FFF7FEFF 		bl	find_volume
 8748              	.LVL980:
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8749              		.loc 1 3682 2 is_stmt 1 view .LVU2958
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8750              		.loc 1 3682 5 is_stmt 0 view .LVU2959
 8751 001e 0546     		mov	r5, r0
 8752 0020 20B1     		cbz	r0, .L672
 8753              	.LVL981:
 8754              	.L656:
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8755              		.loc 1 3730 13 is_stmt 1 view .LVU2960
3733:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8756              		.loc 1 3733 2 view .LVU2961
ARM GAS  /tmp/ccc896J6.s 			page 276


3734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8757              		.loc 1 3734 1 is_stmt 0 view .LVU2962
 8758 0022 2846     		mov	r0, r5
 8759 0024 0DF2444D 		addw	sp, sp, #1092
 8760              	.LCFI89:
 8761              		.cfi_remember_state
 8762              		.cfi_def_cfa_offset 36
 8763              		@ sp needed
 8764 0028 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8765              	.LVL982:
 8766              	.L672:
 8767              	.LCFI90:
 8768              		.cfi_restore_state
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 8769              		.loc 1 3683 3 is_stmt 1 view .LVU2963
 8770 002c 08A8     		add	r0, sp, #32
 8771              	.LVL983:
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 8772              		.loc 1 3683 3 is_stmt 0 view .LVU2964
 8773 002e 05AB     		add	r3, sp, #20
 8774 0030 C0F81834 		str	r3, [r0, #1048]
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8775              		.loc 1 3684 3 is_stmt 1 view .LVU2965
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8776              		.loc 1 3684 9 is_stmt 0 view .LVU2966
 8777 0034 0399     		ldr	r1, [sp, #12]
 8778 0036 FFF7FEFF 		bl	follow_path
 8779              	.LVL984:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8780              		.loc 1 3685 3 is_stmt 1 view .LVU2967
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8781              		.loc 1 3685 6 is_stmt 0 view .LVU2968
 8782 003a 0028     		cmp	r0, #0
 8783 003c 00F0AB80 		beq	.L665
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 8784              		.loc 1 3686 3 is_stmt 1 view .LVU2969
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8785              		.loc 1 3688 3 view .LVU2970
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8786              		.loc 1 3688 6 is_stmt 0 view .LVU2971
 8787 0040 0428     		cmp	r0, #4
 8788 0042 01D0     		beq	.L673
 8789 0044 0546     		mov	r5, r0
 8790 0046 ECE7     		b	.L656
 8791              	.L673:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8792              		.loc 1 3689 4 is_stmt 1 view .LVU2972
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8793              		.loc 1 3689 10 is_stmt 0 view .LVU2973
 8794 0048 0021     		movs	r1, #0
 8795 004a DDF82004 		ldr	r0, [sp, #1056]
 8796              	.LVL985:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8797              		.loc 1 3689 10 view .LVU2974
 8798 004e FFF7FEFF 		bl	create_chain
 8799              	.LVL986:
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
ARM GAS  /tmp/ccc896J6.s 			page 277


 8800              		.loc 1 3690 4 is_stmt 1 view .LVU2975
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8801              		.loc 1 3691 4 view .LVU2976
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8802              		.loc 1 3691 7 is_stmt 0 view .LVU2977
 8803 0052 0646     		mov	r6, r0
 8804 0054 18B1     		cbz	r0, .L667
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8805              		.loc 1 3692 4 is_stmt 1 view .LVU2978
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8806              		.loc 1 3692 7 is_stmt 0 view .LVU2979
 8807 0056 0128     		cmp	r0, #1
 8808 0058 02D1     		bne	.L657
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8809              		.loc 1 3692 22 discriminator 1 view .LVU2980
 8810 005a 0225     		movs	r5, #2
 8811 005c 04E0     		b	.L658
 8812              	.L667:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8813              		.loc 1 3691 22 discriminator 1 view .LVU2981
 8814 005e 0725     		movs	r5, #7
 8815              	.L657:
 8816              	.LVL987:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8817              		.loc 1 3693 4 is_stmt 1 view .LVU2982
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8818              		.loc 1 3693 7 is_stmt 0 view .LVU2983
 8819 0060 B6F1FF3F 		cmp	r6, #-1
 8820 0064 00F09580 		beq	.L674
 8821              	.LVL988:
 8822              	.L658:
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8823              		.loc 1 3694 4 is_stmt 1 view .LVU2984
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8824              		.loc 1 3694 7 is_stmt 0 view .LVU2985
 8825 0068 2DB1     		cbz	r5, .L675
 8826              	.LVL989:
 8827              	.L659:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8828              		.loc 1 3720 5 is_stmt 1 view .LVU2986
 8829 006a 3146     		mov	r1, r6
 8830 006c DDF82004 		ldr	r0, [sp, #1056]
 8831 0070 FFF7FEFF 		bl	remove_chain
 8832              	.LVL990:
 8833 0074 D5E7     		b	.L656
 8834              	.LVL991:
 8835              	.L675:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8836              		.loc 1 3695 5 view .LVU2987
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8837              		.loc 1 3695 11 is_stmt 0 view .LVU2988
 8838 0076 DDF82004 		ldr	r0, [sp, #1056]
 8839              	.LVL992:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8840              		.loc 1 3695 11 view .LVU2989
 8841 007a FFF7FEFF 		bl	sync_window
 8842              	.LVL993:
ARM GAS  /tmp/ccc896J6.s 			page 278


3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8843              		.loc 1 3696 4 is_stmt 1 view .LVU2990
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8844              		.loc 1 3696 7 is_stmt 0 view .LVU2991
 8845 007e 0546     		mov	r5, r0
 8846 0080 0028     		cmp	r0, #0
 8847 0082 F2D1     		bne	.L659
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8848              		.loc 1 3697 5 is_stmt 1 view .LVU2992
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8849              		.loc 1 3697 11 is_stmt 0 view .LVU2993
 8850 0084 DDF82084 		ldr	r8, [sp, #1056]
 8851 0088 3146     		mov	r1, r6
 8852 008a 4046     		mov	r0, r8
 8853              	.LVL994:
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8854              		.loc 1 3697 11 view .LVU2994
 8855 008c FFF7FEFF 		bl	clust2sect
 8856              	.LVL995:
 8857 0090 0746     		mov	r7, r0
 8858              	.LVL996:
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 8859              		.loc 1 3698 5 is_stmt 1 view .LVU2995
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8860              		.loc 1 3699 5 view .LVU2996
 8861 0092 B8F80A24 		ldrh	r2, [r8, #1034]
 8862 0096 0021     		movs	r1, #0
 8863 0098 4046     		mov	r0, r8
 8864              	.LVL997:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8865              		.loc 1 3699 5 is_stmt 0 view .LVU2997
 8866 009a FFF7FEFF 		bl	mem_set
 8867              	.LVL998:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 8868              		.loc 1 3700 5 is_stmt 1 view .LVU2998
 8869 009e 0B22     		movs	r2, #11
 8870 00a0 2021     		movs	r1, #32
 8871 00a2 4046     		mov	r0, r8
 8872 00a4 FFF7FEFF 		bl	mem_set
 8873              	.LVL999:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8874              		.loc 1 3701 5 view .LVU2999
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8875              		.loc 1 3701 19 is_stmt 0 view .LVU3000
 8876 00a8 4FF02E0A 		mov	r10, #46
 8877 00ac 88F800A0 		strb	r10, [r8]
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8878              		.loc 1 3702 5 is_stmt 1 view .LVU3001
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8879              		.loc 1 3702 19 is_stmt 0 view .LVU3002
 8880 00b0 1023     		movs	r3, #16
 8881 00b2 88F80B30 		strb	r3, [r8, #11]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8882              		.loc 1 3703 5 is_stmt 1 view .LVU3003
 8883 00b6 5FFA84FB 		uxtb	fp, r4
 8884 00ba 88F816B0 		strb	fp, [r8, #22]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
ARM GAS  /tmp/ccc896J6.s 			page 279


 8885              		.loc 1 3703 5 view .LVU3004
 8886 00be C4F30723 		ubfx	r3, r4, #8, #8
 8887 00c2 0093     		str	r3, [sp]
 8888 00c4 88F81730 		strb	r3, [r8, #23]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8889              		.loc 1 3703 5 view .LVU3005
 8890 00c8 C4F30743 		ubfx	r3, r4, #16, #8
 8891 00cc 0193     		str	r3, [sp, #4]
 8892 00ce 88F81830 		strb	r3, [r8, #24]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8893              		.loc 1 3703 5 view .LVU3006
 8894 00d2 230E     		lsrs	r3, r4, #24
 8895 00d4 0293     		str	r3, [sp, #8]
 8896 00d6 88F81930 		strb	r3, [r8, #25]
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 8897              		.loc 1 3704 5 view .LVU3007
 8898 00da 3146     		mov	r1, r6
 8899 00dc 4046     		mov	r0, r8
 8900 00de FFF7FEFF 		bl	st_clust
 8901              	.LVL1000:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8902              		.loc 1 3705 5 view .LVU3008
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8903              		.loc 1 3705 17 is_stmt 0 view .LVU3009
 8904 00e2 08F12004 		add	r4, r8, #32
 8905              	.LVL1001:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8906              		.loc 1 3705 5 view .LVU3010
 8907 00e6 2022     		movs	r2, #32
 8908 00e8 4146     		mov	r1, r8
 8909 00ea 2046     		mov	r0, r4
 8910 00ec FFF7FEFF 		bl	mem_cpy
 8911              	.LVL1002:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8912              		.loc 1 3706 5 is_stmt 1 view .LVU3011
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8913              		.loc 1 3706 22 is_stmt 0 view .LVU3012
 8914 00f0 88F821A0 		strb	r10, [r8, #33]
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8915              		.loc 1 3706 29 is_stmt 1 view .LVU3013
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8916              		.loc 1 3706 33 is_stmt 0 view .LVU3014
 8917 00f4 DDF82814 		ldr	r1, [sp, #1064]
 8918              	.LVL1003:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8919              		.loc 1 3707 5 is_stmt 1 view .LVU3015
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8920              		.loc 1 3707 11 is_stmt 0 view .LVU3016
 8921 00f8 DDF82034 		ldr	r3, [sp, #1056]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8922              		.loc 1 3707 14 view .LVU3017
 8923 00fc 93F80024 		ldrb	r2, [r3, #1024]	@ zero_extendqisi2
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8924              		.loc 1 3707 8 view .LVU3018
 8925 0100 032A     		cmp	r2, #3
 8926 0102 20D0     		beq	.L676
 8927              	.LVL1004:
ARM GAS  /tmp/ccc896J6.s 			page 280


 8928              	.L660:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 8929              		.loc 1 3709 5 is_stmt 1 view .LVU3019
 8930 0104 2046     		mov	r0, r4
 8931 0106 FFF7FEFF 		bl	st_clust
 8932              	.LVL1005:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8933              		.loc 1 3710 5 view .LVU3020
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8934              		.loc 1 3710 16 is_stmt 0 view .LVU3021
 8935 010a DDF82034 		ldr	r3, [sp, #1056]
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8936              		.loc 1 3710 12 view .LVU3022
 8937 010e 93F80244 		ldrb	r4, [r3, #1026]	@ zero_extendqisi2
 8938              	.LVL1006:
 8939              	.L661:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8940              		.loc 1 3710 28 is_stmt 1 discriminator 1 view .LVU3023
 8941 0112 F4B1     		cbz	r4, .L662
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8942              		.loc 1 3711 6 view .LVU3024
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8943              		.loc 1 3711 26 is_stmt 0 view .LVU3025
 8944 0114 07F10109 		add	r9, r7, #1
 8945              	.LVL1007:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8946              		.loc 1 3711 8 view .LVU3026
 8947 0118 DDF82004 		ldr	r0, [sp, #1056]
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8948              		.loc 1 3711 21 view .LVU3027
 8949 011c C0F82C74 		str	r7, [r0, #1068]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8950              		.loc 1 3712 6 is_stmt 1 view .LVU3028
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8951              		.loc 1 3712 19 is_stmt 0 view .LVU3029
 8952 0120 0123     		movs	r3, #1
 8953 0122 80F80434 		strb	r3, [r0, #1028]
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8954              		.loc 1 3713 6 is_stmt 1 view .LVU3030
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8955              		.loc 1 3713 12 is_stmt 0 view .LVU3031
 8956 0126 FFF7FEFF 		bl	sync_window
 8957              	.LVL1008:
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8958              		.loc 1 3714 6 is_stmt 1 view .LVU3032
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8959              		.loc 1 3714 9 is_stmt 0 view .LVU3033
 8960 012a 0546     		mov	r5, r0
 8961 012c 88B9     		cbnz	r0, .L662
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8962              		.loc 1 3715 6 is_stmt 1 view .LVU3034
 8963 012e DDF82034 		ldr	r3, [sp, #1056]
 8964 0132 B3F80A24 		ldrh	r2, [r3, #1034]
 8965 0136 0021     		movs	r1, #0
 8966 0138 4046     		mov	r0, r8
 8967              	.LVL1009:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccc896J6.s 			page 281


 8968              		.loc 1 3715 6 is_stmt 0 view .LVU3035
 8969 013a FFF7FEFF 		bl	mem_set
 8970              	.LVL1010:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8971              		.loc 1 3710 32 is_stmt 1 discriminator 2 view .LVU3036
 8972 013e 013C     		subs	r4, r4, #1
 8973              	.LVL1011:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8974              		.loc 1 3710 32 is_stmt 0 discriminator 2 view .LVU3037
 8975 0140 E4B2     		uxtb	r4, r4
 8976              	.LVL1012:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8977              		.loc 1 3711 26 view .LVU3038
 8978 0142 4F46     		mov	r7, r9
 8979 0144 E5E7     		b	.L661
 8980              	.LVL1013:
 8981              	.L676:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8982              		.loc 1 3707 51 discriminator 1 view .LVU3039
 8983 0146 D3F82434 		ldr	r3, [r3, #1060]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8984              		.loc 1 3707 36 discriminator 1 view .LVU3040
 8985 014a 8B42     		cmp	r3, r1
 8986 014c DAD1     		bne	.L660
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8987              		.loc 1 3708 10 view .LVU3041
 8988 014e 0021     		movs	r1, #0
 8989              	.LVL1014:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8990              		.loc 1 3708 10 view .LVU3042
 8991 0150 D8E7     		b	.L660
 8992              	.LVL1015:
 8993              	.L662:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8994              		.loc 1 3718 4 is_stmt 1 view .LVU3043
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8995              		.loc 1 3718 7 is_stmt 0 view .LVU3044
 8996 0152 002D     		cmp	r5, #0
 8997 0154 89D1     		bne	.L659
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8998              		.loc 1 3718 22 is_stmt 1 discriminator 1 view .LVU3045
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8999              		.loc 1 3718 28 is_stmt 0 discriminator 1 view .LVU3046
 9000 0156 08A8     		add	r0, sp, #32
 9001 0158 FFF7FEFF 		bl	dir_register
 9002              	.LVL1016:
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 9003              		.loc 1 3719 4 is_stmt 1 view .LVU3047
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 9004              		.loc 1 3719 7 is_stmt 0 view .LVU3048
 9005 015c 0546     		mov	r5, r0
 9006 015e 0028     		cmp	r0, #0
 9007 0160 83D1     		bne	.L659
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9008              		.loc 1 3722 5 is_stmt 1 view .LVU3049
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9009              		.loc 1 3722 9 is_stmt 0 view .LVU3050
ARM GAS  /tmp/ccc896J6.s 			page 282


 9010 0162 DDF83404 		ldr	r0, [sp, #1076]
 9011              	.LVL1017:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 9012              		.loc 1 3723 5 is_stmt 1 view .LVU3051
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 9013              		.loc 1 3723 19 is_stmt 0 view .LVU3052
 9014 0166 1023     		movs	r3, #16
 9015 0168 C372     		strb	r3, [r0, #11]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9016              		.loc 1 3724 5 is_stmt 1 view .LVU3053
 9017 016a 80F816B0 		strb	fp, [r0, #22]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9018              		.loc 1 3724 5 view .LVU3054
 9019 016e 009B     		ldr	r3, [sp]
 9020 0170 C375     		strb	r3, [r0, #23]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9021              		.loc 1 3724 5 view .LVU3055
 9022 0172 019B     		ldr	r3, [sp, #4]
 9023 0174 0376     		strb	r3, [r0, #24]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9024              		.loc 1 3724 5 view .LVU3056
 9025 0176 029B     		ldr	r3, [sp, #8]
 9026 0178 4376     		strb	r3, [r0, #25]
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9027              		.loc 1 3725 5 view .LVU3057
 9028 017a 3146     		mov	r1, r6
 9029 017c FFF7FEFF 		bl	st_clust
 9030              	.LVL1018:
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9031              		.loc 1 3726 5 view .LVU3058
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9032              		.loc 1 3726 7 is_stmt 0 view .LVU3059
 9033 0180 DDF82004 		ldr	r0, [sp, #1056]
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9034              		.loc 1 3726 18 view .LVU3060
 9035 0184 0123     		movs	r3, #1
 9036 0186 80F80434 		strb	r3, [r0, #1028]
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9037              		.loc 1 3727 5 is_stmt 1 view .LVU3061
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9038              		.loc 1 3727 11 is_stmt 0 view .LVU3062
 9039 018a FFF7FEFF 		bl	sync_fs
 9040              	.LVL1019:
 9041 018e 0546     		mov	r5, r0
 9042              	.LVL1020:
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9043              		.loc 1 3727 11 view .LVU3063
 9044 0190 47E7     		b	.L656
 9045              	.LVL1021:
 9046              	.L674:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9047              		.loc 1 3693 31 discriminator 1 view .LVU3064
 9048 0192 0125     		movs	r5, #1
 9049              	.LVL1022:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9050              		.loc 1 3693 31 discriminator 1 view .LVU3065
 9051 0194 69E7     		b	.L659
ARM GAS  /tmp/ccc896J6.s 			page 283


 9052              	.LVL1023:
 9053              	.L665:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 9054              		.loc 1 3685 25 discriminator 1 view .LVU3066
 9055 0196 0825     		movs	r5, #8
 9056 0198 43E7     		b	.L656
 9057              		.cfi_endproc
 9058              	.LFE113:
 9060              		.section	.text.f_chmod,"ax",%progbits
 9061              		.align	1
 9062              		.global	f_chmod
 9063              		.syntax unified
 9064              		.thumb
 9065              		.thumb_func
 9067              	f_chmod:
 9068              	.LVL1024:
 9069              	.LFB114:
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9070              		.loc 1 3748 1 is_stmt 1 view -0
 9071              		.cfi_startproc
 9072              		@ args = 0, pretend = 0, frame = 1080
 9073              		@ frame_needed = 0, uses_anonymous_args = 0
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9074              		.loc 1 3748 1 is_stmt 0 view .LVU3068
 9075 0000 30B5     		push	{r4, r5, lr}
 9076              	.LCFI91:
 9077              		.cfi_def_cfa_offset 12
 9078              		.cfi_offset 4, -12
 9079              		.cfi_offset 5, -8
 9080              		.cfi_offset 14, -4
 9081 0002 ADF23C4D 		subw	sp, sp, #1084
 9082              	.LCFI92:
 9083              		.cfi_def_cfa_offset 1096
 9084 0006 01AB     		add	r3, sp, #4
 9085 0008 0190     		str	r0, [sp, #4]
 9086 000a 0D46     		mov	r5, r1
 9087 000c 1446     		mov	r4, r2
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9088              		.loc 1 3749 2 is_stmt 1 view .LVU3069
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9089              		.loc 1 3750 2 view .LVU3070
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9090              		.loc 1 3751 2 view .LVU3071
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9091              		.loc 1 3752 2 view .LVU3072
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9092              		.loc 1 3756 2 view .LVU3073
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9093              		.loc 1 3756 8 is_stmt 0 view .LVU3074
 9094 000e 0122     		movs	r2, #1
 9095              	.LVL1025:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9096              		.loc 1 3756 8 view .LVU3075
 9097 0010 1946     		mov	r1, r3
 9098              	.LVL1026:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9099              		.loc 1 3756 8 view .LVU3076
ARM GAS  /tmp/ccc896J6.s 			page 284


 9100 0012 0DF58360 		add	r0, sp, #1048
 9101              	.LVL1027:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9102              		.loc 1 3756 8 view .LVU3077
 9103 0016 FFF7FEFF 		bl	find_volume
 9104              	.LVL1028:
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9105              		.loc 1 3757 2 is_stmt 1 view .LVU3078
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9106              		.loc 1 3757 5 is_stmt 0 view .LVU3079
 9107 001a 10B1     		cbz	r0, .L681
 9108              	.LVL1029:
 9109              	.L678:
3776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9110              		.loc 1 3776 2 is_stmt 1 view .LVU3080
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9111              		.loc 1 3777 1 is_stmt 0 view .LVU3081
 9112 001c 0DF23C4D 		addw	sp, sp, #1084
 9113              	.LCFI93:
 9114              		.cfi_remember_state
 9115              		.cfi_def_cfa_offset 12
 9116              		@ sp needed
 9117 0020 30BD     		pop	{r4, r5, pc}
 9118              	.LVL1030:
 9119              	.L681:
 9120              	.LCFI94:
 9121              		.cfi_restore_state
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9122              		.loc 1 3758 3 is_stmt 1 view .LVU3082
 9123 0022 06A8     		add	r0, sp, #24
 9124 0024 03AB     		add	r3, sp, #12
 9125 0026 C0F81834 		str	r3, [r0, #1048]
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9126              		.loc 1 3759 3 view .LVU3083
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9127              		.loc 1 3759 9 is_stmt 0 view .LVU3084
 9128 002a 0199     		ldr	r1, [sp, #4]
 9129 002c FFF7FEFF 		bl	follow_path
 9130              	.LVL1031:
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9131              		.loc 1 3760 13 is_stmt 1 view .LVU3085
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9132              		.loc 1 3761 3 view .LVU3086
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9133              		.loc 1 3763 3 view .LVU3087
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9134              		.loc 1 3763 6 is_stmt 0 view .LVU3088
 9135 0030 0028     		cmp	r0, #0
 9136 0032 F3D1     		bne	.L678
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 9137              		.loc 1 3764 4 is_stmt 1 view .LVU3089
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 9138              		.loc 1 3764 8 is_stmt 0 view .LVU3090
 9139 0034 DDF82C04 		ldr	r0, [sp, #1068]
 9140              	.LVL1032:
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9141              		.loc 1 3765 4 is_stmt 1 view .LVU3091
ARM GAS  /tmp/ccc896J6.s 			page 285


3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9142              		.loc 1 3765 7 is_stmt 0 view .LVU3092
 9143 0038 78B1     		cbz	r0, .L679
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 9144              		.loc 1 3768 5 is_stmt 1 view .LVU3093
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 9145              		.loc 1 3768 10 is_stmt 0 view .LVU3094
 9146 003a 04F02702 		and	r2, r4, #39
 9147              	.LVL1033:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9148              		.loc 1 3769 5 is_stmt 1 view .LVU3095
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9149              		.loc 1 3769 41 is_stmt 0 view .LVU3096
 9150 003e C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9151              		.loc 1 3769 19 view .LVU3097
 9152 0040 83EA0501 		eor	r1, r3, r5
 9153 0044 0A40     		ands	r2, r2, r1
 9154              	.LVL1034:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9155              		.loc 1 3769 19 view .LVU3098
 9156 0046 5340     		eors	r3, r3, r2
 9157 0048 C372     		strb	r3, [r0, #11]
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9158              		.loc 1 3770 5 is_stmt 1 view .LVU3099
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9159              		.loc 1 3770 7 is_stmt 0 view .LVU3100
 9160 004a DDF81804 		ldr	r0, [sp, #1048]
 9161              	.LVL1035:
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9162              		.loc 1 3770 18 view .LVU3101
 9163 004e 0123     		movs	r3, #1
 9164 0050 80F80434 		strb	r3, [r0, #1028]
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9165              		.loc 1 3771 5 is_stmt 1 view .LVU3102
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9166              		.loc 1 3771 11 is_stmt 0 view .LVU3103
 9167 0054 FFF7FEFF 		bl	sync_fs
 9168              	.LVL1036:
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9169              		.loc 1 3771 11 view .LVU3104
 9170 0058 E0E7     		b	.L678
 9171              	.LVL1037:
 9172              	.L679:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 9173              		.loc 1 3766 9 view .LVU3105
 9174 005a 0620     		movs	r0, #6
 9175              	.LVL1038:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 9176              		.loc 1 3766 9 view .LVU3106
 9177 005c DEE7     		b	.L678
 9178              		.cfi_endproc
 9179              	.LFE114:
 9181              		.section	.text.f_rename,"ax",%progbits
 9182              		.align	1
 9183              		.global	f_rename
 9184              		.syntax unified
ARM GAS  /tmp/ccc896J6.s 			page 286


 9185              		.thumb
 9186              		.thumb_func
 9188              	f_rename:
 9189              	.LVL1039:
 9190              	.LFB115:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9191              		.loc 1 3790 1 is_stmt 1 view -0
 9192              		.cfi_startproc
 9193              		@ args = 0, pretend = 0, frame = 2160
 9194              		@ frame_needed = 0, uses_anonymous_args = 0
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9195              		.loc 1 3790 1 is_stmt 0 view .LVU3108
 9196 0000 70B5     		push	{r4, r5, r6, lr}
 9197              	.LCFI95:
 9198              		.cfi_def_cfa_offset 16
 9199              		.cfi_offset 4, -16
 9200              		.cfi_offset 5, -12
 9201              		.cfi_offset 6, -8
 9202              		.cfi_offset 14, -4
 9203 0002 ADF5076D 		sub	sp, sp, #2160
 9204              	.LCFI96:
 9205              		.cfi_def_cfa_offset 2176
 9206 0006 01AB     		add	r3, sp, #4
 9207 0008 0190     		str	r0, [sp, #4]
 9208 000a 0091     		str	r1, [sp]
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 9209              		.loc 1 3791 2 is_stmt 1 view .LVU3109
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
 9210              		.loc 1 3792 2 view .LVU3110
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 9211              		.loc 1 3793 2 view .LVU3111
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9212              		.loc 1 3794 2 view .LVU3112
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9213              		.loc 1 3795 2 view .LVU3113
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9214              		.loc 1 3799 2 view .LVU3114
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9215              		.loc 1 3799 8 is_stmt 0 view .LVU3115
 9216 000c 0122     		movs	r2, #1
 9217 000e 1946     		mov	r1, r3
 9218              	.LVL1040:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9219              		.loc 1 3799 8 view .LVU3116
 9220 0010 0DF50560 		add	r0, sp, #2128
 9221              	.LVL1041:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9222              		.loc 1 3799 8 view .LVU3117
 9223 0014 FFF7FEFF 		bl	find_volume
 9224              	.LVL1042:
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9225              		.loc 1 3800 2 is_stmt 1 view .LVU3118
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9226              		.loc 1 3800 5 is_stmt 0 view .LVU3119
 9227 0018 0446     		mov	r4, r0
 9228 001a 18B1     		cbz	r0, .L691
 9229              	.LVL1043:
ARM GAS  /tmp/ccc896J6.s 			page 287


 9230              	.L683:
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9231              		.loc 1 3851 13 is_stmt 1 view .LVU3120
3854:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9232              		.loc 1 3854 2 view .LVU3121
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9233              		.loc 1 3855 1 is_stmt 0 view .LVU3122
 9234 001c 2046     		mov	r0, r4
 9235 001e 0DF5076D 		add	sp, sp, #2160
 9236              	.LCFI97:
 9237              		.cfi_remember_state
 9238              		.cfi_def_cfa_offset 16
 9239              		@ sp needed
 9240 0022 70BD     		pop	{r4, r5, r6, pc}
 9241              	.LVL1044:
 9242              	.L691:
 9243              	.LCFI98:
 9244              		.cfi_restore_state
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9245              		.loc 1 3801 3 is_stmt 1 view .LVU3123
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9246              		.loc 1 3801 15 is_stmt 0 view .LVU3124
 9247 0024 0DF58A60 		add	r0, sp, #1104
 9248              	.LVL1045:
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9249              		.loc 1 3801 15 view .LVU3125
 9250 0028 D0F80024 		ldr	r2, [r0, #1024]
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9251              		.loc 1 3801 10 view .LVU3126
 9252 002c CDF83024 		str	r2, [sp, #1072]
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9253              		.loc 1 3802 3 is_stmt 1 view .LVU3127
 9254 0030 03AB     		add	r3, sp, #12
 9255 0032 C0F81834 		str	r3, [r0, #1048]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9256              		.loc 1 3803 3 view .LVU3128
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9257              		.loc 1 3803 9 is_stmt 0 view .LVU3129
 9258 0036 0199     		ldr	r1, [sp, #4]
 9259 0038 FFF7FEFF 		bl	follow_path
 9260              	.LVL1046:
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9261              		.loc 1 3804 3 is_stmt 1 view .LVU3130
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9262              		.loc 1 3807 3 view .LVU3131
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9263              		.loc 1 3807 6 is_stmt 0 view .LVU3132
 9264 003c 0446     		mov	r4, r0
 9265 003e 0028     		cmp	r0, #0
 9266 0040 ECD1     		bne	.L683
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9267              		.loc 1 3807 21 is_stmt 1 discriminator 1 view .LVU3133
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9268              		.loc 1 3807 27 is_stmt 0 discriminator 1 view .LVU3134
 9269 0042 0221     		movs	r1, #2
 9270 0044 0DF58A60 		add	r0, sp, #1104
 9271              	.LVL1047:
ARM GAS  /tmp/ccc896J6.s 			page 288


3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9272              		.loc 1 3807 27 discriminator 1 view .LVU3135
 9273 0048 FFF7FEFF 		bl	chk_lock
 9274              	.LVL1048:
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9275              		.loc 1 3809 3 is_stmt 1 view .LVU3136
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9276              		.loc 1 3809 6 is_stmt 0 view .LVU3137
 9277 004c 0446     		mov	r4, r0
 9278 004e 0028     		cmp	r0, #0
 9279 0050 E4D1     		bne	.L683
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9280              		.loc 1 3810 4 is_stmt 1 view .LVU3138
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9281              		.loc 1 3810 12 is_stmt 0 view .LVU3139
 9282 0052 DDF86418 		ldr	r1, [sp, #2148]
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9283              		.loc 1 3810 7 view .LVU3140
 9284 0056 0029     		cmp	r1, #0
 9285 0058 74D0     		beq	.L686
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9286              		.loc 1 3813 5 is_stmt 1 view .LVU3141
 9287 005a 1522     		movs	r2, #21
 9288 005c 0B31     		adds	r1, r1, #11
 9289 005e 06A8     		add	r0, sp, #24
 9290              	.LVL1049:
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9291              		.loc 1 3813 5 is_stmt 0 view .LVU3142
 9292 0060 FFF7FEFF 		bl	mem_cpy
 9293              	.LVL1050:
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
 9294              		.loc 1 3814 5 is_stmt 1 view .LVU3143
 9295 0064 4FF48462 		mov	r2, #1056
 9296 0068 0DF58A61 		add	r1, sp, #1104
 9297 006c 0CA8     		add	r0, sp, #48
 9298 006e FFF7FEFF 		bl	mem_cpy
 9299              	.LVL1051:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9300              		.loc 1 3815 5 view .LVU3144
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9301              		.loc 1 3815 9 is_stmt 0 view .LVU3145
 9302 0072 6846     		mov	r0, sp
 9303 0074 FFF7FEFF 		bl	get_ldnumber
 9304              	.LVL1052:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9305              		.loc 1 3815 8 discriminator 1 view .LVU3146
 9306 0078 0028     		cmp	r0, #0
 9307 007a 31DA     		bge	.L692
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 9308              		.loc 1 3818 10 view .LVU3147
 9309 007c 0B24     		movs	r4, #11
 9310              	.LVL1053:
 9311              	.L684:
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9312              		.loc 1 3820 5 is_stmt 1 view .LVU3148
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9313              		.loc 1 3820 8 is_stmt 0 view .LVU3149
ARM GAS  /tmp/ccc896J6.s 			page 289


 9314 007e 042C     		cmp	r4, #4
 9315 0080 CCD1     		bne	.L683
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9316              		.loc 1 3821 6 is_stmt 1 view .LVU3150
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9317              		.loc 1 3821 12 is_stmt 0 view .LVU3151
 9318 0082 0CA8     		add	r0, sp, #48
 9319 0084 FFF7FEFF 		bl	dir_register
 9320              	.LVL1054:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9321              		.loc 1 3822 6 is_stmt 1 view .LVU3152
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9322              		.loc 1 3822 9 is_stmt 0 view .LVU3153
 9323 0088 0446     		mov	r4, r0
 9324 008a 0028     		cmp	r0, #0
 9325 008c C6D1     		bne	.L683
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9326              		.loc 1 3824 7 is_stmt 1 view .LVU3154
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9327              		.loc 1 3824 11 is_stmt 0 view .LVU3155
 9328 008e DDF84454 		ldr	r5, [sp, #1092]
 9329              	.LVL1055:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9330              		.loc 1 3825 7 is_stmt 1 view .LVU3156
 9331 0092 1322     		movs	r2, #19
 9332 0094 0DF11A01 		add	r1, sp, #26
 9333 0098 05F10D00 		add	r0, r5, #13
 9334              	.LVL1056:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9335              		.loc 1 3825 7 is_stmt 0 view .LVU3157
 9336 009c FFF7FEFF 		bl	mem_cpy
 9337              	.LVL1057:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9338              		.loc 1 3826 7 is_stmt 1 view .LVU3158
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9339              		.loc 1 3826 26 is_stmt 0 view .LVU3159
 9340 00a0 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9341              		.loc 1 3826 21 view .LVU3160
 9342 00a4 43F02003 		orr	r3, r3, #32
 9343 00a8 EB72     		strb	r3, [r5, #11]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9344              		.loc 1 3827 7 is_stmt 1 view .LVU3161
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9345              		.loc 1 3827 10 is_stmt 0 view .LVU3162
 9346 00aa DDF85068 		ldr	r6, [sp, #2128]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9347              		.loc 1 3827 21 view .LVU3163
 9348 00ae 0123     		movs	r3, #1
 9349 00b0 86F80434 		strb	r3, [r6, #1028]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9350              		.loc 1 3828 7 is_stmt 1 view .LVU3164
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9351              		.loc 1 3828 15 is_stmt 0 view .LVU3165
 9352 00b4 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9353              		.loc 1 3828 10 view .LVU3166
ARM GAS  /tmp/ccc896J6.s 			page 290


 9354 00b6 13F0100F 		tst	r3, #16
 9355 00ba 29D0     		beq	.L685
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9356              		.loc 1 3828 56 discriminator 1 view .LVU3167
 9357 00bc DDF83834 		ldr	r3, [sp, #1080]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9358              		.loc 1 3828 36 discriminator 1 view .LVU3168
 9359 00c0 DDF85828 		ldr	r2, [sp, #2136]
 9360 00c4 9A42     		cmp	r2, r3
 9361 00c6 23D0     		beq	.L685
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9362              		.loc 1 3829 8 is_stmt 1 view .LVU3169
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9363              		.loc 1 3829 13 is_stmt 0 view .LVU3170
 9364 00c8 2946     		mov	r1, r5
 9365 00ca 3046     		mov	r0, r6
 9366 00cc FFF7FEFF 		bl	ld_clust
 9367              	.LVL1058:
 9368 00d0 0146     		mov	r1, r0
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9369              		.loc 1 3829 13 discriminator 1 view .LVU3171
 9370 00d2 3046     		mov	r0, r6
 9371 00d4 FFF7FEFF 		bl	clust2sect
 9372              	.LVL1059:
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9373              		.loc 1 3830 8 is_stmt 1 view .LVU3172
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9374              		.loc 1 3830 11 is_stmt 0 view .LVU3173
 9375 00d8 0146     		mov	r1, r0
 9376 00da 50B9     		cbnz	r0, .L693
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9377              		.loc 1 3831 13 view .LVU3174
 9378 00dc 0224     		movs	r4, #2
 9379              	.LVL1060:
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9380              		.loc 1 3831 13 view .LVU3175
 9381 00de 9DE7     		b	.L683
 9382              	.LVL1061:
 9383              	.L692:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9384              		.loc 1 3816 6 is_stmt 1 view .LVU3176
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9385              		.loc 1 3816 12 is_stmt 0 view .LVU3177
 9386 00e0 0099     		ldr	r1, [sp]
 9387 00e2 0CA8     		add	r0, sp, #48
 9388 00e4 FFF7FEFF 		bl	follow_path
 9389              	.LVL1062:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9390              		.loc 1 3819 5 is_stmt 1 view .LVU3178
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9391              		.loc 1 3819 8 is_stmt 0 view .LVU3179
 9392 00e8 0446     		mov	r4, r0
 9393 00ea 0028     		cmp	r0, #0
 9394 00ec C7D1     		bne	.L684
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9395              		.loc 1 3819 27 discriminator 1 view .LVU3180
 9396 00ee 0824     		movs	r4, #8
ARM GAS  /tmp/ccc896J6.s 			page 291


 9397 00f0 94E7     		b	.L683
 9398              	.LVL1063:
 9399              	.L693:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9400              		.loc 1 3833 9 is_stmt 1 view .LVU3181
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9401              		.loc 1 3833 15 is_stmt 0 view .LVU3182
 9402 00f2 3046     		mov	r0, r6
 9403              	.LVL1064:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9404              		.loc 1 3833 15 view .LVU3183
 9405 00f4 FFF7FEFF 		bl	move_window
 9406              	.LVL1065:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9407              		.loc 1 3833 15 view .LVU3184
 9408 00f8 0246     		mov	r2, r0
 9409              	.LVL1066:
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9410              		.loc 1 3834 9 is_stmt 1 view .LVU3185
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9411              		.loc 1 3834 18 is_stmt 0 view .LVU3186
 9412 00fa DDF85038 		ldr	r3, [sp, #2128]
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9413              		.loc 1 3834 13 view .LVU3187
 9414 00fe 03F12000 		add	r0, r3, #32
 9415              	.LVL1067:
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9416              		.loc 1 3835 9 is_stmt 1 view .LVU3188
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9417              		.loc 1 3835 12 is_stmt 0 view .LVU3189
 9418 0102 1446     		mov	r4, r2
 9419 0104 002A     		cmp	r2, #0
 9420 0106 89D1     		bne	.L683
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9421              		.loc 1 3835 32 discriminator 1 view .LVU3190
 9422 0108 93F82130 		ldrb	r3, [r3, #33]	@ zero_extendqisi2
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9423              		.loc 1 3835 26 discriminator 1 view .LVU3191
 9424 010c 2E2B     		cmp	r3, #46
 9425 010e 0FD0     		beq	.L694
 9426              	.LVL1068:
 9427              	.L685:
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9428              		.loc 1 3841 7 is_stmt 1 view .LVU3192
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9429              		.loc 1 3841 10 is_stmt 0 view .LVU3193
 9430 0110 002C     		cmp	r4, #0
 9431 0112 83D1     		bne	.L683
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9432              		.loc 1 3842 8 is_stmt 1 view .LVU3194
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9433              		.loc 1 3842 14 is_stmt 0 view .LVU3195
 9434 0114 0DF58A60 		add	r0, sp, #1104
 9435 0118 FFF7FEFF 		bl	dir_remove
 9436              	.LVL1069:
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9437              		.loc 1 3843 8 is_stmt 1 view .LVU3196
ARM GAS  /tmp/ccc896J6.s 			page 292


3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9438              		.loc 1 3843 11 is_stmt 0 view .LVU3197
 9439 011c 0446     		mov	r4, r0
 9440 011e 0028     		cmp	r0, #0
 9441 0120 7FF47CAF 		bne	.L683
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9442              		.loc 1 3844 9 is_stmt 1 view .LVU3198
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9443              		.loc 1 3844 15 is_stmt 0 view .LVU3199
 9444 0124 DDF85008 		ldr	r0, [sp, #2128]
 9445              	.LVL1070:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9446              		.loc 1 3844 15 view .LVU3200
 9447 0128 FFF7FEFF 		bl	sync_fs
 9448              	.LVL1071:
 9449 012c 0446     		mov	r4, r0
 9450              	.LVL1072:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9451              		.loc 1 3844 15 view .LVU3201
 9452 012e 75E7     		b	.L683
 9453              	.LVL1073:
 9454              	.L694:
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
 9455              		.loc 1 3836 10 is_stmt 1 view .LVU3202
 9456 0130 DDF83814 		ldr	r1, [sp, #1080]
 9457 0134 FFF7FEFF 		bl	st_clust
 9458              	.LVL1074:
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9459              		.loc 1 3837 10 view .LVU3203
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9460              		.loc 1 3837 24 is_stmt 0 view .LVU3204
 9461 0138 DDF85038 		ldr	r3, [sp, #2128]
 9462 013c 0122     		movs	r2, #1
 9463 013e 83F80424 		strb	r2, [r3, #1028]
 9464 0142 E5E7     		b	.L685
 9465              	.LVL1075:
 9466              	.L686:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9467              		.loc 1 3811 9 view .LVU3205
 9468 0144 0424     		movs	r4, #4
 9469 0146 69E7     		b	.L683
 9470              		.cfi_endproc
 9471              	.LFE115:
 9473              		.section	.text.f_utime,"ax",%progbits
 9474              		.align	1
 9475              		.global	f_utime
 9476              		.syntax unified
 9477              		.thumb
 9478              		.thumb_func
 9480              	f_utime:
 9481              	.LVL1076:
 9482              	.LFB116:
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9483              		.loc 1 3868 1 is_stmt 1 view -0
 9484              		.cfi_startproc
 9485              		@ args = 0, pretend = 0, frame = 1080
 9486              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccc896J6.s 			page 293


3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9487              		.loc 1 3868 1 is_stmt 0 view .LVU3207
 9488 0000 10B5     		push	{r4, lr}
 9489              	.LCFI99:
 9490              		.cfi_def_cfa_offset 8
 9491              		.cfi_offset 4, -8
 9492              		.cfi_offset 14, -4
 9493 0002 ADF5876D 		sub	sp, sp, #1080
 9494              	.LCFI100:
 9495              		.cfi_def_cfa_offset 1088
 9496 0006 01AB     		add	r3, sp, #4
 9497 0008 0190     		str	r0, [sp, #4]
 9498 000a 0C46     		mov	r4, r1
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9499              		.loc 1 3869 2 is_stmt 1 view .LVU3208
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9500              		.loc 1 3870 2 view .LVU3209
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9501              		.loc 1 3871 2 view .LVU3210
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9502              		.loc 1 3872 2 view .LVU3211
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9503              		.loc 1 3876 2 view .LVU3212
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9504              		.loc 1 3876 8 is_stmt 0 view .LVU3213
 9505 000c 0122     		movs	r2, #1
 9506 000e 1946     		mov	r1, r3
 9507              	.LVL1077:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9508              		.loc 1 3876 8 view .LVU3214
 9509 0010 0DF58360 		add	r0, sp, #1048
 9510              	.LVL1078:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9511              		.loc 1 3876 8 view .LVU3215
 9512 0014 FFF7FEFF 		bl	find_volume
 9513              	.LVL1079:
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9514              		.loc 1 3877 2 is_stmt 1 view .LVU3216
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9515              		.loc 1 3877 5 is_stmt 0 view .LVU3217
 9516 0018 10B1     		cbz	r0, .L699
 9517              	.LVL1080:
 9518              	.L696:
3896:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9519              		.loc 1 3896 2 is_stmt 1 view .LVU3218
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9520              		.loc 1 3897 1 is_stmt 0 view .LVU3219
 9521 001a 0DF5876D 		add	sp, sp, #1080
 9522              	.LCFI101:
 9523              		.cfi_remember_state
 9524              		.cfi_def_cfa_offset 8
 9525              		@ sp needed
 9526 001e 10BD     		pop	{r4, pc}
 9527              	.LVL1081:
 9528              	.L699:
 9529              	.LCFI102:
 9530              		.cfi_restore_state
ARM GAS  /tmp/ccc896J6.s 			page 294


3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9531              		.loc 1 3878 3 is_stmt 1 view .LVU3220
 9532 0020 06A8     		add	r0, sp, #24
 9533 0022 03AB     		add	r3, sp, #12
 9534 0024 C0F81834 		str	r3, [r0, #1048]
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9535              		.loc 1 3879 3 view .LVU3221
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9536              		.loc 1 3879 9 is_stmt 0 view .LVU3222
 9537 0028 0199     		ldr	r1, [sp, #4]
 9538 002a FFF7FEFF 		bl	follow_path
 9539              	.LVL1082:
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9540              		.loc 1 3880 13 is_stmt 1 view .LVU3223
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9541              		.loc 1 3881 3 view .LVU3224
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9542              		.loc 1 3883 3 view .LVU3225
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9543              		.loc 1 3883 6 is_stmt 0 view .LVU3226
 9544 002e 0028     		cmp	r0, #0
 9545 0030 F3D1     		bne	.L696
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9546              		.loc 1 3884 4 is_stmt 1 view .LVU3227
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9547              		.loc 1 3884 8 is_stmt 0 view .LVU3228
 9548 0032 DDF82C34 		ldr	r3, [sp, #1068]
 9549              	.LVL1083:
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9550              		.loc 1 3885 4 is_stmt 1 view .LVU3229
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9551              		.loc 1 3885 7 is_stmt 0 view .LVU3230
 9552 0036 8BB1     		cbz	r3, .L697
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9553              		.loc 1 3888 5 is_stmt 1 view .LVU3231
 9554 0038 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 9555 003a 9A75     		strb	r2, [r3, #22]
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9556              		.loc 1 3888 5 view .LVU3232
 9557 003c E288     		ldrh	r2, [r4, #6]
 9558 003e 120A     		lsrs	r2, r2, #8
 9559 0040 DA75     		strb	r2, [r3, #23]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9560              		.loc 1 3889 5 view .LVU3233
 9561 0042 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 9562 0044 1A76     		strb	r2, [r3, #24]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9563              		.loc 1 3889 5 view .LVU3234
 9564 0046 A288     		ldrh	r2, [r4, #4]
 9565 0048 120A     		lsrs	r2, r2, #8
 9566 004a 5A76     		strb	r2, [r3, #25]
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9567              		.loc 1 3890 5 view .LVU3235
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9568              		.loc 1 3890 7 is_stmt 0 view .LVU3236
 9569 004c DDF81804 		ldr	r0, [sp, #1048]
 9570              	.LVL1084:
ARM GAS  /tmp/ccc896J6.s 			page 295


3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9571              		.loc 1 3890 18 view .LVU3237
 9572 0050 0123     		movs	r3, #1
 9573              	.LVL1085:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9574              		.loc 1 3890 18 view .LVU3238
 9575 0052 80F80434 		strb	r3, [r0, #1028]
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9576              		.loc 1 3891 5 is_stmt 1 view .LVU3239
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9577              		.loc 1 3891 11 is_stmt 0 view .LVU3240
 9578 0056 FFF7FEFF 		bl	sync_fs
 9579              	.LVL1086:
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9580              		.loc 1 3891 11 view .LVU3241
 9581 005a DEE7     		b	.L696
 9582              	.LVL1087:
 9583              	.L697:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9584              		.loc 1 3886 9 view .LVU3242
 9585 005c 0620     		movs	r0, #6
 9586              	.LVL1088:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9587              		.loc 1 3886 9 view .LVU3243
 9588 005e DCE7     		b	.L696
 9589              		.cfi_endproc
 9590              	.LFE116:
 9592              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 9593              		.align	2
 9594              	.LC1:
 9595 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 9595      53444F53 
 9595      352E3000 
 9596              		.align	2
 9597              	.LC2:
 9598 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 9598      414D4520 
 9598      20202046 
 9598      41543332 
 9598      20202000 
 9599              		.align	2
 9600              	.LC3:
 9601 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 9601      414D4520 
 9601      20202046 
 9601      41542020 
 9601      20202000 
 9602              		.section	.text.f_mkfs,"ax",%progbits
 9603              		.align	1
 9604              		.global	f_mkfs
 9605              		.syntax unified
 9606              		.thumb
 9607              		.thumb_func
 9609              	f_mkfs:
 9610              	.LVL1089:
 9611              	.LFB117:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
ARM GAS  /tmp/ccc896J6.s 			page 296


 9612              		.loc 1 4143 1 is_stmt 1 view -0
 9613              		.cfi_startproc
 9614              		@ args = 0, pretend = 0, frame = 32
 9615              		@ frame_needed = 0, uses_anonymous_args = 0
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 9616              		.loc 1 4143 1 is_stmt 0 view .LVU3245
 9617 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9618              	.LCFI103:
 9619              		.cfi_def_cfa_offset 36
 9620              		.cfi_offset 4, -36
 9621              		.cfi_offset 5, -32
 9622              		.cfi_offset 6, -28
 9623              		.cfi_offset 7, -24
 9624              		.cfi_offset 8, -20
 9625              		.cfi_offset 9, -16
 9626              		.cfi_offset 10, -12
 9627              		.cfi_offset 11, -8
 9628              		.cfi_offset 14, -4
 9629 0004 89B0     		sub	sp, sp, #36
 9630              	.LCFI104:
 9631              		.cfi_def_cfa_offset 72
 9632 0006 0590     		str	r0, [sp, #20]
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
 9633              		.loc 1 4144 2 is_stmt 1 view .LVU3246
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 9634              		.loc 1 4145 2 view .LVU3247
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
 9635              		.loc 1 4146 2 view .LVU3248
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
 9636              		.loc 1 4147 2 view .LVU3249
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 9637              		.loc 1 4148 2 view .LVU3250
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
 9638              		.loc 1 4149 2 view .LVU3251
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
 9639              		.loc 1 4150 2 view .LVU3252
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9640              		.loc 1 4151 2 view .LVU3253
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 9641              		.loc 1 4152 2 view .LVU3254
4153:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 9642              		.loc 1 4153 2 view .LVU3255
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9643              		.loc 1 4160 2 view .LVU3256
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9644              		.loc 1 4160 5 is_stmt 0 view .LVU3257
 9645 0008 0129     		cmp	r1, #1
 9646 000a 00F2E982 		bhi	.L738
 9647 000e 0D46     		mov	r5, r1
 9648 0010 1646     		mov	r6, r2
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9649              		.loc 1 4161 2 is_stmt 1 view .LVU3258
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9650              		.loc 1 4161 8 is_stmt 0 view .LVU3259
 9651 0012 05A8     		add	r0, sp, #20
 9652              	.LVL1090:
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
ARM GAS  /tmp/ccc896J6.s 			page 297


 9653              		.loc 1 4161 8 view .LVU3260
 9654 0014 FFF7FEFF 		bl	get_ldnumber
 9655              	.LVL1091:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9656              		.loc 1 4162 2 is_stmt 1 view .LVU3261
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9657              		.loc 1 4162 5 is_stmt 0 view .LVU3262
 9658 0018 0028     		cmp	r0, #0
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9659              		.loc 1 4162 5 view .LVU3263
 9660 001a C0F2E582 		blt	.L739
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9661              		.loc 1 4163 2 is_stmt 1 view .LVU3264
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9662              		.loc 1 4163 5 is_stmt 0 view .LVU3265
 9663 001e A54B     		ldr	r3, .L781
 9664 0020 53F82070 		ldr	r7, [r3, r0, lsl #2]
 9665              	.LVL1092:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9666              		.loc 1 4164 2 is_stmt 1 view .LVU3266
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9667              		.loc 1 4164 5 is_stmt 0 view .LVU3267
 9668 0024 002F     		cmp	r7, #0
 9669 0026 00F0E182 		beq	.L740
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9670              		.loc 1 4165 2 is_stmt 1 view .LVU3268
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9671              		.loc 1 4165 14 is_stmt 0 view .LVU3269
 9672 002a 0023     		movs	r3, #0
 9673 002c 87F80034 		strb	r3, [r7, #1024]
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9674              		.loc 1 4166 2 is_stmt 1 view .LVU3270
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9675              		.loc 1 4166 7 is_stmt 0 view .LVU3271
 9676 0030 C4B2     		uxtb	r4, r0
 9677              	.LVL1093:
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9678              		.loc 1 4167 2 is_stmt 1 view .LVU3272
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9679              		.loc 1 4170 2 view .LVU3273
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9680              		.loc 1 4170 9 is_stmt 0 view .LVU3274
 9681 0032 2046     		mov	r0, r4
 9682              	.LVL1094:
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9683              		.loc 1 4170 9 view .LVU3275
 9684 0034 FFF7FEFF 		bl	disk_initialize
 9685              	.LVL1095:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9686              		.loc 1 4171 2 is_stmt 1 view .LVU3276
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9687              		.loc 1 4171 5 is_stmt 0 view .LVU3277
 9688 0038 10F0010F 		tst	r0, #1
 9689 003c 40F0D882 		bne	.L741
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 9690              		.loc 1 4172 2 is_stmt 1 view .LVU3278
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
ARM GAS  /tmp/ccc896J6.s 			page 298


 9691              		.loc 1 4172 5 is_stmt 0 view .LVU3279
 9692 0040 10F0040F 		tst	r0, #4
 9693 0044 40F0D682 		bne	.L742
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9694              		.loc 1 4174 2 is_stmt 1 view .LVU3280
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9695              		.loc 1 4174 6 is_stmt 0 view .LVU3281
 9696 0048 07F20A42 		addw	r2, r7, #1034
 9697 004c 0221     		movs	r1, #2
 9698 004e 2046     		mov	r0, r4
 9699              	.LVL1096:
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9700              		.loc 1 4174 6 view .LVU3282
 9701 0050 FFF7FEFF 		bl	disk_ioctl
 9702              	.LVL1097:
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9703              		.loc 1 4174 5 discriminator 1 view .LVU3283
 9704 0054 0028     		cmp	r0, #0
 9705 0056 40F0CF82 		bne	.L743
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9706              		.loc 1 4174 62 discriminator 1 view .LVU3284
 9707 005a B7F80A34 		ldrh	r3, [r7, #1034]
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9708              		.loc 1 4174 59 discriminator 1 view .LVU3285
 9709 005e B3F5806F 		cmp	r3, #1024
 9710 0062 00F2CB82 		bhi	.L744
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 9711              		.loc 1 4174 79 discriminator 2 view .LVU3286
 9712 0066 B3F5007F 		cmp	r3, #512
 9713 006a 01D2     		bcs	.L768
4175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9714              		.loc 1 4175 10 view .LVU3287
 9715 006c 0120     		movs	r0, #1
 9716 006e B8E2     		b	.L701
 9717              	.L768:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 9718              		.loc 1 4177 2 is_stmt 1 view .LVU3288
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9719              		.loc 1 4187 3 view .LVU3289
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9720              		.loc 1 4187 7 is_stmt 0 view .LVU3290
 9721 0070 06AA     		add	r2, sp, #24
 9722 0072 0121     		movs	r1, #1
 9723 0074 2046     		mov	r0, r4
 9724 0076 FFF7FEFF 		bl	disk_ioctl
 9725              	.LVL1098:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9726              		.loc 1 4187 6 discriminator 1 view .LVU3291
 9727 007a 0028     		cmp	r0, #0
 9728 007c 40F0C082 		bne	.L746
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9729              		.loc 1 4187 69 discriminator 1 view .LVU3292
 9730 0080 0699     		ldr	r1, [sp, #24]
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9731              		.loc 1 4187 60 discriminator 1 view .LVU3293
 9732 0082 7F29     		cmp	r1, #127
 9733 0084 40F2BE82 		bls	.L747
ARM GAS  /tmp/ccc896J6.s 			page 299


4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9734              		.loc 1 4189 3 is_stmt 1 view .LVU3294
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9735              		.loc 1 4189 21 is_stmt 0 view .LVU3295
 9736 0088 9DB1     		cbz	r5, .L748
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9737              		.loc 1 4189 21 discriminator 1 view .LVU3296
 9738 008a 0023     		movs	r3, #0
 9739 008c 0293     		str	r3, [sp, #8]
 9740              	.L702:
 9741              	.LVL1099:
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9742              		.loc 1 4190 3 is_stmt 1 view .LVU3297
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9743              		.loc 1 4190 9 is_stmt 0 view .LVU3298
 9744 008e 029B     		ldr	r3, [sp, #8]
 9745 0090 C91A     		subs	r1, r1, r3
 9746 0092 0691     		str	r1, [sp, #24]
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9747              		.loc 1 4193 2 is_stmt 1 view .LVU3299
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9748              		.loc 1 4193 15 is_stmt 0 view .LVU3300
 9749 0094 731E     		subs	r3, r6, #1
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9750              		.loc 1 4193 5 view .LVU3301
 9751 0096 1E42     		tst	r6, r3
 9752 0098 00D1     		bne	.L703
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9753              		.loc 1 4194 2 is_stmt 1 view .LVU3302
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9754              		.loc 1 4194 5 is_stmt 0 view .LVU3303
 9755 009a B6B9     		cbnz	r6, .L704
 9756              	.L703:
 9757              	.LVL1100:
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9758              		.loc 1 4195 3 is_stmt 1 view .LVU3304
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9759              		.loc 1 4195 25 is_stmt 0 view .LVU3305
 9760 009c B7F80A34 		ldrh	r3, [r7, #1034]
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9761              		.loc 1 4195 32 view .LVU3306
 9762 00a0 5B0A     		lsrs	r3, r3, #9
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9763              		.loc 1 4195 22 view .LVU3307
 9764 00a2 4FF4FA60 		mov	r0, #2000
 9765 00a6 90FBF3F0 		sdiv	r0, r0, r3
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9766              		.loc 1 4195 6 view .LVU3308
 9767 00aa B1FBF0F0 		udiv	r0, r1, r0
 9768              	.LVL1101:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9769              		.loc 1 4196 3 is_stmt 1 view .LVU3309
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9770              		.loc 1 4196 10 is_stmt 0 view .LVU3310
 9771 00ae 0023     		movs	r3, #0
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9772              		.loc 1 4196 3 view .LVU3311
ARM GAS  /tmp/ccc896J6.s 			page 300


 9773 00b0 03E0     		b	.L705
 9774              	.LVL1102:
 9775              	.L748:
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9776              		.loc 1 4189 21 discriminator 2 view .LVU3312
 9777 00b2 3F23     		movs	r3, #63
 9778 00b4 0293     		str	r3, [sp, #8]
 9779 00b6 EAE7     		b	.L702
 9780              	.LVL1103:
 9781              	.L706:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9782              		.loc 1 4196 29 is_stmt 1 discriminator 3 view .LVU3313
 9783 00b8 0133     		adds	r3, r3, #1
 9784              	.LVL1104:
 9785              	.L705:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9786              		.loc 1 4196 18 discriminator 1 view .LVU3314
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9787              		.loc 1 4196 23 is_stmt 0 discriminator 1 view .LVU3315
 9788 00ba 7F4A     		ldr	r2, .L781+4
 9789 00bc 32F81320 		ldrh	r2, [r2, r3, lsl #1]
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9790              		.loc 1 4196 18 discriminator 1 view .LVU3316
 9791 00c0 8242     		cmp	r2, r0
 9792 00c2 F9D8     		bhi	.L706
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9793              		.loc 1 4197 3 is_stmt 1 view .LVU3317
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9794              		.loc 1 4197 11 is_stmt 0 view .LVU3318
 9795 00c4 7D4A     		ldr	r2, .L781+8
 9796 00c6 32F81360 		ldrh	r6, [r2, r3, lsl #1]
 9797              	.LVL1105:
 9798              	.L704:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9799              		.loc 1 4199 2 is_stmt 1 view .LVU3319
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9800              		.loc 1 4199 5 is_stmt 0 view .LVU3320
 9801 00ca B6F5007F 		cmp	r6, #512
 9802 00ce 03D3     		bcc	.L707
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9803              		.loc 1 4199 21 is_stmt 1 discriminator 1 view .LVU3321
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9804              		.loc 1 4199 27 is_stmt 0 discriminator 1 view .LVU3322
 9805 00d0 B7F80A34 		ldrh	r3, [r7, #1034]
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9806              		.loc 1 4199 24 discriminator 1 view .LVU3323
 9807 00d4 B6FBF3F6 		udiv	r6, r6, r3
 9808              	.LVL1106:
 9809              	.L707:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9810              		.loc 1 4200 2 is_stmt 1 view .LVU3324
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9811              		.loc 1 4200 5 is_stmt 0 view .LVU3325
 9812 00d8 1EB1     		cbz	r6, .L749
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9813              		.loc 1 4201 2 is_stmt 1 view .LVU3326
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccc896J6.s 			page 301


 9814              		.loc 1 4201 5 is_stmt 0 view .LVU3327
 9815 00da 802E     		cmp	r6, #128
 9816 00dc 02D9     		bls	.L708
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9817              		.loc 1 4201 19 discriminator 1 view .LVU3328
 9818 00de 8026     		movs	r6, #128
 9819              	.LVL1107:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9820              		.loc 1 4201 19 discriminator 1 view .LVU3329
 9821 00e0 00E0     		b	.L708
 9822              	.LVL1108:
 9823              	.L749:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9824              		.loc 1 4200 14 discriminator 1 view .LVU3330
 9825 00e2 0126     		movs	r6, #1
 9826              	.LVL1109:
 9827              	.L708:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9828              		.loc 1 4204 2 is_stmt 1 view .LVU3331
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9829              		.loc 1 4204 9 is_stmt 0 view .LVU3332
 9830 00e4 B1FBF6F3 		udiv	r3, r1, r6
 9831              	.LVL1110:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 9832              		.loc 1 4205 2 is_stmt 1 view .LVU3333
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9833              		.loc 1 4206 2 view .LVU3334
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9834              		.loc 1 4206 5 is_stmt 0 view .LVU3335
 9835 00e8 40F6F572 		movw	r2, #4085
 9836 00ec 9342     		cmp	r3, r2
 9837 00ee 15D9     		bls	.L751
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9838              		.loc 1 4206 27 is_stmt 1 discriminator 1 view .LVU3336
 9839              	.LVL1111:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9840              		.loc 1 4207 2 view .LVU3337
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9841              		.loc 1 4207 5 is_stmt 0 view .LVU3338
 9842 00f0 4FF6F572 		movw	r2, #65525
 9843 00f4 9342     		cmp	r3, r2
 9844 00f6 40F2B580 		bls	.L752
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9845              		.loc 1 4207 27 is_stmt 1 discriminator 1 view .LVU3339
 9846              	.LVL1112:
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9847              		.loc 1 4210 2 view .LVU3340
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9848              		.loc 1 4211 3 view .LVU3341
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9849              		.loc 1 4211 25 is_stmt 0 view .LVU3342
 9850 00fa 03F10208 		add	r8, r3, #2
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9851              		.loc 1 4211 31 view .LVU3343
 9852 00fe B7F80A34 		ldrh	r3, [r7, #1034]
 9853              	.LVL1113:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
ARM GAS  /tmp/ccc896J6.s 			page 302


 9854              		.loc 1 4211 29 view .LVU3344
 9855 0102 03EB8808 		add	r8, r3, r8, lsl #2
 9856              	.LVL1114:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9857              		.loc 1 4211 38 view .LVU3345
 9858 0106 08F1FF38 		add	r8, r8, #-1
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9859              		.loc 1 4211 9 view .LVU3346
 9860 010a B8FBF3F8 		udiv	r8, r8, r3
 9861              	.LVL1115:
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9862              		.loc 1 4212 3 is_stmt 1 view .LVU3347
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9863              		.loc 1 4213 3 view .LVU3348
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9864              		.loc 1 4207 31 is_stmt 0 discriminator 1 view .LVU3349
 9865 010e 0323     		movs	r3, #3
 9866 0110 0193     		str	r3, [sp, #4]
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9867              		.loc 1 4213 9 view .LVU3350
 9868 0112 4FF00009 		mov	r9, #0
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9869              		.loc 1 4212 9 view .LVU3351
 9870 0116 2023     		movs	r3, #32
 9871 0118 0393     		str	r3, [sp, #12]
 9872 011a 16E0     		b	.L710
 9873              	.LVL1116:
 9874              	.L751:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 9875              		.loc 1 4205 6 view .LVU3352
 9876 011c 0122     		movs	r2, #1
 9877 011e 0192     		str	r2, [sp, #4]
 9878              	.LVL1117:
 9879              	.L709:
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9880              		.loc 1 4210 2 is_stmt 1 view .LVU3353
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9881              		.loc 1 4215 3 view .LVU3354
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9882              		.loc 1 4215 56 is_stmt 0 view .LVU3355
 9883 0120 019A     		ldr	r2, [sp, #4]
 9884 0122 012A     		cmp	r2, #1
 9885 0124 00F0A180 		beq	.L769
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9886              		.loc 1 4215 71 discriminator 2 view .LVU3356
 9887 0128 03F10208 		add	r8, r3, #2
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9888              		.loc 1 4215 56 discriminator 2 view .LVU3357
 9889 012c 4FEA4808 		lsl	r8, r8, #1
 9890              	.LVL1118:
 9891              	.L712:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9892              		.loc 1 4216 3 is_stmt 1 view .LVU3358
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9893              		.loc 1 4216 20 is_stmt 0 view .LVU3359
 9894 0130 B7F80A34 		ldrh	r3, [r7, #1034]
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
ARM GAS  /tmp/ccc896J6.s 			page 303


 9895              		.loc 1 4216 18 view .LVU3360
 9896 0134 9844     		add	r8, r8, r3
 9897              	.LVL1119:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9898              		.loc 1 4216 27 view .LVU3361
 9899 0136 08F1FF38 		add	r8, r8, #-1
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9900              		.loc 1 4216 9 view .LVU3362
 9901 013a B8FBF3F8 		udiv	r8, r8, r3
 9902              	.LVL1120:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 9903              		.loc 1 4217 3 is_stmt 1 view .LVU3363
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9904              		.loc 1 4218 3 view .LVU3364
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9905              		.loc 1 4218 38 is_stmt 0 view .LVU3365
 9906 013e 4FF48049 		mov	r9, #16384
 9907 0142 B9FBF3F9 		udiv	r9, r9, r3
 9908              	.LVL1121:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 9909              		.loc 1 4217 9 view .LVU3366
 9910 0146 0123     		movs	r3, #1
 9911 0148 0393     		str	r3, [sp, #12]
 9912              	.LVL1122:
 9913              	.L710:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9914              		.loc 1 4220 2 is_stmt 1 view .LVU3367
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9915              		.loc 1 4220 8 is_stmt 0 view .LVU3368
 9916 014a 039B     		ldr	r3, [sp, #12]
 9917 014c 029A     		ldr	r2, [sp, #8]
 9918 014e 03EB020A 		add	r10, r3, r2
 9919              	.LVL1123:
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9920              		.loc 1 4221 2 is_stmt 1 view .LVU3369
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9921              		.loc 1 4221 8 is_stmt 0 view .LVU3370
 9922 0152 08EB0A0B 		add	fp, r8, r10
 9923              	.LVL1124:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9924              		.loc 1 4222 2 is_stmt 1 view .LVU3371
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9925              		.loc 1 4222 9 is_stmt 0 view .LVU3372
 9926 0156 CB44     		add	fp, fp, r9
 9927              	.LVL1125:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9928              		.loc 1 4223 2 is_stmt 1 view .LVU3373
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9929              		.loc 1 4223 21 is_stmt 0 view .LVU3374
 9930 0158 06EB0B03 		add	r3, r6, fp
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9931              		.loc 1 4223 26 view .LVU3375
 9932 015c 9B1A     		subs	r3, r3, r2
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9933              		.loc 1 4223 5 view .LVU3376
 9934 015e 9942     		cmp	r1, r3
 9935 0160 C0F05282 		bcc	.L753
ARM GAS  /tmp/ccc896J6.s 			page 304


4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9936              		.loc 1 4226 2 is_stmt 1 view .LVU3377
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9937              		.loc 1 4226 6 is_stmt 0 view .LVU3378
 9938 0164 07AA     		add	r2, sp, #28
 9939 0166 0321     		movs	r1, #3
 9940              	.LVL1126:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9941              		.loc 1 4226 6 view .LVU3379
 9942 0168 2046     		mov	r0, r4
 9943 016a FFF7FEFF 		bl	disk_ioctl
 9944              	.LVL1127:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9945              		.loc 1 4226 5 discriminator 1 view .LVU3380
 9946 016e 20B9     		cbnz	r0, .L713
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9947              		.loc 1 4226 56 discriminator 2 view .LVU3381
 9948 0170 079B     		ldr	r3, [sp, #28]
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9949              		.loc 1 4226 53 discriminator 2 view .LVU3382
 9950 0172 13B1     		cbz	r3, .L713
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9951              		.loc 1 4226 59 discriminator 4 view .LVU3383
 9952 0174 B3F5004F 		cmp	r3, #32768
 9953 0178 01D9     		bls	.L714
 9954              	.L713:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9955              		.loc 1 4226 73 is_stmt 1 discriminator 5 view .LVU3384
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9956              		.loc 1 4226 75 is_stmt 0 discriminator 5 view .LVU3385
 9957 017a 0123     		movs	r3, #1
 9958 017c 0793     		str	r3, [sp, #28]
 9959              	.L714:
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9960              		.loc 1 4227 2 is_stmt 1 view .LVU3386
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9961              		.loc 1 4227 14 is_stmt 0 view .LVU3387
 9962 017e 079A     		ldr	r2, [sp, #28]
 9963 0180 02EB0B03 		add	r3, r2, fp
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9964              		.loc 1 4227 18 view .LVU3388
 9965 0184 013B     		subs	r3, r3, #1
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9966              		.loc 1 4227 25 view .LVU3389
 9967 0186 5242     		rsbs	r2, r2, #0
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9968              		.loc 1 4227 23 view .LVU3390
 9969 0188 1340     		ands	r3, r3, r2
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9970              		.loc 1 4227 4 view .LVU3391
 9971 018a 0793     		str	r3, [sp, #28]
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9972              		.loc 1 4228 2 is_stmt 1 view .LVU3392
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9973              		.loc 1 4228 9 is_stmt 0 view .LVU3393
 9974 018c A3EB0B03 		sub	r3, r3, fp
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
ARM GAS  /tmp/ccc896J6.s 			page 305


 9975              		.loc 1 4228 4 view .LVU3394
 9976 0190 0793     		str	r3, [sp, #28]
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9977              		.loc 1 4229 2 is_stmt 1 view .LVU3395
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9978              		.loc 1 4229 5 is_stmt 0 view .LVU3396
 9979 0192 019A     		ldr	r2, [sp, #4]
 9980 0194 032A     		cmp	r2, #3
 9981 0196 71D0     		beq	.L770
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9982              		.loc 1 4233 3 is_stmt 1 view .LVU3397
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9983              		.loc 1 4233 9 is_stmt 0 view .LVU3398
 9984 0198 9844     		add	r8, r8, r3
 9985              	.LVL1128:
 9986              	.L716:
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9987              		.loc 1 4237 2 is_stmt 1 view .LVU3399
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9988              		.loc 1 4237 18 is_stmt 0 view .LVU3400
 9989 019a 069A     		ldr	r2, [sp, #24]
 9990 019c 039B     		ldr	r3, [sp, #12]
 9991 019e D31A     		subs	r3, r2, r3
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9992              		.loc 1 4237 26 view .LVU3401
 9993 01a0 A3EB0803 		sub	r3, r3, r8
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9994              		.loc 1 4237 43 view .LVU3402
 9995 01a4 A3EB0903 		sub	r3, r3, r9
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9996              		.loc 1 4237 9 view .LVU3403
 9997 01a8 B3FBF6FB 		udiv	fp, r3, r6
 9998              	.LVL1129:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9999              		.loc 1 4238 2 is_stmt 1 view .LVU3404
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10000              		.loc 1 4238 5 is_stmt 0 view .LVU3405
 10001 01ac 019B     		ldr	r3, [sp, #4]
 10002 01ae 022B     		cmp	r3, #2
 10003 01b0 69D0     		beq	.L771
 10004              	.L717:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 10005              		.loc 1 4239 3 view .LVU3406
 10006 01b2 019B     		ldr	r3, [sp, #4]
 10007 01b4 032B     		cmp	r3, #3
 10008 01b6 6CD0     		beq	.L772
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10009              		.loc 1 4246 3 is_stmt 1 view .LVU3407
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10010              		.loc 1 4246 6 is_stmt 0 view .LVU3408
 10011 01b8 019B     		ldr	r3, [sp, #4]
 10012 01ba 012B     		cmp	r3, #1
 10013 01bc 71D0     		beq	.L773
 10014              	.L720:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10015              		.loc 1 4249 4 is_stmt 1 view .LVU3409
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccc896J6.s 			page 306


 10016              		.loc 1 4249 8 is_stmt 0 view .LVU3410
 10017 01be B2F5803F 		cmp	r2, #65536
 10018 01c2 74D2     		bcs	.L757
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10019              		.loc 1 4249 8 discriminator 1 view .LVU3411
 10020 01c4 0423     		movs	r3, #4
 10021 01c6 0493     		str	r3, [sp, #16]
 10022              	.L719:
 10023              	.LVL1130:
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 10024              		.loc 1 4253 2 is_stmt 1 view .LVU3412
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 10025              		.loc 1 4261 3 view .LVU3413
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 10026              		.loc 1 4261 6 is_stmt 0 view .LVU3414
 10027 01c8 002D     		cmp	r5, #0
 10028 01ca 7BD1     		bne	.L758
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 10029              		.loc 1 4264 4 is_stmt 1 view .LVU3415
 10030 01cc B7F80A24 		ldrh	r2, [r7, #1034]
 10031 01d0 0021     		movs	r1, #0
 10032 01d2 3846     		mov	r0, r7
 10033 01d4 FFF7FEFF 		bl	mem_set
 10034              	.LVL1131:
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
 10035              		.loc 1 4265 4 view .LVU3416
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 10036              		.loc 1 4266 4 view .LVU3417
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 10037              		.loc 1 4266 11 is_stmt 0 view .LVU3418
 10038 01d8 0123     		movs	r3, #1
 10039 01da 87F8BF31 		strb	r3, [r7, #447]
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 10040              		.loc 1 4267 4 is_stmt 1 view .LVU3419
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 10041              		.loc 1 4267 11 is_stmt 0 view .LVU3420
 10042 01de 87F8C031 		strb	r3, [r7, #448]
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 10043              		.loc 1 4268 4 is_stmt 1 view .LVU3421
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 10044              		.loc 1 4268 11 is_stmt 0 view .LVU3422
 10045 01e2 0022     		movs	r2, #0
 10046 01e4 87F8C121 		strb	r2, [r7, #449]
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 10047              		.loc 1 4269 4 is_stmt 1 view .LVU3423
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 10048              		.loc 1 4269 11 is_stmt 0 view .LVU3424
 10049 01e8 0499     		ldr	r1, [sp, #16]
 10050 01ea 87F8C211 		strb	r1, [r7, #450]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 10051              		.loc 1 4270 4 is_stmt 1 view .LVU3425
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 10052              		.loc 1 4270 11 is_stmt 0 view .LVU3426
 10053 01ee FE21     		movs	r1, #254
 10054 01f0 87F8C311 		strb	r1, [r7, #451]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10055              		.loc 1 4271 4 is_stmt 1 view .LVU3427
ARM GAS  /tmp/ccc896J6.s 			page 307


4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10056              		.loc 1 4271 15 is_stmt 0 view .LVU3428
 10057 01f4 0698     		ldr	r0, [sp, #24]
 10058 01f6 0299     		ldr	r1, [sp, #8]
 10059 01f8 0D18     		adds	r5, r1, r0
 10060              	.LVL1132:
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10061              		.loc 1 4271 29 view .LVU3429
 10062 01fa 3149     		ldr	r1, .L781+12
 10063 01fc A1FB05C1 		umull	ip, r1, r1, r5
 10064 0200 6D1A     		subs	r5, r5, r1
 10065 0202 01EB5501 		add	r1, r1, r5, lsr #1
 10066 0206 4D0B     		lsrs	r5, r1, #13
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10067              		.loc 1 4271 6 view .LVU3430
 10068 0208 0795     		str	r5, [sp, #28]
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10069              		.loc 1 4272 4 is_stmt 1 view .LVU3431
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10070              		.loc 1 4272 22 is_stmt 0 view .LVU3432
 10071 020a C90B     		lsrs	r1, r1, #15
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10072              		.loc 1 4272 13 view .LVU3433
 10073 020c 41F03F01 		orr	r1, r1, #63
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10074              		.loc 1 4272 11 view .LVU3434
 10075 0210 87F8C411 		strb	r1, [r7, #452]
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 10076              		.loc 1 4273 4 is_stmt 1 view .LVU3435
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 10077              		.loc 1 4273 11 is_stmt 0 view .LVU3436
 10078 0214 87F8C551 		strb	r5, [r7, #453]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10079              		.loc 1 4274 4 is_stmt 1 view .LVU3437
 10080 0218 3F21     		movs	r1, #63
 10081 021a 87F8C611 		strb	r1, [r7, #454]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10082              		.loc 1 4274 4 view .LVU3438
 10083 021e 87F8C721 		strb	r2, [r7, #455]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10084              		.loc 1 4274 4 view .LVU3439
 10085 0222 87F8C821 		strb	r2, [r7, #456]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10086              		.loc 1 4274 4 view .LVU3440
 10087 0226 87F8C921 		strb	r2, [r7, #457]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10088              		.loc 1 4275 4 view .LVU3441
 10089 022a 87F8CA01 		strb	r0, [r7, #458]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10090              		.loc 1 4275 4 view .LVU3442
 10091 022e C0F30721 		ubfx	r1, r0, #8, #8
 10092 0232 87F8CB11 		strb	r1, [r7, #459]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10093              		.loc 1 4275 4 view .LVU3443
 10094 0236 C0F30741 		ubfx	r1, r0, #16, #8
 10095 023a 87F8CC11 		strb	r1, [r7, #460]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
ARM GAS  /tmp/ccc896J6.s 			page 308


 10096              		.loc 1 4275 4 view .LVU3444
 10097 023e 000E     		lsrs	r0, r0, #24
 10098 0240 87F8CD01 		strb	r0, [r7, #461]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 10099              		.loc 1 4276 4 view .LVU3445
 10100 0244 5521     		movs	r1, #85
 10101 0246 87F8FE11 		strb	r1, [r7, #510]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 10102              		.loc 1 4276 4 view .LVU3446
 10103 024a AA21     		movs	r1, #170
 10104 024c 87F8FF11 		strb	r1, [r7, #511]
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10105              		.loc 1 4277 4 view .LVU3447
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10106              		.loc 1 4277 8 is_stmt 0 view .LVU3448
 10107 0250 3946     		mov	r1, r7
 10108 0252 2046     		mov	r0, r4
 10109 0254 FFF7FEFF 		bl	disk_write
 10110              	.LVL1133:
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10111              		.loc 1 4277 7 discriminator 1 view .LVU3449
 10112 0258 0028     		cmp	r0, #0
 10113 025a 40F0D981 		bne	.L759
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10114              		.loc 1 4279 7 view .LVU3450
 10115 025e F823     		movs	r3, #248
 10116 0260 0493     		str	r3, [sp, #16]
 10117              	.LVL1134:
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10118              		.loc 1 4279 7 view .LVU3451
 10119 0262 31E0     		b	.L721
 10120              	.LVL1135:
 10121              	.L752:
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10122              		.loc 1 4279 7 view .LVU3452
 10123 0264 0222     		movs	r2, #2
 10124 0266 0192     		str	r2, [sp, #4]
 10125 0268 5AE7     		b	.L709
 10126              	.LVL1136:
 10127              	.L769:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10128              		.loc 1 4215 39 discriminator 1 view .LVU3453
 10129 026a 03EB4303 		add	r3, r3, r3, lsl #1
 10130              	.LVL1137:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10131              		.loc 1 4215 43 discriminator 1 view .LVU3454
 10132 026e 03F10108 		add	r8, r3, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10133              		.loc 1 4215 48 discriminator 1 view .LVU3455
 10134 0272 4FEA5808 		lsr	r8, r8, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10135              		.loc 1 4215 56 discriminator 1 view .LVU3456
 10136 0276 08F10308 		add	r8, r8, #3
 10137 027a 59E7     		b	.L712
 10138              	.LVL1138:
 10139              	.L770:
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
ARM GAS  /tmp/ccc896J6.s 			page 309


 10140              		.loc 1 4230 3 is_stmt 1 view .LVU3457
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 10141              		.loc 1 4230 9 is_stmt 0 view .LVU3458
 10142 027c 039A     		ldr	r2, [sp, #12]
 10143 027e 1A44     		add	r2, r2, r3
 10144 0280 0392     		str	r2, [sp, #12]
 10145              	.LVL1139:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10146              		.loc 1 4231 3 is_stmt 1 view .LVU3459
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10147              		.loc 1 4231 9 is_stmt 0 view .LVU3460
 10148 0282 9A44     		add	r10, r10, r3
 10149              	.LVL1140:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10150              		.loc 1 4231 9 view .LVU3461
 10151 0284 89E7     		b	.L716
 10152              	.LVL1141:
 10153              	.L771:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10154              		.loc 1 4238 26 discriminator 1 view .LVU3462
 10155 0286 40F6F573 		movw	r3, #4085
 10156 028a 9B45     		cmp	fp, r3
 10157 028c 91D8     		bhi	.L717
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10158              		.loc 1 4240 10 view .LVU3463
 10159 028e 0E20     		movs	r0, #14
 10160 0290 A7E1     		b	.L701
 10161              	.L772:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 10162              		.loc 1 4239 23 discriminator 1 view .LVU3464
 10163 0292 4FF6F573 		movw	r3, #65525
 10164 0296 9B45     		cmp	fp, r3
 10165 0298 40F2B881 		bls	.L755
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10166              		.loc 1 4244 7 view .LVU3465
 10167 029c 0C23     		movs	r3, #12
 10168 029e 0493     		str	r3, [sp, #16]
 10169 02a0 92E7     		b	.L719
 10170              	.L773:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10171              		.loc 1 4246 23 discriminator 1 view .LVU3466
 10172 02a2 B2F5803F 		cmp	r2, #65536
 10173 02a6 8AD2     		bcs	.L720
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10174              		.loc 1 4247 8 view .LVU3467
 10175 02a8 019B     		ldr	r3, [sp, #4]
 10176 02aa 0493     		str	r3, [sp, #16]
 10177 02ac 8CE7     		b	.L719
 10178              	.L757:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10179              		.loc 1 4249 8 discriminator 2 view .LVU3468
 10180 02ae 0623     		movs	r3, #6
 10181 02b0 0493     		str	r3, [sp, #16]
 10182 02b2 89E7     		b	.L719
 10183              	.L782:
 10184              		.align	2
 10185              	.L781:
ARM GAS  /tmp/ccc896J6.s 			page 310


 10186 02b4 00000000 		.word	FatFs
 10187 02b8 00000000 		.word	vst.1
 10188 02bc 00000000 		.word	cst.0
 10189 02c0 5B561505 		.word	85284443
 10190              	.LVL1142:
 10191              	.L758:
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
 10192              		.loc 1 4262 7 view .LVU3469
 10193 02c4 F023     		movs	r3, #240
 10194 02c6 0493     		str	r3, [sp, #16]
 10195              	.LVL1143:
 10196              	.L721:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 10197              		.loc 1 4284 2 is_stmt 1 view .LVU3470
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 10198              		.loc 1 4285 2 view .LVU3471
 10199 02c8 B7F80A24 		ldrh	r2, [r7, #1034]
 10200 02cc 0021     		movs	r1, #0
 10201 02ce 3846     		mov	r0, r7
 10202 02d0 FFF7FEFF 		bl	mem_set
 10203              	.LVL1144:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
 10204              		.loc 1 4286 2 view .LVU3472
 10205 02d4 0B22     		movs	r2, #11
 10206 02d6 D349     		ldr	r1, .L783
 10207 02d8 3846     		mov	r0, r7
 10208 02da FFF7FEFF 		bl	mem_cpy
 10209              	.LVL1145:
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 10210              		.loc 1 4287 2 view .LVU3473
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 10211              		.loc 1 4287 6 is_stmt 0 view .LVU3474
 10212 02de B7F80A34 		ldrh	r3, [r7, #1034]
 10213              	.LVL1146:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10214              		.loc 1 4288 2 is_stmt 1 view .LVU3475
 10215 02e2 FB72     		strb	r3, [r7, #11]
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10216              		.loc 1 4288 2 view .LVU3476
 10217 02e4 1B0A     		lsrs	r3, r3, #8
 10218              	.LVL1147:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10219              		.loc 1 4288 2 is_stmt 0 view .LVU3477
 10220 02e6 3B73     		strb	r3, [r7, #12]
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10221              		.loc 1 4289 2 is_stmt 1 view .LVU3478
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10222              		.loc 1 4289 22 is_stmt 0 view .LVU3479
 10223 02e8 7E73     		strb	r6, [r7, #13]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10224              		.loc 1 4290 2 is_stmt 1 view .LVU3480
 10225 02ea 039B     		ldr	r3, [sp, #12]
 10226 02ec BB73     		strb	r3, [r7, #14]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10227              		.loc 1 4290 2 view .LVU3481
 10228 02ee C3F30723 		ubfx	r3, r3, #8, #8
 10229 02f2 FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccc896J6.s 			page 311


4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10230              		.loc 1 4291 2 view .LVU3482
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10231              		.loc 1 4291 19 is_stmt 0 view .LVU3483
 10232 02f4 0123     		movs	r3, #1
 10233 02f6 3B74     		strb	r3, [r7, #16]
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10234              		.loc 1 4292 2 is_stmt 1 view .LVU3484
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10235              		.loc 1 4292 28 is_stmt 0 view .LVU3485
 10236 02f8 019B     		ldr	r3, [sp, #4]
 10237 02fa 032B     		cmp	r3, #3
 10238 02fc 75D0     		beq	.L774
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10239              		.loc 1 4292 28 discriminator 2 view .LVU3486
 10240 02fe 4FF40073 		mov	r3, #512
 10241              	.L722:
 10242              	.LVL1148:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10243              		.loc 1 4293 2 is_stmt 1 view .LVU3487
 10244 0302 DAB2     		uxtb	r2, r3
 10245 0304 7A74     		strb	r2, [r7, #17]
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10246              		.loc 1 4293 2 view .LVU3488
 10247 0306 1B0A     		lsrs	r3, r3, #8
 10248              	.LVL1149:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10249              		.loc 1 4293 2 is_stmt 0 view .LVU3489
 10250 0308 BB74     		strb	r3, [r7, #18]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10251              		.loc 1 4294 2 is_stmt 1 view .LVU3490
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10252              		.loc 1 4294 12 is_stmt 0 view .LVU3491
 10253 030a 069B     		ldr	r3, [sp, #24]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10254              		.loc 1 4294 5 view .LVU3492
 10255 030c B3F5803F 		cmp	r3, #65536
 10256 0310 6DD2     		bcs	.L723
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10257              		.loc 1 4295 3 is_stmt 1 view .LVU3493
 10258 0312 FB74     		strb	r3, [r7, #19]
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10259              		.loc 1 4295 3 view .LVU3494
 10260 0314 C3F30723 		ubfx	r3, r3, #8, #8
 10261 0318 3B75     		strb	r3, [r7, #20]
 10262              	.L724:
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10263              		.loc 1 4299 2 view .LVU3495
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10264              		.loc 1 4299 17 is_stmt 0 view .LVU3496
 10265 031a 049B     		ldr	r3, [sp, #16]
 10266 031c 7B75     		strb	r3, [r7, #21]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10267              		.loc 1 4300 2 is_stmt 1 view .LVU3497
 10268 031e 3F23     		movs	r3, #63
 10269 0320 3B76     		strb	r3, [r7, #24]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
ARM GAS  /tmp/ccc896J6.s 			page 312


 10270              		.loc 1 4300 2 view .LVU3498
 10271 0322 0023     		movs	r3, #0
 10272 0324 7B76     		strb	r3, [r7, #25]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10273              		.loc 1 4301 2 view .LVU3499
 10274 0326 FF22     		movs	r2, #255
 10275 0328 BA76     		strb	r2, [r7, #26]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10276              		.loc 1 4301 2 view .LVU3500
 10277 032a FB76     		strb	r3, [r7, #27]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10278              		.loc 1 4302 2 view .LVU3501
 10279 032c 029B     		ldr	r3, [sp, #8]
 10280 032e 3B77     		strb	r3, [r7, #28]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10281              		.loc 1 4302 2 view .LVU3502
 10282 0330 0023     		movs	r3, #0
 10283 0332 7B77     		strb	r3, [r7, #29]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10284              		.loc 1 4302 2 view .LVU3503
 10285 0334 BB77     		strb	r3, [r7, #30]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10286              		.loc 1 4302 2 view .LVU3504
 10287 0336 FB77     		strb	r3, [r7, #31]
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10288              		.loc 1 4303 2 view .LVU3505
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10289              		.loc 1 4303 6 is_stmt 0 view .LVU3506
 10290 0338 FFF7FEFF 		bl	get_fattime
 10291              	.LVL1150:
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10292              		.loc 1 4303 4 discriminator 1 view .LVU3507
 10293 033c 0790     		str	r0, [sp, #28]
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10294              		.loc 1 4304 2 is_stmt 1 view .LVU3508
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10295              		.loc 1 4304 5 is_stmt 0 view .LVU3509
 10296 033e 019B     		ldr	r3, [sp, #4]
 10297 0340 032B     		cmp	r3, #3
 10298 0342 62D0     		beq	.L775
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10299              		.loc 1 4314 3 is_stmt 1 view .LVU3510
 10300 0344 87F82700 		strb	r0, [r7, #39]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10301              		.loc 1 4314 3 view .LVU3511
 10302 0348 C0F30723 		ubfx	r3, r0, #8, #8
 10303 034c 87F82830 		strb	r3, [r7, #40]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10304              		.loc 1 4314 3 view .LVU3512
 10305 0350 C0F30743 		ubfx	r3, r0, #16, #8
 10306 0354 87F82930 		strb	r3, [r7, #41]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10307              		.loc 1 4314 3 view .LVU3513
 10308 0358 000E     		lsrs	r0, r0, #24
 10309 035a 87F82A00 		strb	r0, [r7, #42]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10310              		.loc 1 4315 3 view .LVU3514
ARM GAS  /tmp/ccc896J6.s 			page 313


 10311 035e 87F81680 		strb	r8, [r7, #22]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10312              		.loc 1 4315 3 view .LVU3515
 10313 0362 C8F30723 		ubfx	r3, r8, #8, #8
 10314 0366 FB75     		strb	r3, [r7, #23]
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10315              		.loc 1 4316 3 view .LVU3516
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10316              		.loc 1 4316 18 is_stmt 0 view .LVU3517
 10317 0368 8023     		movs	r3, #128
 10318 036a 87F82430 		strb	r3, [r7, #36]
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10319              		.loc 1 4317 3 is_stmt 1 view .LVU3518
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10320              		.loc 1 4317 19 is_stmt 0 view .LVU3519
 10321 036e 2923     		movs	r3, #41
 10322 0370 87F82630 		strb	r3, [r7, #38]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10323              		.loc 1 4318 3 is_stmt 1 view .LVU3520
 10324 0374 1322     		movs	r2, #19
 10325 0376 AC49     		ldr	r1, .L783+4
 10326 0378 07F12B00 		add	r0, r7, #43
 10327 037c FFF7FEFF 		bl	mem_cpy
 10328              	.LVL1151:
 10329              	.L726:
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10330              		.loc 1 4320 2 view .LVU3521
 10331 0380 5523     		movs	r3, #85
 10332 0382 87F8FE31 		strb	r3, [r7, #510]
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10333              		.loc 1 4320 2 view .LVU3522
 10334 0386 AA23     		movs	r3, #170
 10335 0388 87F8FF31 		strb	r3, [r7, #511]
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10336              		.loc 1 4321 2 view .LVU3523
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10337              		.loc 1 4321 6 is_stmt 0 view .LVU3524
 10338 038c 0123     		movs	r3, #1
 10339 038e 029A     		ldr	r2, [sp, #8]
 10340 0390 3946     		mov	r1, r7
 10341 0392 2046     		mov	r0, r4
 10342 0394 FFF7FEFF 		bl	disk_write
 10343              	.LVL1152:
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10344              		.loc 1 4321 5 discriminator 1 view .LVU3525
 10345 0398 0028     		cmp	r0, #0
 10346 039a 40F03B81 		bne	.L761
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10347              		.loc 1 4323 2 is_stmt 1 view .LVU3526
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10348              		.loc 1 4323 5 is_stmt 0 view .LVU3527
 10349 039e 019B     		ldr	r3, [sp, #4]
 10350 03a0 032B     		cmp	r3, #3
 10351 03a2 6ED0     		beq	.L776
 10352              	.L727:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10353              		.loc 1 4344 8 view .LVU3528
ARM GAS  /tmp/ccc896J6.s 			page 314


 10354 03a4 0023     		movs	r3, #0
 10355 03a6 0393     		str	r3, [sp, #12]
 10356              	.LVL1153:
 10357              	.L733:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10358              		.loc 1 4328 16 is_stmt 1 discriminator 1 view .LVU3529
 10359 03a8 039B     		ldr	r3, [sp, #12]
 10360 03aa 002B     		cmp	r3, #0
 10361 03ac 71D0     		beq	.L734
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10362              		.loc 1 4350 2 view .LVU3530
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10363              		.loc 1 4350 29 is_stmt 0 view .LVU3531
 10364 03ae 019B     		ldr	r3, [sp, #4]
 10365 03b0 032B     		cmp	r3, #3
 10366 03b2 00F0D280 		beq	.L777
 10367              	.LVL1154:
 10368              	.L736:
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10369              		.loc 1 4351 2 is_stmt 1 view .LVU3532
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10370              		.loc 1 4352 3 view .LVU3533
 10371 03b6 5246     		mov	r2, r10
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10372              		.loc 1 4352 7 is_stmt 0 view .LVU3534
 10373 03b8 0123     		movs	r3, #1
 10374 03ba 9A44     		add	r10, r10, r3
 10375              	.LVL1155:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10376              		.loc 1 4352 7 view .LVU3535
 10377 03bc 3946     		mov	r1, r7
 10378 03be 2046     		mov	r0, r4
 10379 03c0 FFF7FEFF 		bl	disk_write
 10380              	.LVL1156:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10381              		.loc 1 4352 6 discriminator 1 view .LVU3536
 10382 03c4 0028     		cmp	r0, #0
 10383 03c6 40F02B81 		bne	.L765
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10384              		.loc 1 4354 11 is_stmt 1 view .LVU3537
 10385              	.LVL1157:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10386              		.loc 1 4354 11 is_stmt 0 view .LVU3538
 10387 03ca B9F10109 		subs	r9, r9, #1
 10388              	.LVL1158:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10389              		.loc 1 4354 11 view .LVU3539
 10390 03ce F2D1     		bne	.L736
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10391              		.loc 1 4364 2 is_stmt 1 view .LVU3540
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10392              		.loc 1 4364 5 is_stmt 0 view .LVU3541
 10393 03d0 019B     		ldr	r3, [sp, #4]
 10394 03d2 032B     		cmp	r3, #3
 10395 03d4 00F0C380 		beq	.L778
 10396              	.L737:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccc896J6.s 			page 315


 10397              		.loc 1 4374 2 is_stmt 1 view .LVU3542
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10398              		.loc 1 4374 10 is_stmt 0 view .LVU3543
 10399 03d8 0022     		movs	r2, #0
 10400 03da 1146     		mov	r1, r2
 10401 03dc 2046     		mov	r0, r4
 10402 03de FFF7FEFF 		bl	disk_ioctl
 10403              	.LVL1159:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10404              		.loc 1 4374 60 discriminator 1 view .LVU3544
 10405 03e2 0038     		subs	r0, r0, #0
 10406 03e4 18BF     		it	ne
 10407 03e6 0120     		movne	r0, #1
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10408              		.loc 1 4374 60 view .LVU3545
 10409 03e8 FBE0     		b	.L701
 10410              	.LVL1160:
 10411              	.L774:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10412              		.loc 1 4292 28 discriminator 1 view .LVU3546
 10413 03ea 0023     		movs	r3, #0
 10414 03ec 89E7     		b	.L722
 10415              	.LVL1161:
 10416              	.L723:
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10417              		.loc 1 4297 3 is_stmt 1 view .LVU3547
 10418 03ee 87F82030 		strb	r3, [r7, #32]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10419              		.loc 1 4297 3 view .LVU3548
 10420 03f2 C3F30722 		ubfx	r2, r3, #8, #8
 10421 03f6 87F82120 		strb	r2, [r7, #33]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10422              		.loc 1 4297 3 view .LVU3549
 10423 03fa C3F30742 		ubfx	r2, r3, #16, #8
 10424 03fe 87F82220 		strb	r2, [r7, #34]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10425              		.loc 1 4297 3 view .LVU3550
 10426 0402 1B0E     		lsrs	r3, r3, #24
 10427 0404 87F82330 		strb	r3, [r7, #35]
 10428 0408 87E7     		b	.L724
 10429              	.L775:
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10430              		.loc 1 4305 3 view .LVU3551
 10431 040a 87F84300 		strb	r0, [r7, #67]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10432              		.loc 1 4305 3 view .LVU3552
 10433 040e C0F30723 		ubfx	r3, r0, #8, #8
 10434 0412 87F84430 		strb	r3, [r7, #68]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10435              		.loc 1 4305 3 view .LVU3553
 10436 0416 C0F30743 		ubfx	r3, r0, #16, #8
 10437 041a 87F84530 		strb	r3, [r7, #69]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10438              		.loc 1 4305 3 view .LVU3554
 10439 041e 000E     		lsrs	r0, r0, #24
 10440 0420 87F84600 		strb	r0, [r7, #70]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
ARM GAS  /tmp/ccc896J6.s 			page 316


 10441              		.loc 1 4306 3 view .LVU3555
 10442 0424 87F82480 		strb	r8, [r7, #36]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10443              		.loc 1 4306 3 view .LVU3556
 10444 0428 C8F30723 		ubfx	r3, r8, #8, #8
 10445 042c 87F82530 		strb	r3, [r7, #37]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10446              		.loc 1 4306 3 view .LVU3557
 10447 0430 C8F30743 		ubfx	r3, r8, #16, #8
 10448 0434 87F82630 		strb	r3, [r7, #38]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10449              		.loc 1 4306 3 view .LVU3558
 10450 0438 4FEA1863 		lsr	r3, r8, #24
 10451 043c 87F82730 		strb	r3, [r7, #39]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10452              		.loc 1 4307 3 view .LVU3559
 10453 0440 0223     		movs	r3, #2
 10454 0442 87F82C30 		strb	r3, [r7, #44]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10455              		.loc 1 4307 3 view .LVU3560
 10456 0446 0023     		movs	r3, #0
 10457 0448 87F82D30 		strb	r3, [r7, #45]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10458              		.loc 1 4307 3 view .LVU3561
 10459 044c 87F82E30 		strb	r3, [r7, #46]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10460              		.loc 1 4307 3 view .LVU3562
 10461 0450 87F82F30 		strb	r3, [r7, #47]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10462              		.loc 1 4308 3 view .LVU3563
 10463 0454 0122     		movs	r2, #1
 10464 0456 87F83020 		strb	r2, [r7, #48]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10465              		.loc 1 4308 3 view .LVU3564
 10466 045a 87F83130 		strb	r3, [r7, #49]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10467              		.loc 1 4309 3 view .LVU3565
 10468 045e 0622     		movs	r2, #6
 10469 0460 87F83220 		strb	r2, [r7, #50]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10470              		.loc 1 4309 3 view .LVU3566
 10471 0464 87F83330 		strb	r3, [r7, #51]
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10472              		.loc 1 4310 3 view .LVU3567
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10473              		.loc 1 4310 20 is_stmt 0 view .LVU3568
 10474 0468 8023     		movs	r3, #128
 10475 046a 87F84030 		strb	r3, [r7, #64]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10476              		.loc 1 4311 3 is_stmt 1 view .LVU3569
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10477              		.loc 1 4311 21 is_stmt 0 view .LVU3570
 10478 046e 2923     		movs	r3, #41
 10479 0470 87F84230 		strb	r3, [r7, #66]
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10480              		.loc 1 4312 3 is_stmt 1 view .LVU3571
 10481 0474 1322     		movs	r2, #19
ARM GAS  /tmp/ccc896J6.s 			page 317


 10482 0476 6D49     		ldr	r1, .L783+8
 10483 0478 07F14700 		add	r0, r7, #71
 10484 047c FFF7FEFF 		bl	mem_cpy
 10485              	.LVL1162:
 10486 0480 7EE7     		b	.L726
 10487              	.L776:
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10488              		.loc 1 4324 3 view .LVU3572
 10489 0482 0123     		movs	r3, #1
 10490 0484 029A     		ldr	r2, [sp, #8]
 10491 0486 0632     		adds	r2, r2, #6
 10492 0488 3946     		mov	r1, r7
 10493 048a 2046     		mov	r0, r4
 10494 048c FFF7FEFF 		bl	disk_write
 10495              	.LVL1163:
 10496 0490 88E7     		b	.L727
 10497              	.LVL1164:
 10498              	.L734:
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10499              		.loc 1 4329 3 view .LVU3573
 10500 0492 B7F80A24 		ldrh	r2, [r7, #1034]
 10501 0496 0021     		movs	r1, #0
 10502 0498 3846     		mov	r0, r7
 10503 049a FFF7FEFF 		bl	mem_set
 10504              	.LVL1165:
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10505              		.loc 1 4330 3 view .LVU3574
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10506              		.loc 1 4330 5 is_stmt 0 view .LVU3575
 10507 049e 049B     		ldr	r3, [sp, #16]
 10508 04a0 1A46     		mov	r2, r3
 10509 04a2 0793     		str	r3, [sp, #28]
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10510              		.loc 1 4331 3 is_stmt 1 view .LVU3576
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10511              		.loc 1 4331 6 is_stmt 0 view .LVU3577
 10512 04a4 019B     		ldr	r3, [sp, #4]
 10513 04a6 032B     		cmp	r3, #3
 10514 04a8 38D0     		beq	.L728
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10515              		.loc 1 4332 4 is_stmt 1 view .LVU3578
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10516              		.loc 1 4332 40 is_stmt 0 view .LVU3579
 10517 04aa 012B     		cmp	r3, #1
 10518 04ac 34D0     		beq	.L779
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10519              		.loc 1 4332 40 discriminator 2 view .LVU3580
 10520 04ae 6FF0FF03 		mvn	r3, #255
 10521              	.L729:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10522              		.loc 1 4332 6 discriminator 4 view .LVU3581
 10523 04b2 1343     		orrs	r3, r3, r2
 10524 04b4 0793     		str	r3, [sp, #28]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10525              		.loc 1 4333 4 is_stmt 1 view .LVU3582
 10526 04b6 3B70     		strb	r3, [r7]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
ARM GAS  /tmp/ccc896J6.s 			page 318


 10527              		.loc 1 4333 4 view .LVU3583
 10528 04b8 BDF81C30 		ldrh	r3, [sp, #28]
 10529 04bc 1B0A     		lsrs	r3, r3, #8
 10530 04be 7B70     		strb	r3, [r7, #1]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10531              		.loc 1 4333 4 view .LVU3584
 10532 04c0 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 10533 04c4 BB70     		strb	r3, [r7, #2]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10534              		.loc 1 4333 4 view .LVU3585
 10535 04c6 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 10536 04ca FB70     		strb	r3, [r7, #3]
 10537              	.L730:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10538              		.loc 1 4340 3 view .LVU3586
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10539              		.loc 1 4340 7 is_stmt 0 view .LVU3587
 10540 04cc 0AF10105 		add	r5, r10, #1
 10541              	.LVL1166:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10542              		.loc 1 4340 7 view .LVU3588
 10543 04d0 0123     		movs	r3, #1
 10544 04d2 5246     		mov	r2, r10
 10545 04d4 3946     		mov	r1, r7
 10546 04d6 2046     		mov	r0, r4
 10547 04d8 FFF7FEFF 		bl	disk_write
 10548              	.LVL1167:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10549              		.loc 1 4340 6 discriminator 1 view .LVU3589
 10550 04dc 0028     		cmp	r0, #0
 10551 04de 40F09B80 		bne	.L763
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 10552              		.loc 1 4342 3 is_stmt 1 view .LVU3590
 10553 04e2 B7F80A24 		ldrh	r2, [r7, #1034]
 10554 04e6 0021     		movs	r1, #0
 10555 04e8 3846     		mov	r0, r7
 10556 04ea FFF7FEFF 		bl	mem_set
 10557              	.LVL1168:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10558              		.loc 1 4343 3 view .LVU3591
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10559              		.loc 1 4343 10 is_stmt 0 view .LVU3592
 10560 04ee 0123     		movs	r3, #1
 10561 04f0 0793     		str	r3, [sp, #28]
 10562 04f2 2A46     		mov	r2, r5
 10563              	.LVL1169:
 10564              	.L731:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10565              		.loc 1 4343 17 is_stmt 1 discriminator 1 view .LVU3593
 10566 04f4 079B     		ldr	r3, [sp, #28]
 10567 04f6 9845     		cmp	r8, r3
 10568 04f8 2AD9     		bls	.L780
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10569              		.loc 1 4344 4 view .LVU3594
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10570              		.loc 1 4344 8 is_stmt 0 view .LVU3595
 10571 04fa 02F1010A 		add	r10, r2, #1
ARM GAS  /tmp/ccc896J6.s 			page 319


 10572              	.LVL1170:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10573              		.loc 1 4344 8 view .LVU3596
 10574 04fe 0123     		movs	r3, #1
 10575 0500 3946     		mov	r1, r7
 10576 0502 2046     		mov	r0, r4
 10577 0504 FFF7FEFF 		bl	disk_write
 10578              	.LVL1171:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10579              		.loc 1 4344 7 discriminator 1 view .LVU3597
 10580 0508 0028     		cmp	r0, #0
 10581 050a 40F08780 		bne	.L764
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10582              		.loc 1 4343 27 is_stmt 1 discriminator 2 view .LVU3598
 10583 050e 079B     		ldr	r3, [sp, #28]
 10584 0510 0133     		adds	r3, r3, #1
 10585 0512 0793     		str	r3, [sp, #28]
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10586              		.loc 1 4344 8 is_stmt 0 view .LVU3599
 10587 0514 5246     		mov	r2, r10
 10588 0516 EDE7     		b	.L731
 10589              	.L779:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10590              		.loc 1 4332 40 discriminator 1 view .LVU3600
 10591 0518 454B     		ldr	r3, .L783+12
 10592 051a CAE7     		b	.L729
 10593              	.L728:
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10594              		.loc 1 4335 4 is_stmt 1 view .LVU3601
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10595              		.loc 1 4335 6 is_stmt 0 view .LVU3602
 10596 051c 049B     		ldr	r3, [sp, #16]
 10597 051e 63F0FF03 		orn	r3, r3, #255
 10598 0522 0793     		str	r3, [sp, #28]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10599              		.loc 1 4336 4 is_stmt 1 view .LVU3603
 10600 0524 3B70     		strb	r3, [r7]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10601              		.loc 1 4336 4 view .LVU3604
 10602 0526 BDF81C30 		ldrh	r3, [sp, #28]
 10603 052a 1B0A     		lsrs	r3, r3, #8
 10604 052c 7B70     		strb	r3, [r7, #1]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10605              		.loc 1 4336 4 view .LVU3605
 10606 052e 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 10607 0532 BB70     		strb	r3, [r7, #2]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10608              		.loc 1 4336 4 view .LVU3606
 10609 0534 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 10610 0538 FB70     		strb	r3, [r7, #3]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10611              		.loc 1 4337 4 view .LVU3607
 10612 053a FF23     		movs	r3, #255
 10613 053c 3B71     		strb	r3, [r7, #4]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10614              		.loc 1 4337 4 view .LVU3608
 10615 053e 7B71     		strb	r3, [r7, #5]
ARM GAS  /tmp/ccc896J6.s 			page 320


4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10616              		.loc 1 4337 4 view .LVU3609
 10617 0540 BB71     		strb	r3, [r7, #6]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10618              		.loc 1 4337 4 view .LVU3610
 10619 0542 FB71     		strb	r3, [r7, #7]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10620              		.loc 1 4338 4 view .LVU3611
 10621 0544 3B72     		strb	r3, [r7, #8]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10622              		.loc 1 4338 4 view .LVU3612
 10623 0546 7B72     		strb	r3, [r7, #9]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10624              		.loc 1 4338 4 view .LVU3613
 10625 0548 BB72     		strb	r3, [r7, #10]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10626              		.loc 1 4338 4 view .LVU3614
 10627 054a 0F23     		movs	r3, #15
 10628 054c FB72     		strb	r3, [r7, #11]
 10629 054e BDE7     		b	.L730
 10630              	.LVL1172:
 10631              	.L780:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10632              		.loc 1 4328 27 discriminator 2 view .LVU3615
 10633 0550 039B     		ldr	r3, [sp, #12]
 10634 0552 0133     		adds	r3, r3, #1
 10635 0554 0393     		str	r3, [sp, #12]
 10636              	.LVL1173:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10637              		.loc 1 4328 27 is_stmt 0 discriminator 2 view .LVU3616
 10638 0556 9246     		mov	r10, r2
 10639 0558 26E7     		b	.L733
 10640              	.LVL1174:
 10641              	.L777:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10642              		.loc 1 4350 29 discriminator 1 view .LVU3617
 10643 055a B146     		mov	r9, r6
 10644              	.LVL1175:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10645              		.loc 1 4350 29 discriminator 1 view .LVU3618
 10646 055c 2BE7     		b	.L736
 10647              	.LVL1176:
 10648              	.L778:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10649              		.loc 1 4365 3 is_stmt 1 view .LVU3619
 10650 055e 5223     		movs	r3, #82
 10651 0560 3B70     		strb	r3, [r7]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10652              		.loc 1 4365 3 view .LVU3620
 10653 0562 7B70     		strb	r3, [r7, #1]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10654              		.loc 1 4365 3 view .LVU3621
 10655 0564 6123     		movs	r3, #97
 10656 0566 BB70     		strb	r3, [r7, #2]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10657              		.loc 1 4365 3 view .LVU3622
 10658 0568 4122     		movs	r2, #65
ARM GAS  /tmp/ccc896J6.s 			page 321


 10659 056a FA70     		strb	r2, [r7, #3]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10660              		.loc 1 4366 3 view .LVU3623
 10661 056c 7221     		movs	r1, #114
 10662 056e 87F8E411 		strb	r1, [r7, #484]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10663              		.loc 1 4366 3 view .LVU3624
 10664 0572 87F8E511 		strb	r1, [r7, #485]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10665              		.loc 1 4366 3 view .LVU3625
 10666 0576 87F8E621 		strb	r2, [r7, #486]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10667              		.loc 1 4366 3 view .LVU3626
 10668 057a 87F8E731 		strb	r3, [r7, #487]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10669              		.loc 1 4367 3 view .LVU3627
 10670 057e 0BF1FF33 		add	r3, fp, #-1
 10671 0582 87F8E831 		strb	r3, [r7, #488]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10672              		.loc 1 4367 3 view .LVU3628
 10673 0586 C3F30723 		ubfx	r3, r3, #8, #8
 10674 058a 87F8E931 		strb	r3, [r7, #489]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10675              		.loc 1 4367 3 view .LVU3629
 10676 058e 0BF1FF33 		add	r3, fp, #-1
 10677 0592 C3F30742 		ubfx	r2, r3, #16, #8
 10678 0596 87F8EA21 		strb	r2, [r7, #490]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10679              		.loc 1 4367 3 view .LVU3630
 10680 059a 1B0E     		lsrs	r3, r3, #24
 10681 059c 87F8EB31 		strb	r3, [r7, #491]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10682              		.loc 1 4368 3 view .LVU3631
 10683 05a0 0223     		movs	r3, #2
 10684 05a2 87F8EC31 		strb	r3, [r7, #492]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10685              		.loc 1 4368 3 view .LVU3632
 10686 05a6 0023     		movs	r3, #0
 10687 05a8 87F8ED31 		strb	r3, [r7, #493]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10688              		.loc 1 4368 3 view .LVU3633
 10689 05ac 87F8EE31 		strb	r3, [r7, #494]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10690              		.loc 1 4368 3 view .LVU3634
 10691 05b0 87F8EF31 		strb	r3, [r7, #495]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10692              		.loc 1 4369 3 view .LVU3635
 10693 05b4 5523     		movs	r3, #85
 10694 05b6 87F8FE31 		strb	r3, [r7, #510]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10695              		.loc 1 4369 3 view .LVU3636
 10696 05ba AA23     		movs	r3, #170
 10697 05bc 87F8FF31 		strb	r3, [r7, #511]
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 10698              		.loc 1 4370 3 view .LVU3637
 10699 05c0 0123     		movs	r3, #1
 10700 05c2 029D     		ldr	r5, [sp, #8]
ARM GAS  /tmp/ccc896J6.s 			page 322


 10701 05c4 2A46     		mov	r2, r5
 10702 05c6 1A44     		add	r2, r2, r3
 10703 05c8 3946     		mov	r1, r7
 10704 05ca 2046     		mov	r0, r4
 10705 05cc FFF7FEFF 		bl	disk_write
 10706              	.LVL1177:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10707              		.loc 1 4371 3 view .LVU3638
 10708 05d0 0123     		movs	r3, #1
 10709 05d2 2A46     		mov	r2, r5
 10710 05d4 0732     		adds	r2, r2, #7
 10711 05d6 3946     		mov	r1, r7
 10712 05d8 2046     		mov	r0, r4
 10713 05da FFF7FEFF 		bl	disk_write
 10714              	.LVL1178:
 10715 05de FBE6     		b	.L737
 10716              	.LVL1179:
 10717              	.L738:
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 10718              		.loc 1 4160 22 is_stmt 0 discriminator 1 view .LVU3639
 10719 05e0 1320     		movs	r0, #19
 10720              	.LVL1180:
 10721              	.L701:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10722              		.loc 1 4375 1 view .LVU3640
 10723 05e2 09B0     		add	sp, sp, #36
 10724              	.LCFI105:
 10725              		.cfi_remember_state
 10726              		.cfi_def_cfa_offset 36
 10727              		@ sp needed
 10728 05e4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10729              	.LVL1181:
 10730              	.L739:
 10731              	.LCFI106:
 10732              		.cfi_restore_state
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10733              		.loc 1 4162 22 discriminator 1 view .LVU3641
 10734 05e8 0B20     		movs	r0, #11
 10735              	.LVL1182:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10736              		.loc 1 4162 22 discriminator 1 view .LVU3642
 10737 05ea FAE7     		b	.L701
 10738              	.LVL1183:
 10739              	.L740:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10740              		.loc 1 4164 18 discriminator 1 view .LVU3643
 10741 05ec 0C20     		movs	r0, #12
 10742              	.LVL1184:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10743              		.loc 1 4164 18 discriminator 1 view .LVU3644
 10744 05ee F8E7     		b	.L701
 10745              	.LVL1185:
 10746              	.L741:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10747              		.loc 1 4171 32 discriminator 1 view .LVU3645
 10748 05f0 0320     		movs	r0, #3
 10749              	.LVL1186:
ARM GAS  /tmp/ccc896J6.s 			page 323


4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10750              		.loc 1 4171 32 discriminator 1 view .LVU3646
 10751 05f2 F6E7     		b	.L701
 10752              	.LVL1187:
 10753              	.L742:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10754              		.loc 1 4172 33 discriminator 1 view .LVU3647
 10755 05f4 0A20     		movs	r0, #10
 10756              	.LVL1188:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10757              		.loc 1 4172 33 discriminator 1 view .LVU3648
 10758 05f6 F4E7     		b	.L701
 10759              	.L743:
4175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10760              		.loc 1 4175 10 view .LVU3649
 10761 05f8 0120     		movs	r0, #1
 10762 05fa F2E7     		b	.L701
 10763              	.L744:
 10764 05fc 0120     		movs	r0, #1
 10765 05fe F0E7     		b	.L701
 10766              	.L746:
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
 10767              		.loc 1 4188 11 view .LVU3650
 10768 0600 0120     		movs	r0, #1
 10769 0602 EEE7     		b	.L701
 10770              	.L747:
 10771 0604 0120     		movs	r0, #1
 10772 0606 ECE7     		b	.L701
 10773              	.LVL1189:
 10774              	.L753:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10775              		.loc 1 4223 42 discriminator 1 view .LVU3651
 10776 0608 0E20     		movs	r0, #14
 10777 060a EAE7     		b	.L701
 10778              	.LVL1190:
 10779              	.L755:
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10780              		.loc 1 4240 10 view .LVU3652
 10781 060c 0E20     		movs	r0, #14
 10782 060e E8E7     		b	.L701
 10783              	.LVL1191:
 10784              	.L759:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
 10785              		.loc 1 4278 12 view .LVU3653
 10786 0610 0120     		movs	r0, #1
 10787 0612 E6E7     		b	.L701
 10788              	.LVL1192:
 10789              	.L761:
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
 10790              		.loc 1 4322 10 view .LVU3654
 10791 0614 0120     		movs	r0, #1
 10792 0616 E4E7     		b	.L701
 10793              	.LVL1193:
 10794              	.L763:
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
 10795              		.loc 1 4341 11 view .LVU3655
 10796 0618 0120     		movs	r0, #1
ARM GAS  /tmp/ccc896J6.s 			page 324


 10797 061a E2E7     		b	.L701
 10798              	.LVL1194:
 10799              	.L764:
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10800              		.loc 1 4345 12 view .LVU3656
 10801 061c 0120     		movs	r0, #1
 10802 061e E0E7     		b	.L701
 10803              	.LVL1195:
 10804              	.L765:
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
 10805              		.loc 1 4353 11 view .LVU3657
 10806 0620 0120     		movs	r0, #1
 10807 0622 DEE7     		b	.L701
 10808              	.L784:
 10809              		.align	2
 10810              	.L783:
 10811 0624 00000000 		.word	.LC1
 10812 0628 20000000 		.word	.LC3
 10813 062c 0C000000 		.word	.LC2
 10814 0630 00FFFF00 		.word	16776960
 10815              		.cfi_endproc
 10816              	.LFE117:
 10818              		.section	.text.f_gets,"ax",%progbits
 10819              		.align	1
 10820              		.global	f_gets
 10821              		.syntax unified
 10822              		.thumb
 10823              		.thumb_func
 10825              	f_gets:
 10826              	.LVL1196:
 10827              	.LFB118:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10828              		.loc 1 4462 1 is_stmt 1 view -0
 10829              		.cfi_startproc
 10830              		@ args = 0, pretend = 0, frame = 8
 10831              		@ frame_needed = 0, uses_anonymous_args = 0
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10832              		.loc 1 4462 1 is_stmt 0 view .LVU3659
 10833 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 10834              	.LCFI107:
 10835              		.cfi_def_cfa_offset 24
 10836              		.cfi_offset 4, -24
 10837              		.cfi_offset 5, -20
 10838              		.cfi_offset 6, -16
 10839              		.cfi_offset 7, -12
 10840              		.cfi_offset 8, -8
 10841              		.cfi_offset 14, -4
 10842 0004 82B0     		sub	sp, sp, #8
 10843              	.LCFI108:
 10844              		.cfi_def_cfa_offset 32
 10845 0006 8046     		mov	r8, r0
 10846 0008 0E46     		mov	r6, r1
 10847 000a 1746     		mov	r7, r2
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10848              		.loc 1 4463 2 is_stmt 1 view .LVU3660
 10849              	.LVL1197:
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
ARM GAS  /tmp/ccc896J6.s 			page 325


 10850              		.loc 1 4464 2 view .LVU3661
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 10851              		.loc 1 4465 2 view .LVU3662
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10852              		.loc 1 4466 2 view .LVU3663
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10853              		.loc 1 4469 2 view .LVU3664
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 10854              		.loc 1 4464 12 is_stmt 0 view .LVU3665
 10855 000c 0446     		mov	r4, r0
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10856              		.loc 1 4463 6 view .LVU3666
 10857 000e 0025     		movs	r5, #0
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10858              		.loc 1 4469 8 view .LVU3667
 10859 0010 01E0     		b	.L786
 10860              	.LVL1198:
 10861              	.L791:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10862              		.loc 1 4469 8 view .LVU3668
 10863 0012 A446     		mov	ip, r4
 10864              	.LVL1199:
 10865              	.L788:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10866              		.loc 1 4469 8 view .LVU3669
 10867 0014 6446     		mov	r4, ip
 10868              	.LVL1200:
 10869              	.L786:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10870              		.loc 1 4469 11 is_stmt 1 view .LVU3670
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10871              		.loc 1 4469 17 is_stmt 0 view .LVU3671
 10872 0016 731E     		subs	r3, r6, #1
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10873              		.loc 1 4469 11 view .LVU3672
 10874 0018 AB42     		cmp	r3, r5
 10875 001a 13DD     		ble	.L787
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 10876              		.loc 1 4514 3 is_stmt 1 view .LVU3673
 10877 001c 6B46     		mov	r3, sp
 10878 001e 0122     		movs	r2, #1
 10879 0020 01A9     		add	r1, sp, #4
 10880 0022 3846     		mov	r0, r7
 10881 0024 FFF7FEFF 		bl	f_read
 10882              	.LVL1201:
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10883              		.loc 1 4515 3 view .LVU3674
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10884              		.loc 1 4515 10 is_stmt 0 view .LVU3675
 10885 0028 009B     		ldr	r3, [sp]
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10886              		.loc 1 4515 6 view .LVU3676
 10887 002a 012B     		cmp	r3, #1
 10888 002c 0AD1     		bne	.L787
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10889              		.loc 1 4516 3 is_stmt 1 view .LVU3677
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccc896J6.s 			page 326


 10890              		.loc 1 4516 5 is_stmt 0 view .LVU3678
 10891 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 10892              	.LVL1202:
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 10893              		.loc 1 4518 3 is_stmt 1 view .LVU3679
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 10894              		.loc 1 4518 6 is_stmt 0 view .LVU3680
 10895 0032 0D2B     		cmp	r3, #13
 10896 0034 EDD0     		beq	.L791
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10897              		.loc 1 4519 3 is_stmt 1 view .LVU3681
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10898              		.loc 1 4519 5 is_stmt 0 view .LVU3682
 10899 0036 A446     		mov	ip, r4
 10900              	.LVL1203:
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10901              		.loc 1 4519 8 view .LVU3683
 10902 0038 0CF8013B 		strb	r3, [ip], #1
 10903              	.LVL1204:
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10904              		.loc 1 4520 3 is_stmt 1 view .LVU3684
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10905              		.loc 1 4520 4 is_stmt 0 view .LVU3685
 10906 003c 0135     		adds	r5, r5, #1
 10907              	.LVL1205:
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10908              		.loc 1 4521 3 is_stmt 1 view .LVU3686
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10909              		.loc 1 4521 6 is_stmt 0 view .LVU3687
 10910 003e 0A2B     		cmp	r3, #10
 10911 0040 E8D1     		bne	.L788
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10912              		.loc 1 4519 5 view .LVU3688
 10913 0042 6446     		mov	r4, ip
 10914              	.LVL1206:
 10915              	.L787:
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10916              		.loc 1 4523 2 is_stmt 1 view .LVU3689
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10917              		.loc 1 4523 5 is_stmt 0 view .LVU3690
 10918 0044 0023     		movs	r3, #0
 10919 0046 2370     		strb	r3, [r4]
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10920              		.loc 1 4524 2 is_stmt 1 view .LVU3691
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10921              		.loc 1 4524 18 is_stmt 0 view .LVU3692
 10922 0048 1DB1     		cbz	r5, .L793
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10923              		.loc 1 4524 18 discriminator 1 view .LVU3693
 10924 004a 4046     		mov	r0, r8
 10925              	.L785:
4525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10926              		.loc 1 4525 1 view .LVU3694
 10927 004c 02B0     		add	sp, sp, #8
 10928              	.LCFI109:
 10929              		.cfi_remember_state
 10930              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccc896J6.s 			page 327


 10931              		@ sp needed
 10932 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 10933              	.LVL1207:
 10934              	.L793:
 10935              	.LCFI110:
 10936              		.cfi_restore_state
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10937              		.loc 1 4524 18 discriminator 2 view .LVU3695
 10938 0052 0020     		movs	r0, #0
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10939              		.loc 1 4524 18 view .LVU3696
 10940 0054 FAE7     		b	.L785
 10941              		.cfi_endproc
 10942              	.LFE118:
 10944              		.section	.text.f_putc,"ax",%progbits
 10945              		.align	1
 10946              		.global	f_putc
 10947              		.syntax unified
 10948              		.thumb
 10949              		.thumb_func
 10951              	f_putc:
 10952              	.LVL1208:
 10953              	.LFB120:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 
4598:Middlewares/Third_Party/FatFs/src/ff.c **** 
4599:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
4600:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4602:Middlewares/Third_Party/FatFs/src/ff.c **** )
4603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10954              		.loc 1 4603 1 is_stmt 1 view -0
 10955              		.cfi_startproc
 10956              		@ args = 0, pretend = 0, frame = 80
 10957              		@ frame_needed = 0, uses_anonymous_args = 0
 10958              		.loc 1 4603 1 is_stmt 0 view .LVU3698
 10959 0000 00B5     		push	{lr}
 10960              	.LCFI111:
 10961              		.cfi_def_cfa_offset 4
 10962              		.cfi_offset 14, -4
 10963 0002 95B0     		sub	sp, sp, #84
 10964              	.LCFI112:
 10965              		.cfi_def_cfa_offset 88
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10966              		.loc 1 4604 2 is_stmt 1 view .LVU3699
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 10967              		.loc 1 4605 2 view .LVU3700
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
 10968              		.loc 1 4608 2 view .LVU3701
 10969              		.loc 1 4608 8 is_stmt 0 view .LVU3702
 10970 0004 0191     		str	r1, [sp, #4]
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10971              		.loc 1 4609 2 is_stmt 1 view .LVU3703
 10972              		.loc 1 4609 19 is_stmt 0 view .LVU3704
 10973 0006 0023     		movs	r3, #0
ARM GAS  /tmp/ccc896J6.s 			page 328


 10974 0008 0293     		str	r3, [sp, #8]
 10975              		.loc 1 4609 10 view .LVU3705
 10976 000a 0393     		str	r3, [sp, #12]
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put a character */
 10977              		.loc 1 4611 2 is_stmt 1 view .LVU3706
 10978 000c 0146     		mov	r1, r0
 10979              	.LVL1209:
 10980              		.loc 1 4611 2 is_stmt 0 view .LVU3707
 10981 000e 01A8     		add	r0, sp, #4
 10982              	.LVL1210:
 10983              		.loc 1 4611 2 view .LVU3708
 10984 0010 FFF7FEFF 		bl	putc_bfd
 10985              	.LVL1211:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0	/* Flush buffered characters to the file */
 10986              		.loc 1 4613 2 is_stmt 1 view .LVU3709
 10987              		.loc 1 4613 11 is_stmt 0 view .LVU3710
 10988 0014 029A     		ldr	r2, [sp, #8]
 10989              		.loc 1 4613 5 view .LVU3711
 10990 0016 002A     		cmp	r2, #0
 10991 0018 0DDB     		blt	.L797
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 10992              		.loc 1 4614 6 view .LVU3712
 10993 001a 6B46     		mov	r3, sp
 10994 001c 04A9     		add	r1, sp, #16
 10995 001e 0198     		ldr	r0, [sp, #4]
 10996 0020 FFF7FEFF 		bl	f_write
 10997              	.LVL1212:
 10998              		.loc 1 4614 3 discriminator 1 view .LVU3713
 10999 0024 50B9     		cbnz	r0, .L798
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11000              		.loc 1 4615 3 view .LVU3714
 11001 0026 029A     		ldr	r2, [sp, #8]
 11002 0028 009B     		ldr	r3, [sp]
 11003 002a 9A42     		cmp	r2, r3
 11004 002c 09D1     		bne	.L799
 11005              		.loc 1 4615 26 is_stmt 1 discriminator 1 view .LVU3715
 11006              		.loc 1 4615 35 is_stmt 0 discriminator 1 view .LVU3716
 11007 002e 0398     		ldr	r0, [sp, #12]
 11008              	.L795:
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4617:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11009              		.loc 1 4617 1 view .LVU3717
 11010 0030 15B0     		add	sp, sp, #84
 11011              	.LCFI113:
 11012              		.cfi_remember_state
 11013              		.cfi_def_cfa_offset 4
 11014              		@ sp needed
 11015 0032 5DF804FB 		ldr	pc, [sp], #4
 11016              	.L797:
 11017              	.LCFI114:
 11018              		.cfi_restore_state
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11019              		.loc 1 4616 9 view .LVU3718
 11020 0036 4FF0FF30 		mov	r0, #-1
 11021 003a F9E7     		b	.L795
ARM GAS  /tmp/ccc896J6.s 			page 329


 11022              	.L798:
 11023 003c 4FF0FF30 		mov	r0, #-1
 11024 0040 F6E7     		b	.L795
 11025              	.L799:
 11026 0042 4FF0FF30 		mov	r0, #-1
 11027 0046 F3E7     		b	.L795
 11028              		.cfi_endproc
 11029              	.LFE120:
 11031              		.section	.text.f_puts,"ax",%progbits
 11032              		.align	1
 11033              		.global	f_puts
 11034              		.syntax unified
 11035              		.thumb
 11036              		.thumb_func
 11038              	f_puts:
 11039              	.LVL1213:
 11040              	.LFB121:
4618:Middlewares/Third_Party/FatFs/src/ff.c **** 
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** 
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 
4622:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4623:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
4624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 
4626:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
4629:Middlewares/Third_Party/FatFs/src/ff.c **** )
4630:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11041              		.loc 1 4630 1 is_stmt 1 view -0
 11042              		.cfi_startproc
 11043              		@ args = 0, pretend = 0, frame = 80
 11044              		@ frame_needed = 0, uses_anonymous_args = 0
 11045              		.loc 1 4630 1 is_stmt 0 view .LVU3720
 11046 0000 10B5     		push	{r4, lr}
 11047              	.LCFI115:
 11048              		.cfi_def_cfa_offset 8
 11049              		.cfi_offset 4, -8
 11050              		.cfi_offset 14, -4
 11051 0002 94B0     		sub	sp, sp, #80
 11052              	.LCFI116:
 11053              		.cfi_def_cfa_offset 88
 11054 0004 0446     		mov	r4, r0
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11055              		.loc 1 4631 2 is_stmt 1 view .LVU3721
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 11056              		.loc 1 4632 2 view .LVU3722
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 11057              		.loc 1 4635 2 view .LVU3723
 11058              		.loc 1 4635 8 is_stmt 0 view .LVU3724
 11059 0006 0191     		str	r1, [sp, #4]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 11060              		.loc 1 4636 2 is_stmt 1 view .LVU3725
 11061              		.loc 1 4636 19 is_stmt 0 view .LVU3726
ARM GAS  /tmp/ccc896J6.s 			page 330


 11062 0008 0023     		movs	r3, #0
 11063 000a 0293     		str	r3, [sp, #8]
 11064              		.loc 1 4636 10 view .LVU3727
 11065 000c 0393     		str	r3, [sp, #12]
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str)			/* Put the string */
 11066              		.loc 1 4638 2 is_stmt 1 view .LVU3728
 11067              		.loc 1 4638 8 is_stmt 0 view .LVU3729
 11068 000e 03E0     		b	.L802
 11069              	.LVL1214:
 11070              	.L803:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11071              		.loc 1 4639 3 is_stmt 1 view .LVU3730
 11072              		.loc 1 4639 21 is_stmt 0 view .LVU3731
 11073 0010 0134     		adds	r4, r4, #1
 11074              	.LVL1215:
 11075              		.loc 1 4639 3 view .LVU3732
 11076 0012 01A8     		add	r0, sp, #4
 11077 0014 FFF7FEFF 		bl	putc_bfd
 11078              	.LVL1216:
 11079              	.L802:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11080              		.loc 1 4638 9 is_stmt 1 view .LVU3733
 11081 0018 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 11082 001a 0029     		cmp	r1, #0
 11083 001c F8D1     		bne	.L803
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 11084              		.loc 1 4641 2 view .LVU3734
 11085              		.loc 1 4641 11 is_stmt 0 view .LVU3735
 11086 001e 029A     		ldr	r2, [sp, #8]
 11087              		.loc 1 4641 5 view .LVU3736
 11088 0020 002A     		cmp	r2, #0
 11089 0022 0CDB     		blt	.L805
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11090              		.loc 1 4642 6 view .LVU3737
 11091 0024 6B46     		mov	r3, sp
 11092 0026 04A9     		add	r1, sp, #16
 11093 0028 0198     		ldr	r0, [sp, #4]
 11094 002a FFF7FEFF 		bl	f_write
 11095              	.LVL1217:
 11096              		.loc 1 4642 3 discriminator 1 view .LVU3738
 11097 002e 48B9     		cbnz	r0, .L806
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11098              		.loc 1 4643 3 view .LVU3739
 11099 0030 029A     		ldr	r2, [sp, #8]
 11100 0032 009B     		ldr	r3, [sp]
 11101 0034 9A42     		cmp	r2, r3
 11102 0036 08D1     		bne	.L807
 11103              		.loc 1 4643 26 is_stmt 1 discriminator 1 view .LVU3740
 11104              		.loc 1 4643 35 is_stmt 0 discriminator 1 view .LVU3741
 11105 0038 0398     		ldr	r0, [sp, #12]
 11106              	.L801:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11107              		.loc 1 4645 1 view .LVU3742
 11108 003a 14B0     		add	sp, sp, #80
ARM GAS  /tmp/ccc896J6.s 			page 331


 11109              	.LCFI117:
 11110              		.cfi_remember_state
 11111              		.cfi_def_cfa_offset 8
 11112              		@ sp needed
 11113 003c 10BD     		pop	{r4, pc}
 11114              	.LVL1218:
 11115              	.L805:
 11116              	.LCFI118:
 11117              		.cfi_restore_state
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11118              		.loc 1 4644 9 view .LVU3743
 11119 003e 4FF0FF30 		mov	r0, #-1
 11120 0042 FAE7     		b	.L801
 11121              	.L806:
 11122 0044 4FF0FF30 		mov	r0, #-1
 11123 0048 F7E7     		b	.L801
 11124              	.L807:
 11125 004a 4FF0FF30 		mov	r0, #-1
 11126 004e F4E7     		b	.L801
 11127              		.cfi_endproc
 11128              	.LFE121:
 11130              		.section	.text.f_printf,"ax",%progbits
 11131              		.align	1
 11132              		.global	f_printf
 11133              		.syntax unified
 11134              		.thumb
 11135              		.thumb_func
 11137              	f_printf:
 11138              	.LVL1219:
 11139              	.LFB122:
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 
4650:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4651:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
4652:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 
4654:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** )
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11140              		.loc 1 4659 1 is_stmt 1 view -0
 11141              		.cfi_startproc
 11142              		@ args = 4, pretend = 12, frame = 104
 11143              		@ frame_needed = 0, uses_anonymous_args = 1
 11144              		.loc 1 4659 1 is_stmt 0 view .LVU3745
 11145 0000 0EB4     		push	{r1, r2, r3}
 11146              	.LCFI119:
 11147              		.cfi_def_cfa_offset 12
 11148              		.cfi_offset 1, -12
 11149              		.cfi_offset 2, -8
 11150              		.cfi_offset 3, -4
 11151 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 11152              	.LCFI120:
ARM GAS  /tmp/ccc896J6.s 			page 332


 11153              		.cfi_def_cfa_offset 44
 11154              		.cfi_offset 4, -44
 11155              		.cfi_offset 5, -40
 11156              		.cfi_offset 6, -36
 11157              		.cfi_offset 7, -32
 11158              		.cfi_offset 8, -28
 11159              		.cfi_offset 9, -24
 11160              		.cfi_offset 10, -20
 11161              		.cfi_offset 14, -16
 11162 0006 9BB0     		sub	sp, sp, #108
 11163              	.LCFI121:
 11164              		.cfi_def_cfa_offset 152
 11165 0008 23AB     		add	r3, sp, #140
 11166 000a 53F8046B 		ldr	r6, [r3], #4
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 11167              		.loc 1 4660 2 is_stmt 1 view .LVU3746
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 11168              		.loc 1 4661 2 view .LVU3747
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw, i, j, w;
 11169              		.loc 1 4662 2 view .LVU3748
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 11170              		.loc 1 4663 2 view .LVU3749
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, s[16], *p;
 11171              		.loc 1 4664 2 view .LVU3750
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11172              		.loc 1 4665 2 view .LVU3751
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 11173              		.loc 1 4668 2 view .LVU3752
 11174              		.loc 1 4668 8 is_stmt 0 view .LVU3753
 11175 000e 0190     		str	r0, [sp, #4]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 11176              		.loc 1 4669 2 is_stmt 1 view .LVU3754
 11177              		.loc 1 4669 19 is_stmt 0 view .LVU3755
 11178 0010 0022     		movs	r2, #0
 11179 0012 0292     		str	r2, [sp, #8]
 11180              		.loc 1 4669 10 view .LVU3756
 11181 0014 0392     		str	r2, [sp, #12]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 11182              		.loc 1 4671 2 is_stmt 1 view .LVU3757
 11183 0016 1993     		str	r3, [sp, #100]
 11184 0018 8AE0     		b	.L810
 11185              	.LVL1220:
 11186              	.L812:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4679:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 11187              		.loc 1 4680 3 view .LVU3758
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
ARM GAS  /tmp/ccc896J6.s 			page 333


 11188              		.loc 1 4681 3 view .LVU3759
 11189              		.loc 1 4681 11 is_stmt 0 view .LVU3760
 11190 001a B31C     		adds	r3, r6, #2
 11191              	.LVL1221:
 11192              		.loc 1 4681 5 view .LVU3761
 11193 001c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 11194              	.LVL1222:
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 11195              		.loc 1 4682 3 is_stmt 1 view .LVU3762
 11196              		.loc 1 4682 6 is_stmt 0 view .LVU3763
 11197 001e 3029     		cmp	r1, #48
 11198 0020 04D0     		beq	.L866
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 11199              		.loc 1 4685 4 is_stmt 1 view .LVU3764
 11200              		.loc 1 4685 7 is_stmt 0 view .LVU3765
 11201 0022 2D29     		cmp	r1, #45
 11202 0024 06D0     		beq	.L867
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11203              		.loc 1 4680 9 view .LVU3766
 11204 0026 0025     		movs	r5, #0
 11205              	.LVL1223:
 11206              	.L815:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11207              		.loc 1 4683 6 view .LVU3767
 11208 0028 0024     		movs	r4, #0
 11209 002a 0EE0     		b	.L816
 11210              	.LVL1224:
 11211              	.L866:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11212              		.loc 1 4683 4 is_stmt 1 view .LVU3768
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11213              		.loc 1 4683 11 view .LVU3769
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11214              		.loc 1 4683 19 is_stmt 0 view .LVU3770
 11215 002c F31C     		adds	r3, r6, #3
 11216              	.LVL1225:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11217              		.loc 1 4683 13 view .LVU3771
 11218 002e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11219              	.LVL1226:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11220              		.loc 1 4683 6 view .LVU3772
 11221 0030 0125     		movs	r5, #1
 11222 0032 F9E7     		b	.L815
 11223              	.LVL1227:
 11224              	.L867:
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11225              		.loc 1 4686 5 is_stmt 1 view .LVU3773
 11226              		.loc 1 4686 12 view .LVU3774
 11227              		.loc 1 4686 20 is_stmt 0 view .LVU3775
 11228 0034 F31C     		adds	r3, r6, #3
 11229              	.LVL1228:
 11230              		.loc 1 4686 14 view .LVU3776
 11231 0036 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11232              	.LVL1229:
ARM GAS  /tmp/ccc896J6.s 			page 334


 11233              		.loc 1 4686 7 view .LVU3777
 11234 0038 0225     		movs	r5, #2
 11235 003a F5E7     		b	.L815
 11236              	.LVL1230:
 11237              	.L817:
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11238              		.loc 1 4690 4 is_stmt 1 view .LVU3778
 11239              		.loc 1 4690 10 is_stmt 0 view .LVU3779
 11240 003c 04EB8404 		add	r4, r4, r4, lsl #2
 11241              	.LVL1231:
 11242              		.loc 1 4690 15 view .LVU3780
 11243 0040 01EB4404 		add	r4, r1, r4, lsl #1
 11244              		.loc 1 4690 6 view .LVU3781
 11245 0044 303C     		subs	r4, r4, #48
 11246              	.LVL1232:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11247              		.loc 1 4691 4 is_stmt 1 view .LVU3782
 11248              		.loc 1 4691 6 is_stmt 0 view .LVU3783
 11249 0046 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
 11250              	.LVL1233:
 11251              	.L816:
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11252              		.loc 1 4689 10 is_stmt 1 view .LVU3784
 11253 004a A1F13002 		sub	r2, r1, #48
 11254 004e D2B2     		uxtb	r2, r2
 11255 0050 092A     		cmp	r2, #9
 11256 0052 F3D9     		bls	.L817
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11257              		.loc 1 4693 3 view .LVU3785
 11258              		.loc 1 4693 6 is_stmt 0 view .LVU3786
 11259 0054 6C29     		cmp	r1, #108
 11260 0056 03D0     		beq	.L818
 11261              		.loc 1 4693 16 discriminator 1 view .LVU3787
 11262 0058 4C29     		cmp	r1, #76
 11263 005a 01D0     		beq	.L818
 11264 005c 1E46     		mov	r6, r3
 11265 005e 04E0     		b	.L819
 11266              	.L818:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11267              		.loc 1 4694 4 is_stmt 1 view .LVU3788
 11268              		.loc 1 4694 6 is_stmt 0 view .LVU3789
 11269 0060 45F00405 		orr	r5, r5, #4
 11270              	.LVL1234:
 11271              		.loc 1 4694 12 is_stmt 1 view .LVU3790
 11272              		.loc 1 4694 20 is_stmt 0 view .LVU3791
 11273 0064 1E46     		mov	r6, r3
 11274              	.LVL1235:
 11275              		.loc 1 4694 14 view .LVU3792
 11276 0066 16F8011B 		ldrb	r1, [r6], #1	@ zero_extendqisi2
 11277              	.LVL1236:
 11278              	.L819:
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
ARM GAS  /tmp/ccc896J6.s 			page 335


 11279              		.loc 1 4696 3 is_stmt 1 view .LVU3793
 11280              		.loc 1 4696 6 is_stmt 0 view .LVU3794
 11281 006a 0029     		cmp	r1, #0
 11282 006c 00F0D980 		beq	.L811
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11283              		.loc 1 4697 3 is_stmt 1 view .LVU3795
 11284              	.LVL1237:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11285              		.loc 1 4698 3 view .LVU3796
 11286              		.loc 1 4698 7 is_stmt 0 view .LVU3797
 11287 0070 A1F16103 		sub	r3, r1, #97
 11288 0074 DBB2     		uxtb	r3, r3
 11289              		.loc 1 4698 6 view .LVU3798
 11290 0076 192B     		cmp	r3, #25
 11291 0078 14D8     		bhi	.L857
 11292              		.loc 1 4698 19 is_stmt 1 discriminator 1 view .LVU3799
 11293              		.loc 1 4698 21 is_stmt 0 discriminator 1 view .LVU3800
 11294 007a A1F12003 		sub	r3, r1, #32
 11295 007e DBB2     		uxtb	r3, r3
 11296              	.LVL1238:
 11297              	.L820:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11298              		.loc 1 4699 3 is_stmt 1 view .LVU3801
 11299 0080 A3F14202 		sub	r2, r3, #66
 11300 0084 162A     		cmp	r2, #22
 11301 0086 50D8     		bhi	.L821
 11302 0088 DFE802F0 		tbb	[pc, r2]
 11303              	.L823:
 11304 008c 5F       		.byte	(.L828-.L823)/2
 11305 008d 38       		.byte	(.L827-.L823)/2
 11306 008e 40       		.byte	(.L824-.L823)/2
 11307 008f 4F       		.byte	(.L821-.L823)/2
 11308 0090 4F       		.byte	(.L821-.L823)/2
 11309 0091 4F       		.byte	(.L821-.L823)/2
 11310 0092 4F       		.byte	(.L821-.L823)/2
 11311 0093 4F       		.byte	(.L821-.L823)/2
 11312 0094 4F       		.byte	(.L821-.L823)/2
 11313 0095 4F       		.byte	(.L821-.L823)/2
 11314 0096 4F       		.byte	(.L821-.L823)/2
 11315 0097 4F       		.byte	(.L821-.L823)/2
 11316 0098 4F       		.byte	(.L821-.L823)/2
 11317 0099 61       		.byte	(.L858-.L823)/2
 11318 009a 4F       		.byte	(.L821-.L823)/2
 11319 009b 4F       		.byte	(.L821-.L823)/2
 11320 009c 4F       		.byte	(.L821-.L823)/2
 11321 009d 0E       		.byte	(.L825-.L823)/2
 11322 009e 4F       		.byte	(.L821-.L823)/2
 11323 009f 40       		.byte	(.L824-.L823)/2
 11324 00a0 4F       		.byte	(.L821-.L823)/2
 11325 00a1 4F       		.byte	(.L821-.L823)/2
 11326 00a2 4D       		.byte	(.L822-.L823)/2
 11327              	.LVL1239:
 11328 00a3 00       		.p2align 1
 11329              	.L857:
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11330              		.loc 1 4697 5 is_stmt 0 view .LVU3802
 11331 00a4 0B46     		mov	r3, r1
ARM GAS  /tmp/ccc896J6.s 			page 336


 11332 00a6 EBE7     		b	.L820
 11333              	.LVL1240:
 11334              	.L825:
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11335              		.loc 1 4701 4 is_stmt 1 view .LVU3803
 11336              		.loc 1 4701 6 is_stmt 0 view .LVU3804
 11337 00a8 199B     		ldr	r3, [sp, #100]
 11338              	.LVL1241:
 11339              		.loc 1 4701 6 view .LVU3805
 11340 00aa 1A1D     		adds	r2, r3, #4
 11341              	.LVL1242:
 11342              		.loc 1 4701 6 view .LVU3806
 11343 00ac 1992     		str	r2, [sp, #100]
 11344 00ae D3F80080 		ldr	r8, [r3]
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11345              		.loc 1 4702 4 is_stmt 1 view .LVU3807
 11346              	.LVL1243:
 11347              		.loc 1 4702 11 is_stmt 0 view .LVU3808
 11348 00b2 0027     		movs	r7, #0
 11349              	.LVL1244:
 11350              	.L829:
 11351              		.loc 1 4702 16 is_stmt 1 discriminator 1 view .LVU3809
 11352              		.loc 1 4702 17 is_stmt 0 discriminator 1 view .LVU3810
 11353 00b4 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 11354              		.loc 1 4702 16 discriminator 1 view .LVU3811
 11355 00b8 0BB1     		cbz	r3, .L868
 11356              		.loc 1 4702 23 is_stmt 1 discriminator 3 view .LVU3812
 11357 00ba 0137     		adds	r7, r7, #1
 11358              	.LVL1245:
 11359              		.loc 1 4702 23 is_stmt 0 discriminator 3 view .LVU3813
 11360 00bc FAE7     		b	.L829
 11361              	.LVL1246:
 11362              	.L868:
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11363              		.loc 1 4703 4 is_stmt 1 view .LVU3814
 11364              		.loc 1 4703 7 is_stmt 0 view .LVU3815
 11365 00be 15F0020F 		tst	r5, #2
 11366 00c2 0DD0     		beq	.L831
 11367              	.LVL1247:
 11368              	.L834:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 11369              		.loc 1 4706 11 is_stmt 1 discriminator 1 view .LVU3816
 11370 00c4 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 11371 00c8 79B1     		cbz	r1, .L836
 11372              		.loc 1 4706 15 discriminator 2 view .LVU3817
 11373              		.loc 1 4706 31 is_stmt 0 discriminator 2 view .LVU3818
 11374 00ca 08F10108 		add	r8, r8, #1
 11375              	.LVL1248:
 11376              		.loc 1 4706 15 discriminator 2 view .LVU3819
 11377 00ce 01A8     		add	r0, sp, #4
 11378 00d0 FFF7FEFF 		bl	putc_bfd
 11379              	.LVL1249:
 11380 00d4 F6E7     		b	.L834
 11381              	.LVL1250:
ARM GAS  /tmp/ccc896J6.s 			page 337


 11382              	.L833:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11383              		.loc 1 4704 21 is_stmt 1 discriminator 2 view .LVU3820
 11384 00d6 2021     		movs	r1, #32
 11385 00d8 01A8     		add	r0, sp, #4
 11386 00da FFF7FEFF 		bl	putc_bfd
 11387              	.LVL1251:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11388              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3821
 11389 00de 2F46     		mov	r7, r5
 11390              	.LVL1252:
 11391              	.L831:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11392              		.loc 1 4704 16 is_stmt 1 discriminator 1 view .LVU3822
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11393              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3823
 11394 00e0 7D1C     		adds	r5, r7, #1
 11395              	.LVL1253:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11396              		.loc 1 4704 16 discriminator 1 view .LVU3824
 11397 00e2 A742     		cmp	r7, r4
 11398 00e4 F7D3     		bcc	.L833
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11399              		.loc 1 4704 13 discriminator 1 view .LVU3825
 11400 00e6 2F46     		mov	r7, r5
 11401 00e8 ECE7     		b	.L834
 11402              	.LVL1254:
 11403              	.L836:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 11404              		.loc 1 4707 15 is_stmt 1 discriminator 1 view .LVU3826
 11405              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3827
 11406 00ea 7D1C     		adds	r5, r7, #1
 11407              	.LVL1255:
 11408              		.loc 1 4707 15 discriminator 1 view .LVU3828
 11409 00ec A742     		cmp	r7, r4
 11410 00ee 1FD2     		bcs	.L810
 11411              		.loc 1 4707 20 is_stmt 1 discriminator 2 view .LVU3829
 11412 00f0 2021     		movs	r1, #32
 11413 00f2 01A8     		add	r0, sp, #4
 11414 00f4 FFF7FEFF 		bl	putc_bfd
 11415              	.LVL1256:
 11416              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3830
 11417 00f8 2F46     		mov	r7, r5
 11418 00fa F6E7     		b	.L836
 11419              	.LVL1257:
 11420              	.L827:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 11421              		.loc 1 4710 4 is_stmt 1 view .LVU3831
 11422              		.loc 1 4710 25 is_stmt 0 view .LVU3832
 11423 00fc 199B     		ldr	r3, [sp, #100]
 11424              	.LVL1258:
 11425              		.loc 1 4710 25 view .LVU3833
 11426 00fe 1A1D     		adds	r2, r3, #4
 11427              	.LVL1259:
 11428              		.loc 1 4710 25 view .LVU3834
ARM GAS  /tmp/ccc896J6.s 			page 338


 11429 0100 1992     		str	r2, [sp, #100]
 11430              		.loc 1 4710 4 discriminator 1 view .LVU3835
 11431 0102 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 11432              	.LVL1260:
 11433              		.loc 1 4710 4 discriminator 1 view .LVU3836
 11434 0104 01A8     		add	r0, sp, #4
 11435 0106 FFF7FEFF 		bl	putc_bfd
 11436              	.LVL1261:
 11437              		.loc 1 4710 44 is_stmt 1 discriminator 2 view .LVU3837
 11438              		.loc 1 4710 44 is_stmt 0 view .LVU3838
 11439 010a 11E0     		b	.L810
 11440              	.LVL1262:
 11441              	.L824:
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
4713:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
4715:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 11442              		.loc 1 4717 4 is_stmt 1 view .LVU3839
 11443              		.loc 1 4717 12 view .LVU3840
 11444              		.loc 1 4717 6 is_stmt 0 view .LVU3841
 11445 010c 0A20     		movs	r0, #10
 11446              	.LVL1263:
 11447              	.L826:
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
4720:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 11448              		.loc 1 4725 3 is_stmt 1 view .LVU3842
 11449              		.loc 1 4725 42 is_stmt 0 view .LVU3843
 11450 010e 15F0040F 		tst	r5, #4
 11451 0112 1ED0     		beq	.L838
 11452              		.loc 1 4725 24 discriminator 1 view .LVU3844
 11453 0114 199A     		ldr	r2, [sp, #100]
 11454 0116 171D     		adds	r7, r2, #4
 11455 0118 1997     		str	r7, [sp, #100]
 11456 011a 1268     		ldr	r2, [r2]
 11457              	.LVL1264:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11458              		.loc 1 4726 3 is_stmt 1 view .LVU3845
 11459              		.loc 1 4726 6 is_stmt 0 view .LVU3846
 11460 011c 442B     		cmp	r3, #68
 11461 011e 23D0     		beq	.L839
 11462              	.LVL1265:
 11463              	.L840:
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 11464              		.loc 1 4730 3 is_stmt 1 view .LVU3847
 11465              		.loc 1 4730 5 is_stmt 0 view .LVU3848
ARM GAS  /tmp/ccc896J6.s 			page 339


 11466 0120 4FF0000C 		mov	ip, #0
 11467 0124 36E0     		b	.L845
 11468              	.LVL1266:
 11469              	.L822:
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11470              		.loc 1 4719 4 is_stmt 1 view .LVU3849
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11471              		.loc 1 4719 12 view .LVU3850
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11472              		.loc 1 4719 6 is_stmt 0 view .LVU3851
 11473 0126 1020     		movs	r0, #16
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11474              		.loc 1 4719 12 view .LVU3852
 11475 0128 F1E7     		b	.L826
 11476              	.LVL1267:
 11477              	.L821:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11478              		.loc 1 4721 4 is_stmt 1 view .LVU3853
 11479 012a 01A8     		add	r0, sp, #4
 11480 012c FFF7FEFF 		bl	putc_bfd
 11481              	.LVL1268:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11482              		.loc 1 4721 22 discriminator 1 view .LVU3854
 11483              	.L810:
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11484              		.loc 1 4673 2 view .LVU3855
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11485              		.loc 1 4674 3 view .LVU3856
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11486              		.loc 1 4674 11 is_stmt 0 view .LVU3857
 11487 0130 3446     		mov	r4, r6
 11488              	.LVL1269:
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11489              		.loc 1 4674 5 view .LVU3858
 11490 0132 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 11491              	.LVL1270:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 11492              		.loc 1 4675 3 is_stmt 1 view .LVU3859
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 11493              		.loc 1 4675 6 is_stmt 0 view .LVU3860
 11494 0136 0029     		cmp	r1, #0
 11495 0138 73D0     		beq	.L811
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11496              		.loc 1 4676 3 is_stmt 1 view .LVU3861
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11497              		.loc 1 4676 6 is_stmt 0 view .LVU3862
 11498 013a 2529     		cmp	r1, #37
 11499 013c 3FF46DAF 		beq	.L812
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 11500              		.loc 1 4677 4 is_stmt 1 view .LVU3863
 11501 0140 01A8     		add	r0, sp, #4
 11502 0142 FFF7FEFF 		bl	putc_bfd
 11503              	.LVL1271:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11504              		.loc 1 4678 4 view .LVU3864
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11505              		.loc 1 4674 11 is_stmt 0 view .LVU3865
ARM GAS  /tmp/ccc896J6.s 			page 340


 11506 0146 2646     		mov	r6, r4
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11507              		.loc 1 4678 4 view .LVU3866
 11508 0148 F2E7     		b	.L810
 11509              	.LVL1272:
 11510              	.L828:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 11511              		.loc 1 4699 3 view .LVU3867
 11512 014a 0220     		movs	r0, #2
 11513 014c DFE7     		b	.L826
 11514              	.L858:
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
 11515              		.loc 1 4714 6 view .LVU3868
 11516 014e 0820     		movs	r0, #8
 11517 0150 DDE7     		b	.L826
 11518              	.LVL1273:
 11519              	.L838:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11520              		.loc 1 4725 88 discriminator 2 view .LVU3869
 11521 0152 442B     		cmp	r3, #68
 11522 0154 04D0     		beq	.L869
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11523              		.loc 1 4725 88 discriminator 5 view .LVU3870
 11524 0156 199B     		ldr	r3, [sp, #100]
 11525              	.LVL1274:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11526              		.loc 1 4725 88 discriminator 5 view .LVU3871
 11527 0158 1A1D     		adds	r2, r3, #4
 11528              	.LVL1275:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11529              		.loc 1 4725 88 discriminator 5 view .LVU3872
 11530 015a 1992     		str	r2, [sp, #100]
 11531 015c 1A68     		ldr	r2, [r3]
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11532              		.loc 1 4726 3 is_stmt 1 view .LVU3873
 11533 015e DFE7     		b	.L840
 11534              	.LVL1276:
 11535              	.L869:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11536              		.loc 1 4725 71 is_stmt 0 discriminator 4 view .LVU3874
 11537 0160 199B     		ldr	r3, [sp, #100]
 11538              	.LVL1277:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11539              		.loc 1 4725 71 discriminator 4 view .LVU3875
 11540 0162 1A1D     		adds	r2, r3, #4
 11541              	.LVL1278:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11542              		.loc 1 4725 71 discriminator 4 view .LVU3876
 11543 0164 1992     		str	r2, [sp, #100]
 11544 0166 1A68     		ldr	r2, [r3]
 11545              	.LVL1279:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11546              		.loc 1 4726 3 is_stmt 1 view .LVU3877
 11547              	.L839:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11548              		.loc 1 4726 16 is_stmt 0 discriminator 1 view .LVU3878
 11549 0168 002A     		cmp	r2, #0
ARM GAS  /tmp/ccc896J6.s 			page 341


 11550 016a D9DA     		bge	.L840
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11551              		.loc 1 4727 4 is_stmt 1 view .LVU3879
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11552              		.loc 1 4727 6 is_stmt 0 view .LVU3880
 11553 016c 5242     		rsbs	r2, r2, #0
 11554              	.LVL1280:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11555              		.loc 1 4728 4 is_stmt 1 view .LVU3881
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11556              		.loc 1 4728 6 is_stmt 0 view .LVU3882
 11557 016e 45F00805 		orr	r5, r5, #8
 11558              	.LVL1281:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11559              		.loc 1 4728 6 view .LVU3883
 11560 0172 D5E7     		b	.L840
 11561              	.LVL1282:
 11562              	.L870:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11563              		.loc 1 4733 17 discriminator 2 view .LVU3884
 11564 0174 2727     		movs	r7, #39
 11565              	.L843:
 11566              		.loc 1 4733 17 discriminator 5 view .LVU3885
 11567 0176 3B44     		add	r3, r3, r7
 11568              	.LVL1283:
 11569              		.loc 1 4733 17 discriminator 5 view .LVU3886
 11570 0178 DBB2     		uxtb	r3, r3
 11571              	.L842:
 11572              	.LVL1284:
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11573              		.loc 1 4734 4 is_stmt 1 view .LVU3887
 11574              		.loc 1 4734 7 is_stmt 0 view .LVU3888
 11575 017a 0CF10107 		add	r7, ip, #1
 11576              	.LVL1285:
 11577              		.loc 1 4734 15 view .LVU3889
 11578 017e 3033     		adds	r3, r3, #48
 11579              	.LVL1286:
 11580              		.loc 1 4734 11 view .LVU3890
 11581 0180 0CF16809 		add	r9, ip, #104
 11582 0184 E944     		add	r9, sp, r9
 11583 0186 09F8183C 		strb	r3, [r9, #-24]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof s / sizeof s[0]);
 11584              		.loc 1 4735 14 is_stmt 1 view .LVU3891
 11585 018a C645     		cmp	lr, r8
 11586 018c 10D8     		bhi	.L844
 11587              		.loc 1 4735 14 is_stmt 0 discriminator 1 view .LVU3892
 11588 018e 0F2F     		cmp	r7, #15
 11589 0190 0ED8     		bhi	.L844
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11590              		.loc 1 4734 7 view .LVU3893
 11591 0192 BC46     		mov	ip, r7
 11592              	.LVL1287:
 11593              	.L845:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11594              		.loc 1 4731 3 is_stmt 1 view .LVU3894
ARM GAS  /tmp/ccc896J6.s 			page 342


4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11595              		.loc 1 4732 4 view .LVU3895
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11596              		.loc 1 4732 18 is_stmt 0 view .LVU3896
 11597 0194 8646     		mov	lr, r0
 11598 0196 B2FBF0F7 		udiv	r7, r2, r0
 11599 019a 00FB1723 		mls	r3, r0, r7, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11600              		.loc 1 4732 6 view .LVU3897
 11601 019e DBB2     		uxtb	r3, r3
 11602              	.LVL1288:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11603              		.loc 1 4732 24 is_stmt 1 view .LVU3898
 11604 01a0 9046     		mov	r8, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11605              		.loc 1 4732 26 is_stmt 0 view .LVU3899
 11606 01a2 3A46     		mov	r2, r7
 11607              	.LVL1289:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11608              		.loc 1 4733 4 is_stmt 1 view .LVU3900
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11609              		.loc 1 4733 7 is_stmt 0 view .LVU3901
 11610 01a4 092B     		cmp	r3, #9
 11611 01a6 E8D9     		bls	.L842
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11612              		.loc 1 4733 15 is_stmt 1 discriminator 1 view .LVU3902
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11613              		.loc 1 4733 17 is_stmt 0 discriminator 1 view .LVU3903
 11614 01a8 7829     		cmp	r1, #120
 11615 01aa E3D0     		beq	.L870
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11616              		.loc 1 4733 17 discriminator 3 view .LVU3904
 11617 01ac 0727     		movs	r7, #7
 11618 01ae E2E7     		b	.L843
 11619              	.LVL1290:
 11620              	.L844:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) s[i++] = '-';
 11621              		.loc 1 4736 3 is_stmt 1 view .LVU3905
 11622              		.loc 1 4736 6 is_stmt 0 view .LVU3906
 11623 01b0 15F0080F 		tst	r5, #8
 11624 01b4 08D0     		beq	.L846
 11625              		.loc 1 4736 14 is_stmt 1 discriminator 1 view .LVU3907
 11626              	.LVL1291:
 11627              		.loc 1 4736 21 is_stmt 0 discriminator 1 view .LVU3908
 11628 01b6 07F16803 		add	r3, r7, #104
 11629              	.LVL1292:
 11630              		.loc 1 4736 21 discriminator 1 view .LVU3909
 11631 01ba 0DEB0307 		add	r7, sp, r3
 11632 01be 2D23     		movs	r3, #45
 11633 01c0 07F8183C 		strb	r3, [r7, #-24]
 11634              		.loc 1 4736 17 discriminator 1 view .LVU3910
 11635 01c4 0CF10207 		add	r7, ip, #2
 11636              	.LVL1293:
 11637              	.L846:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11638              		.loc 1 4737 3 is_stmt 1 view .LVU3911
 11639              		.loc 1 4737 10 view .LVU3912
ARM GAS  /tmp/ccc896J6.s 			page 343


 11640              		.loc 1 4737 12 is_stmt 0 view .LVU3913
 11641 01c8 15F0010F 		tst	r5, #1
 11642 01cc 03D0     		beq	.L861
 11643              		.loc 1 4737 12 discriminator 1 view .LVU3914
 11644 01ce 4FF0300A 		mov	r10, #48
 11645              	.L847:
 11646              	.LVL1294:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 11647              		.loc 1 4738 3 is_stmt 1 view .LVU3915
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11648              		.loc 1 4737 5 is_stmt 0 view .LVU3916
 11649 01d2 B846     		mov	r8, r7
 11650              		.loc 1 4738 9 view .LVU3917
 11651 01d4 07E0     		b	.L848
 11652              	.LVL1295:
 11653              	.L861:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11654              		.loc 1 4737 12 discriminator 2 view .LVU3918
 11655 01d6 4FF0200A 		mov	r10, #32
 11656 01da FAE7     		b	.L847
 11657              	.LVL1296:
 11658              	.L850:
 11659              		.loc 1 4738 31 is_stmt 1 discriminator 3 view .LVU3919
 11660 01dc 5146     		mov	r1, r10
 11661 01de 01A8     		add	r0, sp, #4
 11662 01e0 FFF7FEFF 		bl	putc_bfd
 11663              	.LVL1297:
 11664              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3920
 11665 01e4 C846     		mov	r8, r9
 11666              	.LVL1298:
 11667              	.L848:
 11668              		.loc 1 4738 19 is_stmt 1 discriminator 1 view .LVU3921
 11669 01e6 15F0020F 		tst	r5, #2
 11670 01ea 04D1     		bne	.L851
 11671              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3922
 11672 01ec 08F10109 		add	r9, r8, #1
 11673              	.LVL1299:
 11674              		.loc 1 4738 19 discriminator 2 view .LVU3923
 11675 01f0 A045     		cmp	r8, r4
 11676 01f2 F3D3     		bcc	.L850
 11677              		.loc 1 4738 23 discriminator 2 view .LVU3924
 11678 01f4 C846     		mov	r8, r9
 11679              	.LVL1300:
 11680              	.L851:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		do putc_bfd(&pb, s[--i]); while (i);
 11681              		.loc 1 4739 3 is_stmt 1 discriminator 1 view .LVU3925
 11682              		.loc 1 4739 6 discriminator 1 view .LVU3926
 11683 01f6 013F     		subs	r7, r7, #1
 11684              	.LVL1301:
 11685              		.loc 1 4739 6 is_stmt 0 discriminator 1 view .LVU3927
 11686 01f8 07F16803 		add	r3, r7, #104
 11687 01fc 6B44     		add	r3, sp, r3
 11688 01fe 13F8181C 		ldrb	r1, [r3, #-24]	@ zero_extendqisi2
 11689 0202 01A8     		add	r0, sp, #4
 11690 0204 FFF7FEFF 		bl	putc_bfd
 11691              	.LVL1302:
 11692              		.loc 1 4739 36 is_stmt 1 discriminator 1 view .LVU3928
ARM GAS  /tmp/ccc896J6.s 			page 344


 11693 0208 002F     		cmp	r7, #0
 11694 020a F4D1     		bne	.L851
 11695              		.loc 1 4739 36 is_stmt 0 discriminator 1 view .LVU3929
 11696 020c 04E0     		b	.L852
 11697              	.LVL1303:
 11698              	.L853:
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 11699              		.loc 1 4740 19 is_stmt 1 discriminator 2 view .LVU3930
 11700 020e 5146     		mov	r1, r10
 11701 0210 01A8     		add	r0, sp, #4
 11702 0212 FFF7FEFF 		bl	putc_bfd
 11703              	.LVL1304:
 11704              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU3931
 11705 0216 A846     		mov	r8, r5
 11706              	.LVL1305:
 11707              	.L852:
 11708              		.loc 1 4740 14 is_stmt 1 discriminator 1 view .LVU3932
 11709              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU3933
 11710 0218 08F10105 		add	r5, r8, #1
 11711              	.LVL1306:
 11712              		.loc 1 4740 14 discriminator 1 view .LVU3934
 11713 021c A045     		cmp	r8, r4
 11714 021e F6D3     		bcc	.L853
 11715 0220 86E7     		b	.L810
 11716              	.LVL1307:
 11717              	.L811:
4741:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 
4743:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 11718              		.loc 1 4743 2 is_stmt 1 view .LVU3935
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 11719              		.loc 1 4745 2 view .LVU3936
 11720              		.loc 1 4745 11 is_stmt 0 view .LVU3937
 11721 0222 029A     		ldr	r2, [sp, #8]
 11722              		.loc 1 4745 5 view .LVU3938
 11723 0224 002A     		cmp	r2, #0
 11724 0226 0FDB     		blt	.L862
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11725              		.loc 1 4746 6 view .LVU3939
 11726 0228 18AB     		add	r3, sp, #96
 11727 022a 04A9     		add	r1, sp, #16
 11728              	.LVL1308:
 11729              		.loc 1 4746 6 view .LVU3940
 11730 022c 0198     		ldr	r0, [sp, #4]
 11731 022e FFF7FEFF 		bl	f_write
 11732              	.LVL1309:
 11733              		.loc 1 4746 3 discriminator 1 view .LVU3941
 11734 0232 60B9     		cbnz	r0, .L863
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11735              		.loc 1 4747 3 view .LVU3942
 11736 0234 029A     		ldr	r2, [sp, #8]
 11737 0236 189B     		ldr	r3, [sp, #96]
 11738 0238 9A42     		cmp	r2, r3
 11739 023a 0BD1     		bne	.L864
 11740              		.loc 1 4747 26 is_stmt 1 discriminator 1 view .LVU3943
 11741              		.loc 1 4747 35 is_stmt 0 discriminator 1 view .LVU3944
ARM GAS  /tmp/ccc896J6.s 			page 345


 11742 023c 0398     		ldr	r0, [sp, #12]
 11743              	.L809:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11744              		.loc 1 4749 1 view .LVU3945
 11745 023e 1BB0     		add	sp, sp, #108
 11746              	.LCFI122:
 11747              		.cfi_remember_state
 11748              		.cfi_def_cfa_offset 44
 11749              		@ sp needed
 11750 0240 BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 11751              	.LCFI123:
 11752              		.cfi_restore 14
 11753              		.cfi_restore 10
 11754              		.cfi_restore 9
 11755              		.cfi_restore 8
 11756              		.cfi_restore 7
 11757              		.cfi_restore 6
 11758              		.cfi_restore 5
 11759              		.cfi_restore 4
 11760              		.cfi_def_cfa_offset 12
 11761 0244 03B0     		add	sp, sp, #12
 11762              	.LCFI124:
 11763              		.cfi_restore 3
 11764              		.cfi_restore 2
 11765              		.cfi_restore 1
 11766              		.cfi_def_cfa_offset 0
 11767 0246 7047     		bx	lr
 11768              	.LVL1310:
 11769              	.L862:
 11770              	.LCFI125:
 11771              		.cfi_restore_state
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11772              		.loc 1 4748 9 view .LVU3946
 11773 0248 4FF0FF30 		mov	r0, #-1
 11774 024c F7E7     		b	.L809
 11775              	.LVL1311:
 11776              	.L863:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11777              		.loc 1 4748 9 view .LVU3947
 11778 024e 4FF0FF30 		mov	r0, #-1
 11779 0252 F4E7     		b	.L809
 11780              	.L864:
 11781 0254 4FF0FF30 		mov	r0, #-1
 11782 0258 F1E7     		b	.L809
 11783              		.cfi_endproc
 11784              	.LFE122:
 11786              		.section	.rodata.cst.0,"a"
 11787              		.align	2
 11790              	cst.0:
 11791 0000 0080     		.short	-32768
 11792 0002 0040     		.short	16384
 11793 0004 0020     		.short	8192
 11794 0006 0010     		.short	4096
 11795 0008 0008     		.short	2048
 11796 000a 0040     		.short	16384
 11797 000c 0020     		.short	8192
ARM GAS  /tmp/ccc896J6.s 			page 346


 11798 000e 0010     		.short	4096
 11799 0010 0008     		.short	2048
 11800 0012 0004     		.short	1024
 11801 0014 0002     		.short	512
 11802              		.section	.rodata.vst.1,"a"
 11803              		.align	2
 11806              	vst.1:
 11807 0000 0004     		.short	1024
 11808 0002 0002     		.short	512
 11809 0004 0001     		.short	256
 11810 0006 8000     		.short	128
 11811 0008 4000     		.short	64
 11812 000a 2000     		.short	32
 11813 000c 1000     		.short	16
 11814 000e 0800     		.short	8
 11815 0010 0400     		.short	4
 11816 0012 0200     		.short	2
 11817 0014 0000     		.short	0
 11818              		.section	.rodata.ExCvt,"a"
 11819              		.align	2
 11822              	ExCvt:
 11823 0000 809A90B6 		.ascii	"\200\232\220\266\216\267\217\200\322\323\324\330\327"
 11823      8EB78F80 
 11823      D2D3D4D8 
 11823      D7
 11824 000d DE8E8F90 		.ascii	"\336\216\217\220\222\222\342\231\343\352\353Y\231\232"
 11824      9292E299 
 11824      E3EAEB59 
 11824      999A
 11825 001b 9D9C9D9E 		.ascii	"\235\234\235\236\237\265\326\340\351\245\245\246\247"
 11825      9FB5D6E0 
 11825      E9A5A5A6 
 11825      A7
 11826 0028 A8A9AAAB 		.ascii	"\250\251\252\253\254!\256\257\260\261\262\263\264\265"
 11826      AC21AEAF 
 11826      B0B1B2B3 
 11826      B4B5
 11827 0036 B6B7B8B9 		.ascii	"\266\267\270\271\272\273\274\275\276\277\300\301\302"
 11827      BABBBCBD 
 11827      BEBFC0C1 
 11827      C2
 11828 0043 C3C4C5C7 		.ascii	"\303\304\305\307\307\310\311\312\313\314\315\316\317"
 11828      C7C8C9CA 
 11828      CBCCCDCE 
 11828      CF
 11829 0050 D0D1D2D3 		.ascii	"\320\321\322\323\324\325\326\327\330\331\332\333\334"
 11829      D4D5D6D7 
 11829      D8D9DADB 
 11829      DC
 11830 005d DDDEDFE0 		.ascii	"\335\336\337\340\341\342\343\345\345\346\347\347\351"
 11830      E1E2E3E5 
 11830      E5E6E7E7 
 11830      E9
 11831 006a EAEBEDED 		.ascii	"\352\353\355\355\356\357\360\361\362\363\364\365\366"
 11831      EEEFF0F1 
 11831      F2F3F4F5 
 11831      F6
ARM GAS  /tmp/ccc896J6.s 			page 347


 11832 0077 F7F8F9FA 		.ascii	"\367\370\371\372\373\374\375\376\377"
 11832      FBFCFDFE 
 11832      FF
 11833              		.section	.bss.Files,"aw",%nobits
 11834              		.align	2
 11837              	Files:
 11838 0000 00000000 		.space	24
 11838      00000000 
 11838      00000000 
 11838      00000000 
 11838      00000000 
 11839              		.section	.bss.Fsid,"aw",%nobits
 11840              		.align	1
 11843              	Fsid:
 11844 0000 0000     		.space	2
 11845              		.section	.bss.FatFs,"aw",%nobits
 11846              		.align	2
 11849              	FatFs:
 11850 0000 00000000 		.space	4
 11851              		.text
 11852              	.Letext0:
 11853              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 11854              		.file 3 "Middlewares/Third_Party/FatFs/src/ff.h"
 11855              		.file 4 "Middlewares/Third_Party/FatFs/src/diskio.h"
 11856              		.file 5 "/opt/gcc-arm/lib/gcc/arm-none-eabi/14.2.1/include/stdarg.h"
 11857              		.file 6 "<built-in>"
ARM GAS  /tmp/ccc896J6.s 			page 348


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
     /tmp/ccc896J6.s:19     .text.mem_cpy:00000000 $t
     /tmp/ccc896J6.s:24     .text.mem_cpy:00000000 mem_cpy
     /tmp/ccc896J6.s:63     .text.mem_set:00000000 $t
     /tmp/ccc896J6.s:68     .text.mem_set:00000000 mem_set
     /tmp/ccc896J6.s:103    .text.mem_cmp:00000000 $t
     /tmp/ccc896J6.s:108    .text.mem_cmp:00000000 mem_cmp
     /tmp/ccc896J6.s:161    .text.chk_chr:00000000 $t
     /tmp/ccc896J6.s:166    .text.chk_chr:00000000 chk_chr
     /tmp/ccc896J6.s:202    .text.chk_lock:00000000 $t
     /tmp/ccc896J6.s:207    .text.chk_lock:00000000 chk_lock
     /tmp/ccc896J6.s:355    .text.chk_lock:00000088 $d
     /tmp/ccc896J6.s:11837  .bss.Files:00000000 Files
     /tmp/ccc896J6.s:360    .text.enq_lock:00000000 $t
     /tmp/ccc896J6.s:365    .text.enq_lock:00000000 enq_lock
     /tmp/ccc896J6.s:410    .text.enq_lock:00000020 $d
     /tmp/ccc896J6.s:415    .text.inc_lock:00000000 $t
     /tmp/ccc896J6.s:420    .text.inc_lock:00000000 inc_lock
     /tmp/ccc896J6.s:587    .text.inc_lock:000000c8 $d
     /tmp/ccc896J6.s:592    .text.dec_lock:00000000 $t
     /tmp/ccc896J6.s:597    .text.dec_lock:00000000 dec_lock
     /tmp/ccc896J6.s:681    .text.dec_lock:00000048 $d
     /tmp/ccc896J6.s:686    .text.clear_lock:00000000 $t
     /tmp/ccc896J6.s:691    .text.clear_lock:00000000 clear_lock
     /tmp/ccc896J6.s:769    .text.clear_lock:00000040 $d
     /tmp/ccc896J6.s:774    .text.clmt_clust:00000000 $t
     /tmp/ccc896J6.s:779    .text.clmt_clust:00000000 clmt_clust
     /tmp/ccc896J6.s:844    .text.ld_clust:00000000 $t
     /tmp/ccc896J6.s:849    .text.ld_clust:00000000 ld_clust
     /tmp/ccc896J6.s:897    .text.st_clust:00000000 $t
     /tmp/ccc896J6.s:902    .text.st_clust:00000000 st_clust
     /tmp/ccc896J6.s:929    .text.get_fileinfo:00000000 $t
     /tmp/ccc896J6.s:934    .text.get_fileinfo:00000000 get_fileinfo
     /tmp/ccc896J6.s:1076   .rodata.create_name.str1.4:00000000 $d
     /tmp/ccc896J6.s:1080   .text.create_name:00000000 $t
     /tmp/ccc896J6.s:1085   .text.create_name:00000000 create_name
     /tmp/ccc896J6.s:1398   .text.create_name:0000010c $d
     /tmp/ccc896J6.s:11822  .rodata.ExCvt:00000000 ExCvt
     /tmp/ccc896J6.s:1404   .text.get_ldnumber:00000000 $t
     /tmp/ccc896J6.s:1409   .text.get_ldnumber:00000000 get_ldnumber
     /tmp/ccc896J6.s:1521   .text.sync_window:00000000 $t
     /tmp/ccc896J6.s:1526   .text.sync_window:00000000 sync_window
     /tmp/ccc896J6.s:1631   .text.move_window:00000000 $t
     /tmp/ccc896J6.s:1636   .text.move_window:00000000 move_window
     /tmp/ccc896J6.s:1708   .text.check_fs:00000000 $t
     /tmp/ccc896J6.s:1713   .text.check_fs:00000000 check_fs
     /tmp/ccc896J6.s:1802   .text.check_fs:00000088 $d
     /tmp/ccc896J6.s:1808   .text.validate:00000000 $t
     /tmp/ccc896J6.s:1813   .text.validate:00000000 validate
     /tmp/ccc896J6.s:1881   .text.find_volume:00000000 $t
     /tmp/ccc896J6.s:1886   .text.find_volume:00000000 find_volume
     /tmp/ccc896J6.s:2443   .text.find_volume:000002c8 $d
     /tmp/ccc896J6.s:11849  .bss.FatFs:00000000 FatFs
     /tmp/ccc896J6.s:11843  .bss.Fsid:00000000 Fsid
     /tmp/ccc896J6.s:2448   .text.find_volume:000002d0 $t
     /tmp/ccc896J6.s:2657   .text.find_volume:000003d8 $d
ARM GAS  /tmp/ccc896J6.s 			page 349


     /tmp/ccc896J6.s:2664   .text.sync_fs:00000000 $t
     /tmp/ccc896J6.s:2669   .text.sync_fs:00000000 sync_fs
     /tmp/ccc896J6.s:2806   .text.clust2sect:00000000 $t
     /tmp/ccc896J6.s:2812   .text.clust2sect:00000000 clust2sect
     /tmp/ccc896J6.s:2852   .text.get_fat:00000000 $t
     /tmp/ccc896J6.s:2858   .text.get_fat:00000000 get_fat
     /tmp/ccc896J6.s:3123   .text.dir_sdi:00000000 $t
     /tmp/ccc896J6.s:3128   .text.dir_sdi:00000000 dir_sdi
     /tmp/ccc896J6.s:3345   .text.dir_remove:00000000 $t
     /tmp/ccc896J6.s:3350   .text.dir_remove:00000000 dir_remove
     /tmp/ccc896J6.s:3422   .text.put_fat:00000000 $t
     /tmp/ccc896J6.s:3428   .text.put_fat:00000000 put_fat
     /tmp/ccc896J6.s:3722   .text.create_chain:00000000 $t
     /tmp/ccc896J6.s:3727   .text.create_chain:00000000 create_chain
     /tmp/ccc896J6.s:3951   .text.dir_next:00000000 $t
     /tmp/ccc896J6.s:3956   .text.dir_next:00000000 dir_next
     /tmp/ccc896J6.s:4272   .text.dir_find:00000000 $t
     /tmp/ccc896J6.s:4277   .text.dir_find:00000000 dir_find
     /tmp/ccc896J6.s:4374   .text.follow_path:00000000 $t
     /tmp/ccc896J6.s:4379   .text.follow_path:00000000 follow_path
     /tmp/ccc896J6.s:4536   .text.dir_alloc:00000000 $t
     /tmp/ccc896J6.s:4541   .text.dir_alloc:00000000 dir_alloc
     /tmp/ccc896J6.s:4650   .text.dir_register:00000000 $t
     /tmp/ccc896J6.s:4655   .text.dir_register:00000000 dir_register
     /tmp/ccc896J6.s:4727   .text.dir_read:00000000 $t
     /tmp/ccc896J6.s:4732   .text.dir_read:00000000 dir_read
     /tmp/ccc896J6.s:4851   .text.remove_chain:00000000 $t
     /tmp/ccc896J6.s:4856   .text.remove_chain:00000000 remove_chain
     /tmp/ccc896J6.s:4982   .text.f_mount:00000000 $t
     /tmp/ccc896J6.s:4988   .text.f_mount:00000000 f_mount
     /tmp/ccc896J6.s:5104   .text.f_mount:0000005c $d
     /tmp/ccc896J6.s:5109   .text.f_open:00000000 $t
     /tmp/ccc896J6.s:5115   .text.f_open:00000000 f_open
     /tmp/ccc896J6.s:5522   .text.f_read:00000000 $t
     /tmp/ccc896J6.s:5528   .text.f_read:00000000 f_read
     /tmp/ccc896J6.s:5944   .text.f_write:00000000 $t
     /tmp/ccc896J6.s:5950   .text.f_write:00000000 f_write
     /tmp/ccc896J6.s:6422   .text.putc_bfd:00000000 $t
     /tmp/ccc896J6.s:6427   .text.putc_bfd:00000000 putc_bfd
     /tmp/ccc896J6.s:6539   .text.f_sync:00000000 $t
     /tmp/ccc896J6.s:6545   .text.f_sync:00000000 f_sync
     /tmp/ccc896J6.s:6696   .text.f_close:00000000 $t
     /tmp/ccc896J6.s:6702   .text.f_close:00000000 f_close
     /tmp/ccc896J6.s:6759   .text.f_lseek:00000000 $t
     /tmp/ccc896J6.s:6765   .text.f_lseek:00000000 f_lseek
     /tmp/ccc896J6.s:7475   .text.f_opendir:00000000 $t
     /tmp/ccc896J6.s:7481   .text.f_opendir:00000000 f_opendir
     /tmp/ccc896J6.s:7659   .text.f_closedir:00000000 $t
     /tmp/ccc896J6.s:7665   .text.f_closedir:00000000 f_closedir
     /tmp/ccc896J6.s:7718   .text.f_readdir:00000000 $t
     /tmp/ccc896J6.s:7724   .text.f_readdir:00000000 f_readdir
     /tmp/ccc896J6.s:7845   .text.f_stat:00000000 $t
     /tmp/ccc896J6.s:7851   .text.f_stat:00000000 f_stat
     /tmp/ccc896J6.s:7947   .text.f_getfree:00000000 $t
     /tmp/ccc896J6.s:7953   .text.f_getfree:00000000 f_getfree
     /tmp/ccc896J6.s:8233   .text.f_truncate:00000000 $t
     /tmp/ccc896J6.s:8239   .text.f_truncate:00000000 f_truncate
ARM GAS  /tmp/ccc896J6.s 			page 350


     /tmp/ccc896J6.s:8470   .text.f_unlink:00000000 $t
     /tmp/ccc896J6.s:8476   .text.f_unlink:00000000 f_unlink
     /tmp/ccc896J6.s:8698   .text.f_mkdir:00000000 $t
     /tmp/ccc896J6.s:8704   .text.f_mkdir:00000000 f_mkdir
     /tmp/ccc896J6.s:9061   .text.f_chmod:00000000 $t
     /tmp/ccc896J6.s:9067   .text.f_chmod:00000000 f_chmod
     /tmp/ccc896J6.s:9182   .text.f_rename:00000000 $t
     /tmp/ccc896J6.s:9188   .text.f_rename:00000000 f_rename
     /tmp/ccc896J6.s:9474   .text.f_utime:00000000 $t
     /tmp/ccc896J6.s:9480   .text.f_utime:00000000 f_utime
     /tmp/ccc896J6.s:9593   .rodata.f_mkfs.str1.4:00000000 $d
     /tmp/ccc896J6.s:9603   .text.f_mkfs:00000000 $t
     /tmp/ccc896J6.s:9609   .text.f_mkfs:00000000 f_mkfs
     /tmp/ccc896J6.s:10186  .text.f_mkfs:000002b4 $d
     /tmp/ccc896J6.s:11806  .rodata.vst.1:00000000 vst.1
     /tmp/ccc896J6.s:11790  .rodata.cst.0:00000000 cst.0
     /tmp/ccc896J6.s:10193  .text.f_mkfs:000002c4 $t
     /tmp/ccc896J6.s:10811  .text.f_mkfs:00000624 $d
     /tmp/ccc896J6.s:10819  .text.f_gets:00000000 $t
     /tmp/ccc896J6.s:10825  .text.f_gets:00000000 f_gets
     /tmp/ccc896J6.s:10945  .text.f_putc:00000000 $t
     /tmp/ccc896J6.s:10951  .text.f_putc:00000000 f_putc
     /tmp/ccc896J6.s:11032  .text.f_puts:00000000 $t
     /tmp/ccc896J6.s:11038  .text.f_puts:00000000 f_puts
     /tmp/ccc896J6.s:11131  .text.f_printf:00000000 $t
     /tmp/ccc896J6.s:11137  .text.f_printf:00000000 f_printf
     /tmp/ccc896J6.s:11304  .text.f_printf:0000008c $d
     /tmp/ccc896J6.s:11787  .rodata.cst.0:00000000 $d
     /tmp/ccc896J6.s:11803  .rodata.vst.1:00000000 $d
     /tmp/ccc896J6.s:11819  .rodata.ExCvt:00000000 $d
     /tmp/ccc896J6.s:11834  .bss.Files:00000000 $d
     /tmp/ccc896J6.s:11840  .bss.Fsid:00000000 $d
     /tmp/ccc896J6.s:11846  .bss.FatFs:00000000 $d
     /tmp/ccc896J6.s:11328  .text.f_printf:000000a3 $d
     /tmp/ccc896J6.s:11328  .text.f_printf:000000a4 $t

UNDEFINED SYMBOLS
disk_write
disk_read
disk_status
disk_initialize
disk_ioctl
get_fattime
